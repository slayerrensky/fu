[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11268857","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11268857","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11268857,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-11t23:01:23z","updated_at":"2012-12-11t23:01:23z","body":"as far as i can tell the problem is within https://github.com/owncloud/core/blob/eb92c9bd1ba65b840f51c36cba0273c77263d89e/lib/filecache.php#l359\r\n\r\nwhy:\r\nin case  i add or delete a file to the root increasesize() will be called with $path == '/'.\r\n\r\nfrom my understanding the if statement in l359 has to be removed."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11268972","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11268972","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11268972,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2012-12-11t23:04:37z","updated_at":"2012-12-11t23:04:37z","body":"hmm, interesting for me it worked when uploading to the root folder even before this patch only uploading to a sub folder didn't update the size for me correctly.\r\n\r\ni think removing the if statement (except the mimetype part) makes sense though"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11269241","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11269241","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11269241,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-11t23:11:50z","updated_at":"2012-12-11t23:11:50z","body":"i'm about to write a unit test to catch the situation"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11280483","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11280483","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11280483,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-12t08:25:56z","updated_at":"2012-12-12t08:26:09z","body":"holy shxx - how can we write unit tests for oc_filesystem?\r\nall i want to test is:\r\n```\r\n\t\t// folder is empty\r\n\t\t$item = oc_filecache_cached::get('');\r\n\t\tvar_dump($item);\r\n\t\t$this->assertequal(0, $item['size']);\r\n\r\n\t\toc_filesystem::file_put_contents('/foo', 'foo');\r\n\r\n\t\t$item = oc_filecache_cached::get('/');\r\n\t\t$this->assertequal(3, $item['size']);\r\n\r\n\t\toc_files::delete('/', 'foo');\r\n\t\t$item = oc_filecache_cached::get('/');\r\n\t\t$this->assertequal(0, $item['size']);\r\n```\r\n\r\n\r\n@icewind1991\r\nplease reveal the magic! thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11293520","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11293520","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11293520,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2012-12-12t15:34:00z","updated_at":"2012-12-12t15:34:00z","body":"@deepdiver1975 yeah writing filesystem test cases for 4.5 is a pain"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11294580","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11294580","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11294580,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-12t15:53:33z","updated_at":"2012-12-12t15:53:33z","body":"this solves the backend issue of #784 - thx robin\r\n:+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11294821","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11294821","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11294821,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2012-12-12t15:57:21z","updated_at":"2012-12-12t15:57:21z","body":"yeeehaa. this is an important bugfix. thanks a lot for that."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11295205","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11295205","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11295205,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-12t16:05:12z","updated_at":"2012-12-12t16:05:12z","body":"@karlitschek can we count this as a :thumbsup: ? ;-)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11295278","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11295278","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11295278,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2012-12-12t16:06:58z","updated_at":"2012-12-12t16:06:58z","body":"@deepdiver1975 unfortunately not. i don't know this code good enough."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11393161","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11393161","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11393161,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-14t21:32:53z","updated_at":"2012-12-14t21:32:53z","body":"we need reviewer/testers here!\r\n@bartv2 @blizzz @butonic can you please have a look? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11393786","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11393786","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11393786,"user":{"login":"meefik","id":1306682,"avatar_url":"https://gravatar.com/avatar/460dcd88ac4a0088b561166e395aa29f?d=https%3a%2f%2fidenticons.github.com%2f385c6668ed840ad400d3eace51b33f81.png&r=x","gravatar_id":"460dcd88ac4a0088b561166e395aa29f","url":"https://api.github.com/users/meefik","html_url":"https://github.com/meefik","followers_url":"https://api.github.com/users/meefik/followers","following_url":"https://api.github.com/users/meefik/following{/other_user}","gists_url":"https://api.github.com/users/meefik/gists{/gist_id}","starred_url":"https://api.github.com/users/meefik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meefik/subscriptions","organizations_url":"https://api.github.com/users/meefik/orgs","repos_url":"https://api.github.com/users/meefik/repos","events_url":"https://api.github.com/users/meefik/events{/privacy}","received_events_url":"https://api.github.com/users/meefik/received_events","type":"user","site_admin":false},"created_at":"2012-12-14t21:53:09z","updated_at":"2012-12-14t21:54:33z","body":"server 4.5.4 (debian 6.0 64-bit) / client 1.1.3 (linux). patch works! thanks a lot!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11394761","html_url":"https://github.com/owncloud/core/pull/835#issuecomment-11394761","issue_url":"https://api.github.com/repos/owncloud/core/issues/835","id":11394761,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-14t22:26:39z","updated_at":"2012-12-14t22:26:39z","body":"i take @meefik test as a :+1: "}]