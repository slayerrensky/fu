[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16825310","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-16825310","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":16825310,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-04-22t21:32:53z","updated_at":"2013-04-22t21:32:53z","body":"@icewind1991 @bartv2 @blizzz "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16846793","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-16846793","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":16846793,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-04-23t08:58:02z","updated_at":"2013-04-23t08:58:15z","body":"this is where the check takes place https://github.com/owncloud/core/blob/master/lib/util.php#l302\r\n\r\nwhat is necessary to kick off auto mount? a chdir [1] into the datadir? opendir [2]? something else? and ideally as cheap as possible. could be inserted prior to line 309.\r\n\r\n[1] http://php.net/manual/en/function.chdir.php\r\n[2] http://www.php.net/manual/en/function.opendir.php"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16881803","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-16881803","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":16881803,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-04-23t19:47:45z","updated_at":"2013-04-23t19:48:07z","body":"or maybe modification should be done around line 213 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16882909","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-16882909","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":16882909,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-04-23t20:05:36z","updated_at":"2013-04-23t20:05:36z","body":"oh, you are right.\r\nactually, we can do this after l213 and do the check again, and only output the error message if it still does not work. avoids the operation where not necessary."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16885038","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-16885038","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":16885038,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-04-23t20:41:55z","updated_at":"2013-04-23t20:41:55z","body":"ok, great.\r\nif it can help you, you can send me the modified util.php file ... i will test it on my server and let you know if issue is solved."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18308150","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-18308150","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":18308150,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-05-22t21:09:52z","updated_at":"2013-05-22t21:09:52z","body":"did you finally find a way to solve the issue ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20303218","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-20303218","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":20303218,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-07-01t19:07:36z","updated_at":"2013-07-01t19:07:36z","body":"up\r\nstill have the issue with version 5.0.7"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20766575","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-20766575","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":20766575,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-07-10t19:26:13z","updated_at":"2013-07-10t19:26:13z","body":"same with 5.0.8 :-("},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23150029","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-23150029","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":23150029,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-08-23t08:26:01z","updated_at":"2013-08-23t08:26:01z","body":"up\r\nsame pb with 5.0.10"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25293730","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-25293730","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":25293730,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-09-28t07:47:56z","updated_at":"2013-09-28t07:47:56z","body":"up\r\nsame pb with 5.0.11"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26817219","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-26817219","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":26817219,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-10-22t16:09:36z","updated_at":"2013-10-22t16:09:36z","body":"what you describe is the expected behaviour of the automounter. why don't you make www-data owner of /mnt/owncloud (instead of root:root)? then the permissions check won't fail and the automounter will mount the nfs share on demand? furthermore, the idea of the automounter is to mount a single users files via nfs on demand, not a whole partition, so maybe you should investigate into mounting the individual users data directories. hope this helps."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26832024","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-26832024","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":26832024,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-10-22t19:06:29z","updated_at":"2013-10-22t19:06:29z","body":"thank you butonic for your feedback !\r\n\r\ni tried your proposal (make www-data owner of /mnt/ownloud) but without success ... maybe i missed something :\r\n\r\n1/ create /mnt/owncloud directory + change owner to www-data:www-data\r\nadrien@legolas:~$ cd /mnt\r\nadrien@legolas:/mnt$ sudo mkdir owncloud\r\nadrien@legolas:/mnt$ sudo chown www-data:www-data owncloud\r\nadrien@legolas:/mnt$ ls -l\r\ntotal 0\r\ndr-xr-xr-x 2 www-data www-data 0 oct.  22 19:47 owncloud\r\n\r\n2/ configure /etc/auto.master:\r\nadrien@legolas:/mnt$ cat /etc/auto.master\r\n+auto.master\r\n/mnt  /etc/auto.owncloud.conf  --ghost,--timeout=30\r\n\r\n3/ configure /etc/auto.owncloud.conf:\r\nadrien@legolas:/mnt$ cat /etc/auto.owncloud.conf \r\nowncloud  -fstype=nfs,rw,intr  <ip nas>:/mnt/raid/owncloud\r\n\r\n4/ start autofs service:\r\nadrien@legolas:/mnt$ sudo service autofs start\r\nautofs stop/waiting\r\nautofs start/running, process 13567\r\n\r\n5/ check /mnt/owncloud owner:\r\nadrien@legolas:/mnt$ ls -l\r\ntotal 0\r\ndr-xr-xr-x 2 root root 0 oct.  22 20:37 owncloud  --> owner change back to root:root !!!\r\n\r\n6/ force automount by entering into /mnt/owncloud + check owner:\r\nadrien@legolas:/mnt$ cd owncloud/\r\nadrien@legolas:/mnt/owncloud$ cd ..\r\nadrien@legolas:/mnt$ ls -l\r\ntotal 5\r\ndrwxrwx--- 5 www-data www-data 8 oct.  13 14:57 owncloud --> ok, www-data is the owner\r\n\r\n7/ wait auto umount (30s) and check owner:\r\n*** wait 30s ***\r\nadrien@legolas:/mnt$ ls -l\r\ntotal 0\r\ndr-xr-xr-x 2 root root 0 oct.  22 20:37 owncloud --> fs umounted + owner changed back to root\r\n\r\n8/ try to change owner again to www-data:www-data:\r\nadrien@legolas:/mnt$ sudo chown www-data:www-data owncloud\r\nadrien@legolas:/mnt$ ls -l\r\ntotal 0\r\ndr-xr-xr-x 2 www-data www-data 0 oct.  22 20:37 owncloud\r\n\r\n9/ restart autofs service +  check owner:\r\nadrien@legolas:/mnt$ sudo service autofs restart\r\nautofs stop/waiting\r\nautofs start/running, process 15291\r\nadrien@legolas:/mnt$ ls -l\r\ntotal 0\r\ndr-xr-xr-x 2 root root 0 oct.  22 20:49 owncloud --> owner change back to root:root !!!\r\n\r\nso the conclusion is that the system is managing the owner of the mounting point:\r\n- root:root when fs is not mounted\r\n- www-data:www-data when fs is mounted (fyi, fs owner on nas side is www-data:www-data)\r\n- if we change owner of the mounting point, after autofs restart it come back again to root:root\r\n\r\nso what can we do ?\r\n\r\nnotes:\r\n- the workaround (hardmount) is still working\r\n- i prefer automount vs hardmount in order to not remount fs on application server when i restart the nas for example\r\n- i still have the same issue with 5.0.12"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26887283","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-26887283","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":26887283,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-10-23t08:11:58z","updated_at":"2013-10-23t08:14:24z","body":"could you try to add uid and gid in /etc/auto.owncloud.conf:\r\n```\r\nowncloud -fstype=nfs,rw,intr,uid=www-data,gid=www-data :/mnt/raid/owncloud\r\n```\r\n\r\nuid and gid are normally used to make an fs without file permission support aware of a user / group. also see http://linux.die.net/man/5/autofs"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26939609","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-26939609","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":26939609,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-10-23t19:49:46z","updated_at":"2013-10-23t19:49:46z","body":"i tried your proposal but i still have the issue ... :-(\r\n\r\n1/ add uid/gid=www-data in /etc/owncloud.conf:\r\nadrien@legolas:/mnt$ cat /etc/auto.owncloud.conf \r\nowncloud  -fstype=nfs,rw,intr,uid=www-data,gid=www-data  ip_nas:/mnt/raid/owncloud\r\n\r\n2/ restart autofs service and check /mnt/owncloud owner:\r\nadrien@legolas:/mnt$ sudo service autofs restart\r\nautofs stop/waiting\r\nautofs start/running, process 6589\r\nadrien@legolas:/mnt/$ ls -l\r\ntotal 0\r\ndr-xr-xr-x 2 root root 0 oct.  23 21:38 owncloud --> still root:root !!!\r\n\r\ni think that the option uid/gid is used when you want to force writing on the fs using specified uid/gid.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29611133","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-29611133","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":29611133,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-12-02t11:34:12z","updated_at":"2013-12-02t11:34:12z","body":"i don't think this is an owncloud issue. we \"only\" need a data directory that we can use. if and and how this is mounted or auto mounted is an os issue. sorry but i don't see how this is an owncloud bug. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29654506","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-29654506","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":29654506,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-12-02t20:31:07z","updated_at":"2013-12-02t20:31:07z","body":"this is not an os issue ... automount mechanism looks perfectly normal.\r\nfor me the conclusion is that owncloud 4 was compatible with automount and now owncloud 5 is no more compatible with automount ... which is a pity ... maybe you should specify it in the doc.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29691295","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-29691295","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":29691295,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-12-03t08:28:04z","updated_at":"2013-12-03t08:28:04z","body":"i still don't get what compatible with automount means. we access the data directory as a normal local directory. nothing more and nothing less. there is no automount specific code in owncloud. the os has to provide a mounted and working data directory. it's not the business of owncloud how this happens."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29757633","html_url":"https://github.com/owncloud/core/issues/3079#issuecomment-29757633","issue_url":"https://api.github.com/repos/owncloud/core/issues/3079","id":29757633,"user":{"login":"egrad","id":4228533,"avatar_url":"https://gravatar.com/avatar/abb689a4b46dfa2e163237902b9c31d8?d=https%3a%2f%2fidenticons.github.com%2f32dea0e336dd3a0cfb221d0c939cd7e7.png&r=x","gravatar_id":"abb689a4b46dfa2e163237902b9c31d8","url":"https://api.github.com/users/egrad","html_url":"https://github.com/egrad","followers_url":"https://api.github.com/users/egrad/followers","following_url":"https://api.github.com/users/egrad/following{/other_user}","gists_url":"https://api.github.com/users/egrad/gists{/gist_id}","starred_url":"https://api.github.com/users/egrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egrad/subscriptions","organizations_url":"https://api.github.com/users/egrad/orgs","repos_url":"https://api.github.com/users/egrad/repos","events_url":"https://api.github.com/users/egrad/events{/privacy}","received_events_url":"https://api.github.com/users/egrad/received_events","type":"user","site_admin":false},"created_at":"2013-12-03t22:19:23z","updated_at":"2013-12-03t22:31:15z","body":"you are certainly right, you are the specialist ... i just wanted to report that with owncloud 4 the data directory located on a nas and automounted on the application server was working like a charm and now with owncloud 5 this is no more possible ... replacing automount by hardmount is now mandatory due to this \"ownership check\" process done by owncloud before entering into the data directory (so automatic ownership switch from root:root to www-data:www-data is never done because no mount mechanism launched)... so maybe \"not compatible\" is not the good word but what is sure is that it is no more working.\r\n\r\n\r\n "}]