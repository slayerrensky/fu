[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14462061","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14462061","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14462061,"user":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t20:06:14z","updated_at":"2013-03-05t20:06:14z","body":"@icewind1991 @mtgap maybe?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14471725","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14471725","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14471725,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t23:06:05z","updated_at":"2013-03-05t23:06:05z","body":"did this work on past versions of owncloud?\r\n\r\n@jakobsack the filesystem doesn't appear to be setup correctly for cron jobs."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14472695","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14472695","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14472695,"user":{"login":"jakobsack","id":776911,"avatar_url":"https://gravatar.com/avatar/80cb68115ebdd56d1d34b106c1069b55?d=https%3a%2f%2fidenticons.github.com%2f94ea3e04ec2b9cebe10360595baa567b.png&r=x","gravatar_id":"80cb68115ebdd56d1d34b106c1069b55","url":"https://api.github.com/users/jakobsack","html_url":"https://github.com/jakobsack","followers_url":"https://api.github.com/users/jakobsack/followers","following_url":"https://api.github.com/users/jakobsack/following{/other_user}","gists_url":"https://api.github.com/users/jakobsack/gists{/gist_id}","starred_url":"https://api.github.com/users/jakobsack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakobsack/subscriptions","organizations_url":"https://api.github.com/users/jakobsack/orgs","repos_url":"https://api.github.com/users/jakobsack/repos","events_url":"https://api.github.com/users/jakobsack/events{/privacy}","received_events_url":"https://api.github.com/users/jakobsack/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t23:28:52z","updated_at":"2013-03-05t23:28:52z","body":"@mtgap the filesystem does not get setup at all.\r\n\r\nthe cron.php does not setup the filesystem because it has no information about the user or app running next. so it's the job of the job to setup the filesystem correctly."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14477739","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14477739","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14477739,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-06t01:52:42z","updated_at":"2013-03-06t01:52:42z","body":"@internalkernel can you provide additional information about what apps are running? it would be helpful if we could track it down to a specific job."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14508630","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14508630","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14508630,"user":{"login":"internalkernel","id":1035876,"avatar_url":"https://gravatar.com/avatar/5d5430fbb38d543b1c46d785c83ef92d?d=https%3a%2f%2fidenticons.github.com%2f949cde3167cea5c5598fca7071d347a8.png&r=x","gravatar_id":"5d5430fbb38d543b1c46d785c83ef92d","url":"https://api.github.com/users/internalkernel","html_url":"https://github.com/internalkernel","followers_url":"https://api.github.com/users/internalkernel/followers","following_url":"https://api.github.com/users/internalkernel/following{/other_user}","gists_url":"https://api.github.com/users/internalkernel/gists{/gist_id}","starred_url":"https://api.github.com/users/internalkernel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/internalkernel/subscriptions","organizations_url":"https://api.github.com/users/internalkernel/orgs","repos_url":"https://api.github.com/users/internalkernel/repos","events_url":"https://api.github.com/users/internalkernel/events{/privacy}","received_events_url":"https://api.github.com/users/internalkernel/received_events","type":"user","site_admin":false},"created_at":"2013-03-06t16:24:34z","updated_at":"2013-03-06t16:24:34z","body":"sure... let me see if i can narrow it down. \r\n\r\n### current list of apps that are enabled: \r\n```\r\narchive support\r\nbookmarks\r\ncalendar\r\ncontacts\r\ndeleted files\r\nexternal\r\nexternal storage\r\nexternal user\r\nfiles move\r\nfull text search\r\nimage viewer\r\ninternal bookmarks\r\nmedia\r\nodf / pdf viewer\r\npictures\r\nshare files\r\ntasks\r\ntal\r\ntext editor\r\nuser photo\r\nversions\r\nvideo viewer (internal)\r\nwho share\r\n```\r\n### disabled all modules except\r\n```\r\nbookmarks\r\ncalendar\r\ncontacts\r\nimage, odf, pdf viewer\r\nshare files\r\ntext editor\r\nversions\r\n```\r\n\r\nattempting to run cron.php at this point worked... so, i began enabling modules one by one. i re-enabled all apps except: \r\n```\r\ntal\r\nuser photo\r\nwho share\r\n```\r\nattempting to enable those specific apps produced this in the owncloud error log: \r\n```\r\n{\"app\":\"core\",\"message\":\"app can't be installed because the version in info.xml\\/version is not the same as the version reported from the app store\",\"level\":3,\"time\":1362585568}\r\n```\r\n\r\nexecution of cron is still working at this point. let me know if i can help any other way... \r\nthanks"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14509651","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14509651","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14509651,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-06t16:38:16z","updated_at":"2013-03-06t16:38:16z","body":"yes, the tal from apps.owncloud.com is 4.5.x only, but that's a whole other issue ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14509993","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14509993","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14509993,"user":{"login":"internalkernel","id":1035876,"avatar_url":"https://gravatar.com/avatar/5d5430fbb38d543b1c46d785c83ef92d?d=https%3a%2f%2fidenticons.github.com%2f949cde3167cea5c5598fca7071d347a8.png&r=x","gravatar_id":"5d5430fbb38d543b1c46d785c83ef92d","url":"https://api.github.com/users/internalkernel","html_url":"https://github.com/internalkernel","followers_url":"https://api.github.com/users/internalkernel/followers","following_url":"https://api.github.com/users/internalkernel/following{/other_user}","gists_url":"https://api.github.com/users/internalkernel/gists{/gist_id}","starred_url":"https://api.github.com/users/internalkernel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/internalkernel/subscriptions","organizations_url":"https://api.github.com/users/internalkernel/orgs","repos_url":"https://api.github.com/users/internalkernel/repos","events_url":"https://api.github.com/users/internalkernel/events{/privacy}","received_events_url":"https://api.github.com/users/internalkernel/received_events","type":"user","site_admin":false},"created_at":"2013-03-06t16:42:08z","updated_at":"2013-03-06t16:42:08z","body":"i take back my last comment about it working... after posting that it went back to complaining, but disabling the full text search app seems to fix it (and enabling reproduces it)."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14908983","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14908983","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14908983,"user":{"login":"tytgatlieven","id":3863842,"avatar_url":"https://gravatar.com/avatar/08426d629df16454a20a9a6d49936b9f?d=https%3a%2f%2fidenticons.github.com%2f4a3909df671813dbc6eae571d0cf7c5c.png&r=x","gravatar_id":"08426d629df16454a20a9a6d49936b9f","url":"https://api.github.com/users/tytgatlieven","html_url":"https://github.com/tytgatlieven","followers_url":"https://api.github.com/users/tytgatlieven/followers","following_url":"https://api.github.com/users/tytgatlieven/following{/other_user}","gists_url":"https://api.github.com/users/tytgatlieven/gists{/gist_id}","starred_url":"https://api.github.com/users/tytgatlieven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tytgatlieven/subscriptions","organizations_url":"https://api.github.com/users/tytgatlieven/orgs","repos_url":"https://api.github.com/users/tytgatlieven/repos","events_url":"https://api.github.com/users/tytgatlieven/events{/privacy}","received_events_url":"https://api.github.com/users/tytgatlieven/received_events","type":"user","site_admin":false},"created_at":"2013-03-14t15:31:37z","updated_at":"2013-03-14t15:31:37z","body":"i had the same problem with the same fix. (disabling full text search)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14983855","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14983855","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14983855,"user":{"login":"sirlancelot","id":71916,"avatar_url":"https://gravatar.com/avatar/16f7f419d41fff5b9bbd025cc2fa746d?d=https%3a%2f%2fidenticons.github.com%2f17bac96be7e0b796bd5c3071a7c2bebb.png&r=x","gravatar_id":"16f7f419d41fff5b9bbd025cc2fa746d","url":"https://api.github.com/users/sirlancelot","html_url":"https://github.com/sirlancelot","followers_url":"https://api.github.com/users/sirlancelot/followers","following_url":"https://api.github.com/users/sirlancelot/following{/other_user}","gists_url":"https://api.github.com/users/sirlancelot/gists{/gist_id}","starred_url":"https://api.github.com/users/sirlancelot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirlancelot/subscriptions","organizations_url":"https://api.github.com/users/sirlancelot/orgs","repos_url":"https://api.github.com/users/sirlancelot/repos","events_url":"https://api.github.com/users/sirlancelot/events{/privacy}","received_events_url":"https://api.github.com/users/sirlancelot/received_events","type":"user","site_admin":false},"created_at":"2013-03-15t20:44:38z","updated_at":"2013-03-15t20:44:38z","body":"the issue seems to be with the `search_lucene` app as my `oc_queuedtasks` table is full of those and clearing them out manually removes the error. i fear my index is horribly inconsistent now though :("},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14984001","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-14984001","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":14984001,"user":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"created_at":"2013-03-15t20:47:49z","updated_at":"2013-03-15t20:47:49z","body":"\\cc @butonic"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15001522","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15001522","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15001522,"user":{"login":"tytgatlieven","id":3863842,"avatar_url":"https://gravatar.com/avatar/08426d629df16454a20a9a6d49936b9f?d=https%3a%2f%2fidenticons.github.com%2f4a3909df671813dbc6eae571d0cf7c5c.png&r=x","gravatar_id":"08426d629df16454a20a9a6d49936b9f","url":"https://api.github.com/users/tytgatlieven","html_url":"https://github.com/tytgatlieven","followers_url":"https://api.github.com/users/tytgatlieven/followers","following_url":"https://api.github.com/users/tytgatlieven/following{/other_user}","gists_url":"https://api.github.com/users/tytgatlieven/gists{/gist_id}","starred_url":"https://api.github.com/users/tytgatlieven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tytgatlieven/subscriptions","organizations_url":"https://api.github.com/users/tytgatlieven/orgs","repos_url":"https://api.github.com/users/tytgatlieven/repos","events_url":"https://api.github.com/users/tytgatlieven/events{/privacy}","received_events_url":"https://api.github.com/users/tytgatlieven/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t08:37:46z","updated_at":"2013-03-16t08:37:46z","body":"my oc_queuedtasks was also full with search_lucene (about 30.000 entries). however, disabling full text search and enabling the cron job cleared all of these after some time."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15292217","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15292217","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15292217,"user":{"login":"ixti","id":94782,"avatar_url":"https://gravatar.com/avatar/aae6d4accf06084efc742f85d3806b33?d=https%3a%2f%2fidenticons.github.com%2f98168dab882d360b33a7e9829372cd74.png&r=x","gravatar_id":"aae6d4accf06084efc742f85d3806b33","url":"https://api.github.com/users/ixti","html_url":"https://github.com/ixti","followers_url":"https://api.github.com/users/ixti/followers","following_url":"https://api.github.com/users/ixti/following{/other_user}","gists_url":"https://api.github.com/users/ixti/gists{/gist_id}","starred_url":"https://api.github.com/users/ixti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ixti/subscriptions","organizations_url":"https://api.github.com/users/ixti/orgs","repos_url":"https://api.github.com/users/ixti/repos","events_url":"https://api.github.com/users/ixti/events{/privacy}","received_events_url":"https://api.github.com/users/ixti/received_events","type":"user","site_admin":false},"created_at":"2013-03-22t11:33:50z","updated_at":"2013-03-22t11:33:50z","body":"if you'll take a look on a stacktrace you'll see that problem appears from within [lucene indexer](https://github.com/owncloud/apps/blob/master/search_lucene/lib/indexer.php#l29) at least in my case. so disabling full text search helped to solve me the issue on oc 5.0"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15311111","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15311111","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15311111,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-03-22t17:43:47z","updated_at":"2013-03-22t17:43:47z","body":"@ixti it would be awesome if you could post the stacktrace.\r\n@sirlancelot the current i.plementation keeps track of indexed files. it will add them to the queue unless they produced an error or will be ignored because they are in a rcs dir."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15316728","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15316728","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15316728,"user":{"login":"ixti","id":94782,"avatar_url":"https://gravatar.com/avatar/aae6d4accf06084efc742f85d3806b33?d=https%3a%2f%2fidenticons.github.com%2f98168dab882d360b33a7e9829372cd74.png&r=x","gravatar_id":"aae6d4accf06084efc742f85d3806b33","url":"https://api.github.com/users/ixti","html_url":"https://github.com/ixti","followers_url":"https://api.github.com/users/ixti/followers","following_url":"https://api.github.com/users/ixti/following{/other_user}","gists_url":"https://api.github.com/users/ixti/gists{/gist_id}","starred_url":"https://api.github.com/users/ixti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ixti/subscriptions","organizations_url":"https://api.github.com/users/ixti/orgs","repos_url":"https://api.github.com/users/ixti/repos","events_url":"https://api.github.com/users/ixti/events{/privacy}","received_events_url":"https://api.github.com/users/ixti/received_events","type":"user","site_admin":false},"created_at":"2013-03-22t19:28:22z","updated_at":"2013-03-22t19:28:22z","body":"@butonic yeah, sure. here you are:\r\n\r\n```\r\nowncloud@nibbler:~$ php -f /home/owncloud/public_html/cron.php \r\nphp fatal error:  call to a member function getroot() on a non-object in /home/owncloud/public_html/lib/files/filesystem.php on line 318\r\nphp stack trace:\r\nphp   1. {main}() /home/owncloud/public_html/cron.php:0\r\nphp   2. oc_backgroundjob_worker::doallsteps() /home/owncloud/public_html/cron.php:97\r\nphp   3. call_user_func() /home/owncloud/public_html/lib/backgroundjob/worker.php:57\r\nphp   4. oc_search_lucene::deletefile() /home/owncloud/public_html/lib/backgroundjob/worker.php:0\r\nphp   5. oc\\files\\filesystem::getroot() /home/owncloud/public_html/apps/search_lucene/lib/lucene.php:133\r\n\r\nfatal error: call to a member function getroot() on a non-object in /home/owncloud/public_html/lib/files/filesystem.php on line 318\r\n\r\ncall stack:\r\n    0.0002     659136   1. {main}() /home/owncloud/public_html/cron.php:0\r\n    0.0254    6389048   2. oc_backgroundjob_worker::doallsteps() /home/owncloud/public_html/cron.php:97\r\n    0.0279    6501952   3. call_user_func() /home/owncloud/public_html/lib/backgroundjob/worker.php:57\r\n    0.0289    6587552   4. oc_search_lucene::deletefile() /home/owncloud/public_html/lib/backgroundjob/worker.php:0\r\n    0.1493   11045656   5. oc\\files\\filesystem::getroot() /home/owncloud/public_html/apps/search_lucene/lib/lucene.php:133\r\n\r\nunexpected error!\r\n```\r\n\r\nas far as i understand `filesystem::init()` is not called prior  "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15412291","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15412291","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15412291,"user":{"login":"multifake","id":698072,"avatar_url":"https://gravatar.com/avatar/aecb4becb55d0829ea46eb24e51ff9b9?d=https%3a%2f%2fidenticons.github.com%2fdd79186eb1d25aea11f6f1e12eb34c18.png&r=x","gravatar_id":"aecb4becb55d0829ea46eb24e51ff9b9","url":"https://api.github.com/users/multifake","html_url":"https://github.com/multifake","followers_url":"https://api.github.com/users/multifake/followers","following_url":"https://api.github.com/users/multifake/following{/other_user}","gists_url":"https://api.github.com/users/multifake/gists{/gist_id}","starred_url":"https://api.github.com/users/multifake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/multifake/subscriptions","organizations_url":"https://api.github.com/users/multifake/orgs","repos_url":"https://api.github.com/users/multifake/repos","events_url":"https://api.github.com/users/multifake/events{/privacy}","received_events_url":"https://api.github.com/users/multifake/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t18:33:41z","updated_at":"2013-03-25t18:33:41z","body":"@ixti do mean literally \"filesystem::init()\" without any further parameters? \r\n\r\n...just installed and stubled upon this right away.\r\n\r\nhave a good day."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15414564","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15414564","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15414564,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t18:57:24z","updated_at":"2013-03-25t18:57:24z","body":"@ixit yes, but the bigger problem is that search_lucene is not yet compatible with cron, because it does not store the user corresponding to a file in the background jobs parameters and thus fails to set up the filesystem correctly. i commited a fix for that today but as it turns out lucene_search is now capable of indexing remote storage mounts. which you might consider a feature or a bug - i consider it a bug because it will likely take ages to transfer the whole contents over the network.\r\n\r\nremember that search lucene is considered experimental. your feedback is very important and i will try to make it as useable as possible. help is welcome!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15416709","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15416709","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15416709,"user":{"login":"ixti","id":94782,"avatar_url":"https://gravatar.com/avatar/aae6d4accf06084efc742f85d3806b33?d=https%3a%2f%2fidenticons.github.com%2f98168dab882d360b33a7e9829372cd74.png&r=x","gravatar_id":"aae6d4accf06084efc742f85d3806b33","url":"https://api.github.com/users/ixti","html_url":"https://github.com/ixti","followers_url":"https://api.github.com/users/ixti/followers","following_url":"https://api.github.com/users/ixti/following{/other_user}","gists_url":"https://api.github.com/users/ixti/gists{/gist_id}","starred_url":"https://api.github.com/users/ixti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ixti/subscriptions","organizations_url":"https://api.github.com/users/ixti/orgs","repos_url":"https://api.github.com/users/ixti/repos","events_url":"https://api.github.com/users/ixti/events{/privacy}","received_events_url":"https://api.github.com/users/ixti/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t19:20:47z","updated_at":"2013-03-25t19:20:47z","body":"@butonic i don't think it's a problem of incompatibility with cron, although it depends on definition of incompatibility. :smile:  \r\n\r\nif you'll follow stack trace, this what happens:\r\n\r\n* cron.php [tries to execute scheduled job][worker]: `oc_search_lucene::deletefile(...)`\r\n* in it's turn `deletefile` tries to [`$view->getroot()`][lucene-1]\r\n* `$view` in this case is looks to be `filesystem::getview()`\r\n* `filesystem::getview()` is a [singleton getter][fs] that returns `$defaultinstance` of `oc\\files\\filesystem` class property which is null by default.\r\n\r\nso in order to fix, we need to call `oc\\files\\filesystem::init()` first. \r\n\r\n[worker]: https://github.com/owncloud/core/blob/master/lib/backgroundjob/worker.php#l57\r\n[lucene-1]: https://github.com/owncloud/apps/blob/master/search_lucene/lib/lucene.php#l159\r\n[fs]: https://github.com/owncloud/core/blob/master/lib/files/filesystem.php#l302\r\n\r\nps i never dig into this problem too deeply, so these are what i see after brief code overview."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15416860","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-15416860","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":15416860,"user":{"login":"ixti","id":94782,"avatar_url":"https://gravatar.com/avatar/aae6d4accf06084efc742f85d3806b33?d=https%3a%2f%2fidenticons.github.com%2f98168dab882d360b33a7e9829372cd74.png&r=x","gravatar_id":"aae6d4accf06084efc742f85d3806b33","url":"https://api.github.com/users/ixti","html_url":"https://github.com/ixti","followers_url":"https://api.github.com/users/ixti/followers","following_url":"https://api.github.com/users/ixti/following{/other_user}","gists_url":"https://api.github.com/users/ixti/gists{/gist_id}","starred_url":"https://api.github.com/users/ixti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ixti/subscriptions","organizations_url":"https://api.github.com/users/ixti/orgs","repos_url":"https://api.github.com/users/ixti/repos","events_url":"https://api.github.com/users/ixti/events{/privacy}","received_events_url":"https://api.github.com/users/ixti/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t19:22:33z","updated_at":"2013-03-25t19:22:33z","body":"@multifake looks like init() expects params. but i can't tell exactly what it has to be at the moment, sorry."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16438333","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-16438333","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":16438333,"user":{"login":"kabum","id":245432,"avatar_url":"https://gravatar.com/avatar/a1dea19f88f38ea0b5b5b4d19d5b3107?d=https%3a%2f%2fidenticons.github.com%2f53d8cbb3dbc087a02951dec47438ccdf.png&r=x","gravatar_id":"a1dea19f88f38ea0b5b5b4d19d5b3107","url":"https://api.github.com/users/kabum","html_url":"https://github.com/kabum","followers_url":"https://api.github.com/users/kabum/followers","following_url":"https://api.github.com/users/kabum/following{/other_user}","gists_url":"https://api.github.com/users/kabum/gists{/gist_id}","starred_url":"https://api.github.com/users/kabum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabum/subscriptions","organizations_url":"https://api.github.com/users/kabum/orgs","repos_url":"https://api.github.com/users/kabum/repos","events_url":"https://api.github.com/users/kabum/events{/privacy}","received_events_url":"https://api.github.com/users/kabum/received_events","type":"user","site_admin":false},"created_at":"2013-04-16t11:01:48z","updated_at":"2013-04-16t11:01:48z","body":"seems to be fixed in 5.0.3 (see #2390). so reopen if this isn't fixed for you."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/24975909","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-24975909","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":24975909,"user":{"login":"leonl42","id":3047868,"avatar_url":"https://gravatar.com/avatar/3a40401837f966f058e13cc5a34a33de?d=https%3a%2f%2fidenticons.github.com%2f8df88ec6f665655f1a22f2706161ad7c.png&r=x","gravatar_id":"3a40401837f966f058e13cc5a34a33de","url":"https://api.github.com/users/leonl42","html_url":"https://github.com/leonl42","followers_url":"https://api.github.com/users/leonl42/followers","following_url":"https://api.github.com/users/leonl42/following{/other_user}","gists_url":"https://api.github.com/users/leonl42/gists{/gist_id}","starred_url":"https://api.github.com/users/leonl42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leonl42/subscriptions","organizations_url":"https://api.github.com/users/leonl42/orgs","repos_url":"https://api.github.com/users/leonl42/repos","events_url":"https://api.github.com/users/leonl42/events{/privacy}","received_events_url":"https://api.github.com/users/leonl42/received_events","type":"user","site_admin":false},"created_at":"2013-09-24t05:34:16z","updated_at":"2013-09-24t05:34:16z","body":"i'm getting \"unexpected error!\" in my www-data mailbox since around september 20th. i still get this after updating to 5.0.11 just now.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/24980480","html_url":"https://github.com/owncloud/core/issues/2116#issuecomment-24980480","issue_url":"https://api.github.com/repos/owncloud/core/issues/2116","id":24980480,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-09-24t07:41:20z","updated_at":"2013-09-24t07:41:20z","body":"@leonl42 please open a new issue - this is most likely unrelated - thx"}]