[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18545934","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18545934","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18545934,"user":{"login":"kabum","id":245432,"avatar_url":"https://gravatar.com/avatar/a1dea19f88f38ea0b5b5b4d19d5b3107?d=https%3a%2f%2fidenticons.github.com%2f53d8cbb3dbc087a02951dec47438ccdf.png&r=x","gravatar_id":"a1dea19f88f38ea0b5b5b4d19d5b3107","url":"https://api.github.com/users/kabum","html_url":"https://github.com/kabum","followers_url":"https://api.github.com/users/kabum/followers","following_url":"https://api.github.com/users/kabum/following{/other_user}","gists_url":"https://api.github.com/users/kabum/gists{/gist_id}","starred_url":"https://api.github.com/users/kabum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabum/subscriptions","organizations_url":"https://api.github.com/users/kabum/orgs","repos_url":"https://api.github.com/users/kabum/repos","events_url":"https://api.github.com/users/kabum/events{/privacy}","received_events_url":"https://api.github.com/users/kabum/received_events","type":"user","site_admin":false},"created_at":"2013-05-28t11:59:31z","updated_at":"2013-05-28t11:59:31z","body":"cc @blizzz @dschmidt "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18703227","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18703227","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18703227,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-05-30t19:42:09z","updated_at":"2013-05-30t19:42:09z","body":"odd, that there is not directory_uuid value, but that ain't the source of the problem. what ldap server are you running on?\r\n\r\nif you use the script, use userc in $get_search and var_dump the output, what do you get?  might the user list filter filter out userc?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18724767","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18724767","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18724767,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-05-31t06:03:07z","updated_at":"2013-05-31t06:03:07z","body":"we use sun one directory server 6.3.1 as ldap server.\r\n\r\nwe have changed the script as you asked:\r\n<pre>\r\n {\r\n}\r\n$get_search = 'missing_uid';\r\n// ...\r\n$users = oc_user::getusers($get_search, $limit, $offset);\r\nvar_dump($users);\r\n</pre>\r\n\r\nthis is the output:\r\n\r\narray(0)\r\n\r\nregards\r\njavier"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18725158","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18725158","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18725158,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-05-31t06:21:40z","updated_at":"2013-05-31t06:21:40z","body":"more info: i have captured with tcpdump the network traffic to the ldap server and executed the script. in the tcpdump file i can see the ldap entry of userc. the ldap query works. the problem must be inside owncloud.\r\n\r\ni have another user d that appears in the tcpdump but cannot be found in the share dialog."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18839616","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18839616","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18839616,"user":{"login":"leonbollerup","id":342217,"avatar_url":"https://gravatar.com/avatar/eacf9dd117145d36b2ef27fa9cba497c?d=https%3a%2f%2fidenticons.github.com%2fc8ffedf067773728ed82065b695c10c9.png&r=x","gravatar_id":"eacf9dd117145d36b2ef27fa9cba497c","url":"https://api.github.com/users/leonbollerup","html_url":"https://github.com/leonbollerup","followers_url":"https://api.github.com/users/leonbollerup/followers","following_url":"https://api.github.com/users/leonbollerup/following{/other_user}","gists_url":"https://api.github.com/users/leonbollerup/gists{/gist_id}","starred_url":"https://api.github.com/users/leonbollerup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leonbollerup/subscriptions","organizations_url":"https://api.github.com/users/leonbollerup/orgs","repos_url":"https://api.github.com/users/leonbollerup/repos","events_url":"https://api.github.com/users/leonbollerup/events{/privacy}","received_events_url":"https://api.github.com/users/leonbollerup/received_events","type":"user","site_admin":false},"created_at":"2013-06-03t13:07:45z","updated_at":"2013-06-03t13:07:45z","body":"hi,\r\n\r\ni have the same problem - i dont think its in the backend since the user shows correctly in the mysql table - i have a feeling users is not being listed correctly when fetched via ajax.. also - in some cases my users are shown 2-3 times but with empty groups.\r\n\r\nanyone know if there is a way to disable the ajax for user.php ?\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18839756","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18839756","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18839756,"user":{"login":"leonbollerup","id":342217,"avatar_url":"https://gravatar.com/avatar/eacf9dd117145d36b2ef27fa9cba497c?d=https%3a%2f%2fidenticons.github.com%2fc8ffedf067773728ed82065b695c10c9.png&r=x","gravatar_id":"eacf9dd117145d36b2ef27fa9cba497c","url":"https://api.github.com/users/leonbollerup","html_url":"https://github.com/leonbollerup","followers_url":"https://api.github.com/users/leonbollerup/followers","following_url":"https://api.github.com/users/leonbollerup/following{/other_user}","gists_url":"https://api.github.com/users/leonbollerup/gists{/gist_id}","starred_url":"https://api.github.com/users/leonbollerup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leonbollerup/subscriptions","organizations_url":"https://api.github.com/users/leonbollerup/orgs","repos_url":"https://api.github.com/users/leonbollerup/repos","events_url":"https://api.github.com/users/leonbollerup/events{/privacy}","received_events_url":"https://api.github.com/users/leonbollerup/received_events","type":"user","site_admin":false},"created_at":"2013-06-03t13:10:07z","updated_at":"2013-06-03t13:10:07z","body":"(on a extra note, it seems to work better when using firefox than eg. chrome/ie and opera)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18855890","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18855890","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18855890,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-06-03t17:10:56z","updated_at":"2013-06-03t17:10:56z","body":"@gufete could you provide the owncloud.log? it is in the data folder\r\n\r\n@leonbollerup do you also use sun one directory server 6.3.1 ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18856168","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18856168","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18856168,"user":{"login":"leonbollerup","id":342217,"avatar_url":"https://gravatar.com/avatar/eacf9dd117145d36b2ef27fa9cba497c?d=https%3a%2f%2fidenticons.github.com%2fc8ffedf067773728ed82065b695c10c9.png&r=x","gravatar_id":"eacf9dd117145d36b2ef27fa9cba497c","url":"https://api.github.com/users/leonbollerup","html_url":"https://github.com/leonbollerup","followers_url":"https://api.github.com/users/leonbollerup/followers","following_url":"https://api.github.com/users/leonbollerup/following{/other_user}","gists_url":"https://api.github.com/users/leonbollerup/gists{/gist_id}","starred_url":"https://api.github.com/users/leonbollerup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leonbollerup/subscriptions","organizations_url":"https://api.github.com/users/leonbollerup/orgs","repos_url":"https://api.github.com/users/leonbollerup/repos","events_url":"https://api.github.com/users/leonbollerup/events{/privacy}","received_events_url":"https://api.github.com/users/leonbollerup/received_events","type":"user","site_admin":false},"created_at":"2013-06-03t17:15:19z","updated_at":"2013-06-03t17:15:19z","body":"nope, we use ms active directory running on 2008 server, nothing fancy, standard configuration - as said before i dont think its an issue with the ldap system as such since it shows all the users correct in the mysql, seems like its the listing of users that is messed up"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18856364","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18856364","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18856364,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-06-03t17:18:33z","updated_at":"2013-06-03t17:18:33z","body":"@leonbollerup then this is a different issue. it is supposed to work correctly with ad. please open a new bug report."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18892169","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-18892169","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":18892169,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-06-04t06:55:05z","updated_at":"2013-06-04t06:55:05z","body":"@blizzz , maybe @leonbollerup is another issue... or not. the behaviour is the same, the user appears in the mysql table, but is not shown in the share dialog.\r\n\r\ni have uploaded the owncloud.log to http://pastelink.me/dl/194aa4 \r\n\r\nthe debug level is \"standard\", shoud i use more verbose logging?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19138913","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-19138913","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":19138913,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-06-07t23:48:54z","updated_at":"2013-06-07t23:48:54z","body":"what is eye-catching is that you have a lot of such errors:\r\n```\r\n{\"app\":\"user_ldap\",\"message\":\"bind failed: 49: invalid credentials\",\"level\":3,\"time\":1361172486}\r\n```\r\nmeaning that login failed.\r\n\r\nbut also of those:\r\n```\r\n{\"app\":\"user_ldap\",\"message\":\"bind failed: -1: can't contact ldap server\",\"level\":3,\"time\":1355785854}\r\n{\"app\":\"user_ldap\",\"message\":\"connection could not be established\",\"level\":3,\"time\":1355785854}\r\n```\r\n\r\nmeaning that the connection to the ldap server could not been established at all.\r\n\r\nthen i see\r\n```\r\n{\"app\":\"user_ldap\",\"message\":\"search: no result resource, ldap error message: (2) protocol error, search filter: \",\"level\":3,\"time\":1358806784}\r\n```\r\nwhat are your user list filter settings?\r\n\r\noh, and again, in one of your earlier postings you gave an excerpt of a database table. what looked odd, was that there is no directory_uuid value. is it really so or did you just leave it out for some reason?\r\n\r\na log with level = debug would be helpful."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19185453","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-19185453","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":19185453,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-06-10t08:07:57z","updated_at":"2013-06-10t08:11:09z","body":"thank you for your support @blizzz , i have made the following\r\n\r\n*1âº delete owncloud.log  & recreated it. apache user can write on it*\r\n\r\n*2âº more verbose logging, in $www/owncloud/config/config.php added this:*\r\n\r\n<pre>\r\ndefine(\"debug\", true); // at the beginning before $config = array\r\n'loglevel' => '0' //inside $config array\r\n</pre>\r\n\r\n*3âº run php script to \"populate\" mysql with all users from ldap, and check that all  ldap users are there*\r\n\r\n<pre>\r\nmysql> select count(*) from oc_ldap_user_mapping;\r\n+----------+\r\n| count(*) |\r\n+----------+\r\n|    24036 |\r\n+----------+\r\n1 row in set (0.00 sec)\r\n\r\n</pre>\r\n\r\n*4âº review owncloud.log: crated, but empty*\r\n\r\n*5âº try to share a file: still the same, user b appears in dialog, but not user c or d (detailed info about c or d below)* \r\n\r\n*6âº owncloud.log empty. losing faith* \r\n\r\nldap settings:\r\n\r\nbase dn: o=mysite,dc=we,dc=es\r\nlogin user filter: uid=%uid\r\nlist user filter: (&(objectclass=mysiteperson)(inetuserstatus=active))\r\n\r\n@blizzz , you also asked me about directory_uuid value. from point 5âº: \r\n\r\nuser a wants to share a file with user b or user c or user d. in the share dialog user b appears, but not user c neither d, and both (c & d) are in the oc_ldap_user_mapping table, and d has directory_uuid value\r\n\r\n<pre>\r\nmysql> select * from oc_ldap_user_mapping where ldap_dn='uid=userb,o=mysite,dc=we,dc=es';\r\n\r\n+--------------------------------+---------------+----------------+\r\n| ldap_dn                        | owncloud_name | directory_uuid |\r\n+--------------------------------+---------------+----------------+\r\n| uid=userb,o=mysite,dc=we,dc=es | userb         |                |\r\n+--------------------------------+---------------+----------------+\r\n1 row in set (0.00 sec)\r\n\r\nmysql> select * from oc_ldap_user_mapping where ldap_dn='uid=userc,o=mysite.es,dc=we,dc=es';\r\n\r\n+----------------------------- --+---------------+----------------+\r\n| ldap_dn                        | owncloud_name | directory_uuid |\r\n+--------------------------------+---------------+----------------+\r\n| uid=userc,o=mysite,dc=we,dc=es | userc         |                |\r\n+--------------------------------+---------------+----------------+\r\n\r\nmysql> select * from oc_ldap_user_mapping where ldap_dn='uid=userd,o=mysite.es,dc=we,dc=es';\r\n\r\n+----------------------------- --+---------------+--------------------------------------+\r\n| ldap_dn                        | owncloud_name | directory_uuid                       |\r\n+--------------------------------+---------------+--------------------------------------+\r\n| uid=userd,o=mysite,dc=we,dc=es | userd         | 017db621-e8d811df-8051d0ad-b1146ac5  |\r\n+--------------------------------+---------------+--------------------------------------+\r\n\r\n\r\n</pre>\r\n\r\nthis issue is driving me nuts: why some users are shown in the dialog and not others? all of them are in the mysql table, b has empty directory_uuid and is shown. c is not shown, and has also empty directory_uuid. d is not shown, and has a string in directory_uuid.\r\n\r\nthank you for your support.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19280223","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-19280223","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":19280223,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-06-11t17:50:36z","updated_at":"2013-06-11t17:50:36z","body":"there should definitely appear something in the owncloud.log â€“ on debug level it should be filled with all sorts of stuff. try this: delete it, but don't recreate it. owncloud will do it itself.\r\n\r\nis there something special in the dn of userb compared to userc and userd? whitespaces or other special chars?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19310480","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-19310480","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":19310480,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-06-12t07:30:06z","updated_at":"2013-06-12t07:36:57z","body":"deleted owncloud.log. launched php script to \"warm up\" the ldap cache mapping in mysql. made a select count(*) to check that all users from ldap are in the mysql table. then, connected to owncloud web interface and tried to share a file, stille the same: i can nos share with same users.\r\n\r\na, b, c & d users are \"normal\" users (javier, carmen, pepa, jorge, standard spanish names, no whitespaces or non-ascii chars) \r\n\r\nthis time the log is more verbose:\r\n\r\n<pre>\r\n{\"app\":\"user_ldap\",\"message\":\"reading the configuration\",\"level\":0,\"time\":1371021774}\r\n{\"app\":\"user_ldap\",\"message\":\"base tree for users is empty, using base dn\",\"level\":1,\"time\":1371021774}\r\n{\"app\":\"user_ldap\",\"message\":\"base tree for groups is empty, using base dn\",\"level\":1,\"time\":1371021774}\r\n{\"app\":\"user_ldap\",\"message\":\"checking conf state: isconfigured?  isforce?  configid? user_ldap\",\"level\":0,\"time\":1371021776}\r\n{\"app\":\"user_ldap\",\"message\":\"reading the configuration\",\"level\":0,\"time\":1371021776}\r\n{\"app\":\"user_ldap\",\"message\":\"base tree for users is empty, using base dn\",\"level\":1,\"time\":1371021776}\r\n{\"app\":\"user_ldap\",\"message\":\"base tree for groups is empty, using base dn\",\"level\":1,\"time\":1371021776}\r\n{\"app\":\"user_ldap\",\"message\":\"checking conf state: isconfigured? 1 isforce?  configid? user_ldap\",\"level\":0,\"time\":1371021776}\r\n{\"app\":\"user_ldap\",\"message\":\"readattribute: uid=userb,o=mysite,dc=we,dc=es found\",\"level\":0,\"time\":1371021776}\r\n</pre>\r\n\r\nstill can not share with user d or c, tough."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19955949","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-19955949","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":19955949,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-06-25t06:36:29z","updated_at":"2013-06-25t06:36:29z","body":"any update on this? still does not work as expected."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22778563","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-22778563","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":22778563,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-08-16t16:49:59z","updated_at":"2013-08-16t16:49:59z","body":"sorry, for the delay. if you still have the problem, you can try to remove the db entries with the users not showing up (remember the username). next time, the entries should be re-created. ideally with a uuid. make sure they have the same owncloud_name as before (if not, change it accordingly). any changes?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22939688","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-22939688","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":22939688,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-08-20t11:54:05z","updated_at":"2013-08-20t11:54:05z","body":"hello @blizzz \r\n\r\nstill the same. i also have deleted all the mysql table, recreated it (all users have now uuid), repopulated the database (>24000 entries) and still the same: all the users are in the oc_ldap_user_mapping, but not all of them are shown when i tried to share a file.\r\n\r\ndo you need any additional info to debug this?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23007549","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-23007549","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":23007549,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-08-21t10:16:01z","updated_at":"2013-08-21t10:16:01z","body":"it might be that the users are filtered out. to test this, could you please change owncloud/apps/user_ldap/user_ldap.php according to:\r\n\r\n```diff\r\ndiff --git a/apps/user_ldap/user_ldap.php b/apps/user_ldap/user_ldap.php\r\nindex 063cddf..738f6bd 100644\r\n--- a/apps/user_ldap/user_ldap.php\r\n+++ b/apps/user_ldap/user_ldap.php\r\n@@ -121,7 +121,11 @@ class user_ldap extends lib\\access implements \\ocp\\userinterface {\r\n        }\r\n \r\n        public function usermatchesfilter($user) {\r\n-               return (strripos($user, $this->usersearch) !== false);\r\n+               $isuserok = (strripos($user, $this->usersearch) !== false);\r\n+               if(!$isuserok) {\r\n+                       \\ocp\\util::writelog('user_ldap', 'user '.$user.' does not match search filter '.$this->usersearch, \\ocp\\util::debug);\r\n+               }\r\n+               return $isuserok;\r\n        }\r\n \r\n        /**\r\n```\r\n\r\nplease run your script again with $get_search targeted at the missing users. per user who is sorted out there will be one line in the owncloud.log. check it then, please. (you need to have loglevel set to debug).\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26852929","html_url":"https://github.com/owncloud/core/issues/3513#issuecomment-26852929","issue_url":"https://api.github.com/repos/owncloud/core/issues/3513","id":26852929,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-10-22t21:37:29z","updated_at":"2013-10-22t21:37:29z","body":"i close it for inactivity. please reopen if the problem sill exists."}]