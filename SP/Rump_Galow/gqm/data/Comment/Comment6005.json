[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29079515","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-29079515","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":29079515,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-11-22t15:14:30z","updated_at":"2013-11-22t15:14:30z","body":"sweet!! thanks a lot @bartv2 :+1: haven't tested "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29080519","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-29080519","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":29080519,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-11-22t15:26:06z","updated_at":"2013-11-22t15:26:06z","body":"@bartv2 can we add a unit test? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29193022","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-29193022","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":29193022,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t11:00:26z","updated_at":"2013-11-25t11:00:26z","body":"ping"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29196977","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-29196977","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":29196977,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t12:14:45z","updated_at":"2013-11-25t12:14:45z","body":"@bartv2 the migration now runs, but i can't see that the migration.db sqlite database is actually generated?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29237422","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-29237422","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":29237422,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t20:12:08z","updated_at":"2013-11-25t20:12:08z","body":"@tomneedham what do you mean, here https://github.com/owncloud/core/pull/6005/files#diff-6dcfe22b2c6accaeb57bd13238358382r456 the database is created. here https://github.com/owncloud/core/pull/6005/files#diff-6dcfe22b2c6accaeb57bd13238358382r488 the tables are created."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29718313","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-29718313","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":29718313,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2013-12-03t15:22:30z","updated_at":"2013-12-03t15:22:30z","body":"@bartv2 in the resulting zip file that is sent to the user, there is no migration.db present."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30304989","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-30304989","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":30304989,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2013-12-11t09:18:19z","updated_at":"2013-12-11t09:18:19z","body":"@bartv2 can you take a look at this? the export runs ok but i don't see a migration.db generated in the export zip."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30703313","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-30703313","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":30703313,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t21:37:26z","updated_at":"2013-12-16t21:37:26z","body":"> can you take a look at this? the export runs ok but i don't see a migration.db generated in the export zip.\r\n\r\ni checked, only the user export has a migration.db which is also what the code suggests."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30708341","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-30708341","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":30708341,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t22:35:28z","updated_at":"2013-12-16t22:35:28z","body":"test **failed**.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2409/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30844043","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-30844043","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":30844043,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2013-12-18t14:12:11z","updated_at":"2013-12-18t14:12:11z","body":"@bartv2 which applications did you have installed that use migration of db content?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30854876","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-30854876","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":30854876,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2013-12-18t16:14:32z","updated_at":"2013-12-18t16:14:32z","body":"@bartv we need to change this code to doctrine too: https://github.com/owncloud/core/blob/8f0c56c1b245ed7c6856080597b48ef3d82d1a24/lib/private/migrate.php#l467 \r\n\r\nwhen migrating it tries to recreate the tables in the new instance (which may already be there). i get the following for example when migrating the calendar to an instance with the calendar already installed: \r\n\r\nan exception occurred while executing 'create table \"clndr_objects\" (\"id\" integer not null, \"calendarid\" integer default 0 not null, \"objecttype\" varchar(40) default '' not null, \"startdate\" datetime default '1970-01-01 00:00:00', \"enddate\" datetime default '1970-01-01 00:00:00', \"repeating\" integer default 0, \"summary\" varchar(255) default null, \"calendardata\" clob default null, \"uri\" varchar(255) default null, \"lastmodified\" integer default 0, primary key(\"id\"))': sqlstate[hy000]: general error: 1 table \"clndr_objects\" already exists"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/31003965","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-31003965","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":31003965,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2013-12-20t11:31:08z","updated_at":"2013-12-20t11:31:08z","body":"@tomneedham createapptables is only used when exporting, so not sure how you get that error"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/31004867","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-31004867","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":31004867,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-12-20t11:52:18z","updated_at":"2013-12-20t11:52:18z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2460/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/31021401","html_url":"https://github.com/owncloud/core/pull/6005#issuecomment-31021401","issue_url":"https://api.github.com/repos/owncloud/core/issues/6005","id":31021401,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2013-12-20t16:24:22z","updated_at":"2013-12-20t16:24:22z","body":":+1: just need to work on unit tests. not going to be easy."}]