[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23403911","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23403911","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23403911,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t10:13:47z","updated_at":"2013-08-28t10:13:47z","body":"you shall not truncate the file cache table.та\nit's the job of the rescan to fix the cache table.та"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23420158","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23420158","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23420158,"user":{"login":"bearbo","id":1252762,"avatar_url":"https://gravatar.com/avatar/35ece0cb9adc7613684f450ba5fcdf3a?d=https%3a%2f%2fidenticons.github.com%2f12aed19f654d787c94afec0fe54a5fe4.png&r=x","gravatar_id":"35ece0cb9adc7613684f450ba5fcdf3a","url":"https://api.github.com/users/bearbo","html_url":"https://github.com/bearbo","followers_url":"https://api.github.com/users/bearbo/followers","following_url":"https://api.github.com/users/bearbo/following{/other_user}","gists_url":"https://api.github.com/users/bearbo/gists{/gist_id}","starred_url":"https://api.github.com/users/bearbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bearbo/subscriptions","organizations_url":"https://api.github.com/users/bearbo/orgs","repos_url":"https://api.github.com/users/bearbo/repos","events_url":"https://api.github.com/users/bearbo/events{/privacy}","received_events_url":"https://api.github.com/users/bearbo/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t14:43:33z","updated_at":"2013-08-28t14:43:33z","body":"ok. just to confirm, truncating the cache table was *the* way to initiate rescan in oc 4.5, but now that *cannot* be done?\r\n\r\nnonetheless, that still doesn't address the fact that occ does not scan the shared files."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23420399","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23420399","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23420399,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t14:46:20z","updated_at":"2013-08-28t14:46:20z","body":"the shares table relies on file ids stored in the filecache table. therefore you can't empty the filecache table without losing all share references."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23423655","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23423655","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23423655,"user":{"login":"bearbo","id":1252762,"avatar_url":"https://gravatar.com/avatar/35ece0cb9adc7613684f450ba5fcdf3a?d=https%3a%2f%2fidenticons.github.com%2f12aed19f654d787c94afec0fe54a5fe4.png&r=x","gravatar_id":"35ece0cb9adc7613684f450ba5fcdf3a","url":"https://api.github.com/users/bearbo","html_url":"https://github.com/bearbo","followers_url":"https://api.github.com/users/bearbo/followers","following_url":"https://api.github.com/users/bearbo/following{/other_user}","gists_url":"https://api.github.com/users/bearbo/gists{/gist_id}","starred_url":"https://api.github.com/users/bearbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bearbo/subscriptions","organizations_url":"https://api.github.com/users/bearbo/orgs","repos_url":"https://api.github.com/users/bearbo/repos","events_url":"https://api.github.com/users/bearbo/events{/privacy}","received_events_url":"https://api.github.com/users/bearbo/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t15:28:44z","updated_at":"2013-08-28t15:28:44z","body":"i see the reference of file id, i just thought they'd be updated by the rescan utility. \r\n\r\nimagine if the filecache table becomes corrupt (for some reason, any reason), and one would need to rescan the file system. then are all previously defined shares lost? \r\n\r\ni realize using file id has performance advantage over using a path, but perhaps a path column can be added to the  oc_share table so the rescan utility can recreate the file id after a rescan?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23424209","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23424209","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23424209,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t15:35:38z","updated_at":"2013-08-28t15:35:38z","body":"i don't use the file id for performance reasons.\r\n\r\nmake backups."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23424425","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23424425","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23424425,"user":{"login":"bearbo","id":1252762,"avatar_url":"https://gravatar.com/avatar/35ece0cb9adc7613684f450ba5fcdf3a?d=https%3a%2f%2fidenticons.github.com%2f12aed19f654d787c94afec0fe54a5fe4.png&r=x","gravatar_id":"35ece0cb9adc7613684f450ba5fcdf3a","url":"https://api.github.com/users/bearbo","html_url":"https://github.com/bearbo","followers_url":"https://api.github.com/users/bearbo/followers","following_url":"https://api.github.com/users/bearbo/following{/other_user}","gists_url":"https://api.github.com/users/bearbo/gists{/gist_id}","starred_url":"https://api.github.com/users/bearbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bearbo/subscriptions","organizations_url":"https://api.github.com/users/bearbo/orgs","repos_url":"https://api.github.com/users/bearbo/repos","events_url":"https://api.github.com/users/bearbo/events{/privacy}","received_events_url":"https://api.github.com/users/bearbo/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t15:37:54z","updated_at":"2013-08-28t15:37:54z","body":"er. what's the purpose of the rescan utility?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23424653","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23424653","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23424653,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t15:40:51z","updated_at":"2013-08-28t15:40:51z","body":"the rescan utility doesn't change file ids, it just looks for new data. you broke it because you truncated the filecache table."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23425090","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23425090","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23425090,"user":{"login":"bearbo","id":1252762,"avatar_url":"https://gravatar.com/avatar/35ece0cb9adc7613684f450ba5fcdf3a?d=https%3a%2f%2fidenticons.github.com%2f12aed19f654d787c94afec0fe54a5fe4.png&r=x","gravatar_id":"35ece0cb9adc7613684f450ba5fcdf3a","url":"https://api.github.com/users/bearbo","html_url":"https://github.com/bearbo","followers_url":"https://api.github.com/users/bearbo/followers","following_url":"https://api.github.com/users/bearbo/following{/other_user}","gists_url":"https://api.github.com/users/bearbo/gists{/gist_id}","starred_url":"https://api.github.com/users/bearbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bearbo/subscriptions","organizations_url":"https://api.github.com/users/bearbo/orgs","repos_url":"https://api.github.com/users/bearbo/repos","events_url":"https://api.github.com/users/bearbo/events{/privacy}","received_events_url":"https://api.github.com/users/bearbo/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t15:46:20z","updated_at":"2013-08-28t15:46:20z","body":"ok, i see. i just thought the rescan did more than it actually did.\r\n\r\nperhaps it could be a feature in the future for the rescan utility to update the file ids."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23449857","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23449857","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23449857,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t21:37:41z","updated_at":"2013-08-28t21:37:41z","body":"> perhaps it could be a feature in the future for the rescan utility to update the file ids.\r\n\r\nthis is going into the complete wrong direction - the file id is the unique identifier for a given file - any additional information about a given file will be referenced by the id in other tables - as soon as you kill the file entry id and path are lost and the additional information is without further reference - there is no way to recreate this information.\r\n\r\nfinally once more: don't truncate the file cache!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/23449893","html_url":"https://github.com/owncloud/core/issues/4604#issuecomment-23449893","issue_url":"https://api.github.com/repos/owncloud/core/issues/4604","id":23449893,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-08-28t21:38:06z","updated_at":"2013-08-28t21:38:06z","body":">  it just looks for new data. \r\n\r\nand removes no longer existing files/folders"}]