[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14524256","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-14524256","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":14524256,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-06t20:31:26z","updated_at":"2013-03-06t20:31:26z","body":"@blizzz @icewind1991 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15057816","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15057816","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15057816,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t14:33:30z","updated_at":"2013-03-18t14:33:30z","body":"adding it will cause a ton of breakage. not sure how this fix should be done."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15059845","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15059845","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15059845,"user":{"login":"roha4000","id":3509963,"avatar_url":"https://gravatar.com/avatar/95b8e2447ddfb0836c2c4ad8489b9ab2?d=https%3a%2f%2fidenticons.github.com%2f8c94cd35b69d168f0351fdb3c2eae3d7.png&r=x","gravatar_id":"95b8e2447ddfb0836c2c4ad8489b9ab2","url":"https://api.github.com/users/roha4000","html_url":"https://github.com/roha4000","followers_url":"https://api.github.com/users/roha4000/followers","following_url":"https://api.github.com/users/roha4000/following{/other_user}","gists_url":"https://api.github.com/users/roha4000/gists{/gist_id}","starred_url":"https://api.github.com/users/roha4000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roha4000/subscriptions","organizations_url":"https://api.github.com/users/roha4000/orgs","repos_url":"https://api.github.com/users/roha4000/repos","events_url":"https://api.github.com/users/roha4000/events{/privacy}","received_events_url":"https://api.github.com/users/roha4000/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t15:07:00z","updated_at":"2013-03-18t15:32:11z","body":"i actually added an auto_increment field \"id\" and had no breakage using mysql. other databases, which are adding automatically primary keys when the are missing might be more affected. but: shouldn't a primary key be obligatory? \r\n\r\nbtw.  the properties table is really under frequent access. we already have more than 300k entries in our test environment and not using an index results in a lot of full table scans. setting an index reduced the number of accessed rows from 201.009 to 54.412 and the execution time from 0.16s to 0.07s when \"explaining\" on of the worse selects. the index is at about 12% of the size of the whole table.\r\n\r\n```sql\r\nmysql> create index userid_index on oc_properties (userid);\r\n```\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15060905","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15060905","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15060905,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t15:27:04z","updated_at":"2013-03-18t15:27:04z","body":"see #2191"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15063890","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15063890","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15063890,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t16:10:29z","updated_at":"2013-03-18t16:10:29z","body":"ok, seems to be a very serious issue since there is not a single! field with primary key. i'll be asking on the mailing list if this is fixable in any way that doesnt make upgrading impossible."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15085245","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15085245","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15085245,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t22:08:27z","updated_at":"2013-03-18t22:08:27z","body":"> seems to be a very serious issue since there is not a single! field with primary key.\r\n\r\nmost tables have primary keys from the autoincrement field, so afaik it is only the three tables mentioned above."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15085798","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15085798","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15085798,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t22:20:22z","updated_at":"2013-03-18t22:20:50z","body":"tables that dont have a primary key (and neither auto increment):\r\n\r\n* appconfig\r\n* file_map\r\n* files_trash\r\n* files_trashsize\r\n* files_versions\r\n* group_admin\r\n* group_user\r\n* groups\r\n* permissions\r\n* preferences\r\n* properties\r\n* users\r\n* category_to_object\r\n\r\nby using sqliteman"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15087116","html_url":"https://github.com/owncloud/core/issues/2142#issuecomment-15087116","issue_url":"https://api.github.com/repos/owncloud/core/issues/2142","id":15087116,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t22:48:28z","updated_at":"2013-03-18t22:48:28z","body":"> * appconfig\n\ncould make appconfig_appid_key_index unique and primary\n\n> * filemap\n\ncould set file_map_lp_index as primary\n\n> groups\n\nhas groups_pkey as primary\n\n> permissions\n\ncould use id_user_index\n\n> preferences\n\ncould use pref_userid_appid_key_index\n\n> users\n\ndefines a primary key on users_pkey\n\n> * category_to_object\n\ndefines a primary key on category_object_index."}]