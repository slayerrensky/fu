[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16104092","html_url":"https://github.com/owncloud/core/issues/2721#issuecomment-16104092","issue_url":"https://api.github.com/repos/owncloud/core/issues/2721","id":16104092,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-04-09t10:00:52z","updated_at":"2013-04-09t10:00:52z","body":"@icewind1991 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17017027","html_url":"https://github.com/owncloud/core/issues/2721#issuecomment-17017027","issue_url":"https://api.github.com/repos/owncloud/core/issues/2721","id":17017027,"user":{"login":"kneiser","id":3117010,"avatar_url":"https://gravatar.com/avatar/821071babc57df5fc1fcfe34483523ab?d=https%3a%2f%2fidenticons.github.com%2fc0d60f6e233e5780167cfb3d8a52d4cf.png&r=x","gravatar_id":"821071babc57df5fc1fcfe34483523ab","url":"https://api.github.com/users/kneiser","html_url":"https://github.com/kneiser","followers_url":"https://api.github.com/users/kneiser/followers","following_url":"https://api.github.com/users/kneiser/following{/other_user}","gists_url":"https://api.github.com/users/kneiser/gists{/gist_id}","starred_url":"https://api.github.com/users/kneiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kneiser/subscriptions","organizations_url":"https://api.github.com/users/kneiser/orgs","repos_url":"https://api.github.com/users/kneiser/repos","events_url":"https://api.github.com/users/kneiser/events{/privacy}","received_events_url":"https://api.github.com/users/kneiser/received_events","type":"user","site_admin":false},"created_at":"2013-04-25t16:12:16z","updated_at":"2013-04-26t13:41:53z","body":"recently i tested v5.0.5 to see what the current situation is for upgrading from v4.5.10 to v 5.0.5. i found that \"some\" things had changed but not enough of a difference to move to using v5.0.x in a production setting.\r\n1. installed v5.0.5 to test machine.\r\n2. restored the last point release data from v4.5.10 backups, per owncloud documentation for upgrades.\r\n3. logged in to owncloud admin account, owncloud did it's maintenance mode stuff successfully.\r\n4. the data contains sharing information by individual file(s) and by security group for a set of test users.\r\n5. rebooted server.\r\n6. the admin user sees shared folders from other users, but, admin user is not a member of any sharing. an\r\n    attempt to navigate in to one of the folders results in no action.\r\n7. logged in to a normal user where only external storage is defined, no membership as in item 4.\r\n8. normal user can access external storage fine, but other folders belonging this user are not visible.\r\n9. logged in to test user accounts, no shared files or folders are visible. sharing busted.\r\n10. oc forum seems to recommend truncation of the oc_filecache table to resolve this above.\r\n11. table emptied and server rebooted.\r\n12. admin user no longer sees foreign folders. good.\r\n13. the \"normal user\" now has its owned folders back and external storage still works.\r\n14. one of the test users that is a member of individual file sharing scenario has the files now visible. but there is a\r\n      note at the top of the screen indicating \"no write permissions\".\r\n15. one of the test users that is a member of sharing folder by security group still does not have sharing access. \r\n      again there is a note at the top of the screen about \"no write permissions\".\r\n16. are there any workarounds for this or is this a bug still to be worked on? also is this \"no write permissions\" \r\n      something new or does it also relate to the sharing problem?\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18218290","html_url":"https://github.com/owncloud/core/issues/2721#issuecomment-18218290","issue_url":"https://api.github.com/repos/owncloud/core/issues/2721","id":18218290,"user":{"login":"kneiser","id":3117010,"avatar_url":"https://gravatar.com/avatar/821071babc57df5fc1fcfe34483523ab?d=https%3a%2f%2fidenticons.github.com%2fc0d60f6e233e5780167cfb3d8a52d4cf.png&r=x","gravatar_id":"821071babc57df5fc1fcfe34483523ab","url":"https://api.github.com/users/kneiser","html_url":"https://github.com/kneiser","followers_url":"https://api.github.com/users/kneiser/followers","following_url":"https://api.github.com/users/kneiser/following{/other_user}","gists_url":"https://api.github.com/users/kneiser/gists{/gist_id}","starred_url":"https://api.github.com/users/kneiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kneiser/subscriptions","organizations_url":"https://api.github.com/users/kneiser/orgs","repos_url":"https://api.github.com/users/kneiser/repos","events_url":"https://api.github.com/users/kneiser/events{/privacy}","received_events_url":"https://api.github.com/users/kneiser/received_events","type":"user","site_admin":false},"created_at":"2013-05-21t15:54:04z","updated_at":"2013-05-21t15:54:04z","body":"just finished testing and upgrade from v4.5.11 to v5.0.6. again, i found that \"some\" things had changed but not enough of a difference to move to using v5.0.x in a production setting.\r\n1. installed v5.0.6 to test machine.\r\n2. restored the last point release data from v4.5.11 backups, per owncloud documentation for upgrades.\r\n3. logged in to owncloud admin account, owncloud did it's maintenance mode stuff successfully.\r\n4. the data contains sharing information by individual file(s) and by security group for a set of test users.\r\n5. rebooted server.\r\n6. the admin user sees shared folders from other users, but, admin user is not a member of any sharing. an\r\nattempt to navigate in to one of the folders results in no action.\r\n7. logged in to a normal user where only external storage is defined, no sharing membership as in item 4.\r\n8. normal user can access external storage fine, but other folders belonging this user are not visible.\r\n9. logged in to test user accounts, no shared files or folders are visible. sharing busted.\r\n10. oc forum seems to recommend truncation of the oc_filecache table to resolve this above.\r\n11. table emptied and server rebooted.\r\n12. admin user no longer sees foreign folders. good.\r\n13. the \"normal user\" now has its owned folders back and external storage still works.\r\nread carefully from here: change since i last reported from v5.0.5\r\n14. using test user accounts. some users setup to share directory by security group. other test users setup to share by link or by individual files.\r\n15. file sharing by link: test user sees \"no permissions to write here.\". click on shared file and gets error, \"th file requested cannot be loaded\".\r\n16. sharing by security group: test user sees \"no permissions to write here.\". navigate in to \"shared\" folder. shared directory appears as a text file and not a folder.\r\n17. sharing by file: test user sees \"no permissions to write here.\". files appear as text documents not their native file type ( odf, odt).\r\n\r\nthis is somewhat of an improvement over the last release. however it is getting to be annoying that we have to keep truncating the oc_filecache table after an upgrade. i also noticed that old tables from the prior v4.5.x release still exist. \r\n\r\nwhy is sharing busted when before the cache table is emptied. shouldn't the sharing information be stored in separate tables from the cache table?\r\n\r\n\r\n"}]