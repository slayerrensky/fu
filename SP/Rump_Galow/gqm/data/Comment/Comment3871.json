[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20118860","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20118860","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20118860,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t13:29:42z","updated_at":"2013-06-27t13:29:42z","body":"oh and don't worry, with the prs applied i can install, log in and toy around with files and sharing quite well. we just need to review, merge and backport the prs"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20124103","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20124103","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20124103,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t14:40:35z","updated_at":"2013-06-27t14:40:35z","body":"have you done some research on sql dialect libraries for php that could be used instead of switching on the db type all the time? mdb2 actually seems to do these things already partially. see https://github.com/owncloud/core/blob/master/lib/mdb2/driver/function/sqlite3.php#l54 i am really wondering why mdb2 is not extended instead."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20127606","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20127606","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20127606,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t15:21:34z","updated_at":"2013-06-27t15:21:34z","body":"i guess you are referring to http://mdb2-tutorials.blogspot.de/2008/01/mdb2-modules.html#function_module, which is an introduction to the function module of mdb2. currently owncloud uses mdb2 only for schema evolution and switches to pdo for normal usage. i don't know the original arguments for it, maybe because mdb2 support for sqlite was broken or because pdo is faster. but @bartv2 is working hard on doctrine dbal support, so we can move to that and use one dbal instead of two. ... looking at doctrine it does not seem to have the sql dialect functions mdb2 provides, @bartv2 please correct me if i'm wrong.\r\n\r\nin general i thing we want to move to an orm mapper at some point in the future, which is why we are going the direction of doctrine.\r\n\r\n@bantu since we are always using mdb2 for oracle (pdo oracle support is deprecated, broken ... non existant) i'll have a look at the function module. maybe we should replace the code in our [oc_db::processquery()](https://github.com/owncloud/core/blob/master/lib/db.php#l733) with code that uses mdb2s function module.\r\n\r\nto be honest, i was new to mdb2 a year ago and am still learning. now that you pointed me to the functions module i'll definitely have another look there. they already implemented the unixtimestamp function i came up with myself .... oh well ... so no, i have not done any research in that direction and any pointers are welcome. is there a library that we can use with the switch to doctrine in mind?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20128088","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20128088","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20128088,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t15:26:46z","updated_at":"2013-06-27t15:26:46z","body":"related stackoverflow question: http://stackoverflow.com/questions/7807851/best-php-dal-data-abstraction-layer-so-far"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20130518","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20130518","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20130518,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t15:39:40z","updated_at":"2013-06-27t15:47:02z","body":"@butonic from a software architecture point of view, switching on dbtype is a bad idea because 1. it does not scale when you want to add further dbmses and 2. you are repeating code over and over again. just have a look at the bitand pull request; anyone wanting to use bitand in a way that is compatible with all dbmses owncloud supports will have to repeat the exact same switching.\r\n\r\na much better approach is to have a class for each dbms that has a well-defined interface returning strings. either added to an existing dbal or even better as a separate sql dialect component. mdb2 basically has this, but in a very very functionality limited way."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20131109","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20131109","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20131109,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t15:44:55z","updated_at":"2013-06-27t15:44:55z","body":"with a proper abstraction it should also be possible to get rid of https://github.com/owncloud/core/blob/master/lib/db.php#l746 etc."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20138109","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20138109","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20138109,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t17:03:05z","updated_at":"2013-06-27t17:03:05z","body":"mdb2 even supports specifying the result types, obsoleting hacks like https://github.com/owncloud/core/pull/3865/files#l0r966.\r\n\r\ni don't know of any abstraction capable of either letting you forget what dbms you are using by translating the sql internally or providing a mechanism to transparently build sql that will run on your dmbs with a query builder. other than mdb2. but mdb2 is painfully slow. i'm not crazy enough to write the next dbal. but i'll gladly use an existing one. researching led me to the doctrine guys and their summary on [orm vs query builders](http://www.garfieldtech.com/blog/orm-vs-query-builders). after that, the most interesting i could come up with is http://flourishlib.com/docs/flourishsql, and especially http://flourishlib.com/docs/fdatabase#cross-databasesql. i don't know it is possible to only use the query translation stuff thought.\r\n\r\ncc @raydiation @deepdiver1975 @bartv2 opinions?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20142178","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20142178","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20142178,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t17:43:38z","updated_at":"2013-06-27t17:43:38z","body":"hm doctrines database platform classes do support some query builder methods: bitand / & is implemented in https://github.com/doctrine/dbal/blob/master/lib/doctrine/dbal/platforms/oracleplatform.php#l148"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20142281","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20142281","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20142281,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t17:45:07z","updated_at":"2013-06-27t17:45:07z","body":"@butonic doctrine2 dbal seems to have a pretty good design in this regard. and should be pretty easy to extend.\r\n\r\nsee\r\nhttp://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/platforms.html\r\nhttps://github.com/doctrine/dbal/blob/master/lib/doctrine/dbal/platforms/mysqlplatform.php etc."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20154886","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20154886","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20154886,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t21:05:09z","updated_at":"2013-06-27t21:05:09z","body":"http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/query-builder.html ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20156064","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20156064","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20156064,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t21:25:58z","updated_at":"2013-06-27t21:25:58z","body":"@raydiation i have yet to find an example or a piece of code that shows how the dbal query builder is used with now() or bitand operations and the database platform specific implementations. all the examples do simple crud operations. an example for the fancy queries we have in owncloud and how they can be made portable escapes my google fu."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20156121","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20156121","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20156121,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t21:27:07z","updated_at":"2013-06-27t21:27:07z","body":"@raydiation yeah, it seems like that part of the documenation has yet to be written. :-)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20179868","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20179868","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20179868,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t10:00:55z","updated_at":"2013-06-28t10:01:12z","body":"i think the query builder is not very helpful with platform specific code, but for example the bitand can be done like:\r\n```\r\n$platform = $db_conn->getdatabaseplatform();\r\n$query .= $platform->getbitandcomparisonexpression('permissions', '?')\r\n```\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20182767","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20182767","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20182767,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t11:16:09z","updated_at":"2013-06-28t11:16:09z","body":"i will have a look at querybuilder. the class itself seems to be pretty good documented. https://github.com/doctrine/dbal/blob/master/lib/doctrine/dbal/query/querybuilder.php."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20184612","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20184612","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20184612,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t12:11:36z","updated_at":"2013-06-28t12:11:36z","body":"@bartv2 @icewind1991 @mtgap @deepdiver1975 @karlitschek i need two :+1: on the oracle prs asap! enterprise release is due in two days and we still need to backport these fixes, which is not a simple cherry-pick.\r\ncc @msrex @mtrichards "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20184683","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20184683","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20184683,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t12:14:15z","updated_at":"2013-06-28t12:14:15z","body":":+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20184938","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20184938","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20184938,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t12:21:22z","updated_at":"2013-06-28t12:21:22z","body":"lets move discussion of querybuilder to another issue."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20190265","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20190265","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20190265,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t14:07:56z","updated_at":"2013-06-28t14:07:56z","body":"@bartv2 is correct. platform and querybuilder are different concepts. even if you use querybuilder, you seem to have to use platforms on your own.\r\n\r\n```php\r\nrequire __dir__ . '/vendor/autoload.php';\r\n\r\n$conn = doctrine\\dbal\\drivermanager::getconnection(array(\r\n    'dbname' => 'mydb',\r\n    'user' => 'user',\r\n    'password' => 'secret',\r\n    'host' => 'localhost',\r\n    'driver' => 'oci8',\r\n));\r\n\r\n$qb = $conn->createquerybuilder();\r\n$pf = $conn->getdatabaseplatform();\r\n\r\n$query = $qb\r\n\t->update('share')\r\n\t->set('permissions', $pf->getbitandcomparisonexpression('permissions', '?'))\r\n\t->where($qb->expr()->eq('id', 2))\r\n;\r\n\r\necho \"$query\\n\";\r\n// update share set permissions = bitand(permissions, ?) where id = 2\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20599393","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20599393","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20599393,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-07-08t11:27:46z","updated_at":"2013-07-08t11:27:46z","body":"i'll close this as all issues save one corner case have been fixed and backported to stable5."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20599907","html_url":"https://github.com/owncloud/core/issues/3871#issuecomment-20599907","issue_url":"https://api.github.com/repos/owncloud/core/issues/3871","id":20599907,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-07-08t11:40:56z","updated_at":"2013-07-08t11:40:56z","body":"keeping an eye on oracle clob <-> varchar migration in https://github.com/owncloud/core/issues/3971"}]