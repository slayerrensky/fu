[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18122401","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18122401","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18122401,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-05-19t18:35:30z","updated_at":"2013-05-19t18:35:30z","body":"looks good :+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18122901","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18122901","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18122901,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-19t19:05:57z","updated_at":"2013-05-19t19:05:57z","body":"@owncloud-bot retest this please."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18126641","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18126641","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18126641,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-19t23:14:07z","updated_at":"2013-05-19t23:14:07z","body":"@schiesbn is it a problem that delete hooks are being emitted during deleteall for files_trashbin? i'm guessing so, "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18141907","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18141907","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18141907,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-05-20t10:57:36z","updated_at":"2013-05-20t10:57:36z","body":"looks good - not tested :+1: \r\n:beers: for unit tests"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18149919","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18149919","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18149919,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-20t14:24:25z","updated_at":"2013-05-20t14:24:25z","body":"now, this fixes #3344. unit tests weren't catching the failure by deleteall() because user isn't set during tests as far as i know.\r\n\r\n\r\nwaiting for @schiesbn to respond about the delete hooks."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18338241","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18338241","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18338241,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-05-23t11:47:26z","updated_at":"2013-05-23t12:08:09z","body":"@mtgap yes, the delete hook will copy all files to the trash bin. this can also effect other apps not only the trash bin. we should only emit signals for operations which we really perform.\r\n\r\nedit:\r\ni had a short look at the code. just a random idea, wouldn't it be possible to call the delete operation directly on the storage (like you did it in the else branch) instead of using the files view. this way you should be able to avoid the additional hooks."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18343542","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18343542","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18343542,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-23t13:38:02z","updated_at":"2013-05-23t13:38:02z","body":"yes, i'll do that instead."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18346582","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18346582","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18346582,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-23t14:25:56z","updated_at":"2013-05-23t14:25:56z","body":"@owncloud-bot retest this please."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18369410","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18369410","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18369410,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-23t20:26:28z","updated_at":"2013-05-23t20:26:28z","body":"@owncloud-bot retest this please."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18380736","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18380736","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18380736,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-24t00:44:41z","updated_at":"2013-05-24t00:44:41z","body":"backport to stable5: https://github.com/owncloud/core/compare/34fda272d6...0eb32bfc93"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18963060","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-18963060","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":18963060,"user":{"login":"absynth47215","id":3737316,"avatar_url":"https://gravatar.com/avatar/30225104afce1327a6d910fdb6c59df0?d=https%3a%2f%2fidenticons.github.com%2f95bf3c6e624c27fcc136b9ec6a86d024.png&r=x","gravatar_id":"30225104afce1327a6d910fdb6c59df0","url":"https://api.github.com/users/absynth47215","html_url":"https://github.com/absynth47215","followers_url":"https://api.github.com/users/absynth47215/followers","following_url":"https://api.github.com/users/absynth47215/following{/other_user}","gists_url":"https://api.github.com/users/absynth47215/gists{/gist_id}","starred_url":"https://api.github.com/users/absynth47215/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/absynth47215/subscriptions","organizations_url":"https://api.github.com/users/absynth47215/orgs","repos_url":"https://api.github.com/users/absynth47215/repos","events_url":"https://api.github.com/users/absynth47215/events{/privacy}","received_events_url":"https://api.github.com/users/absynth47215/received_events","type":"user","site_admin":false},"created_at":"2013-06-05t08:52:36z","updated_at":"2013-06-05t08:52:36z","body":"aaaaaalmost fixed, folders with files in them are correctly moved back and forth as far as my inital testing goes. the only really minor problem is that empty folders still get moved as 0-byte files."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19304202","html_url":"https://github.com/owncloud/core/pull/3425#issuecomment-19304202","issue_url":"https://api.github.com/repos/owncloud/core/issues/3425","id":19304202,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-06-12t02:49:00z","updated_at":"2013-06-12t02:49:00z","body":"@absynth47215 i wrote a test for moving empty directories and it's passing: https://github.com/owncloud/core/commit/fc5bce1f76a3a67a4ac9095d15441e363dfd03d1\r\n\r\ncan you try running the tests on your own install? "}]