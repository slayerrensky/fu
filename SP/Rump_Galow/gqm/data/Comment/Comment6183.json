[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29824065","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-29824065","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":29824065,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-12-04t17:08:03z","updated_at":"2013-12-04t17:08:03z","body":"makes sense :+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29835790","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-29835790","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":29835790,"user":{"login":"kabum","id":245432,"avatar_url":"https://gravatar.com/avatar/a1dea19f88f38ea0b5b5b4d19d5b3107?d=https%3a%2f%2fidenticons.github.com%2f53d8cbb3dbc087a02951dec47438ccdf.png&r=x","gravatar_id":"a1dea19f88f38ea0b5b5b4d19d5b3107","url":"https://api.github.com/users/kabum","html_url":"https://github.com/kabum","followers_url":"https://api.github.com/users/kabum/followers","following_url":"https://api.github.com/users/kabum/following{/other_user}","gists_url":"https://api.github.com/users/kabum/gists{/gist_id}","starred_url":"https://api.github.com/users/kabum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabum/subscriptions","organizations_url":"https://api.github.com/users/kabum/orgs","repos_url":"https://api.github.com/users/kabum/repos","events_url":"https://api.github.com/users/kabum/events{/privacy}","received_events_url":"https://api.github.com/users/kabum/received_events","type":"user","site_admin":false},"created_at":"2013-12-04t19:19:22z","updated_at":"2013-12-04t19:19:22z","body":"error for sqlite, mysql and postgres\r\n```\r\n00:10:02.351 there were 2 failures:\r\n00:10:02.351 \r\n00:10:02.351 1) test_encryption_share::testrecoveryfile\r\n00:10:02.351 failed asserting that false is true.\r\n00:10:02.351 \r\n00:10:02.351 /var/lib/jenkins/jobs/pull-request-analyser/workspace/apps/files_encryption/tests/share.php:727\r\n00:10:02.351 \r\n00:10:02.351 2) test_encryption_share::testrecoveryforuser\r\n00:10:02.351 failed asserting that two strings are equal.\r\n00:10:02.351 --- expected\r\n00:10:02.351 +++ actual\r\n00:10:02.351 @@ @@\r\n00:10:02.351 -'hats'\r\n00:10:02.351 +'\\�߉'\r\n```\r\n\r\nfor oracle all test are fine. why?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30330698","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30330698","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30330698,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-11t15:41:15z","updated_at":"2013-12-11t15:41:15z","body":"@schiesbn jenkins not happy ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30330900","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30330900","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30330900,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-11t15:43:11z","updated_at":"2013-12-11t15:46:24z","body":"> for oracle all test are fine. why?\r\n\r\ngood question... for testrecoveryfile the problem was that the change-password hook doesn't get executed so we couldn't recover the users files. don't ask why it works on oracle, this shouldn't be related to the database... now i call the hook explicitly in the test, so this test works now.\r\n\r\nthe reason why the other test fails is also strange. after the test removes the recovery keys not only the recovery key is gone but the complete \"share-keys\" and \"filekeys\" folder is gone although removerecoverykeys() only unlinks the recovery keys. \r\n\r\nall the scenarios work in the real world..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30653579","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30653579","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30653579,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t11:26:12z","updated_at":"2013-12-16t11:26:12z","body":"this pr will also solve issue #6411  "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30655075","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30655075","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30655075,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t11:54:25z","updated_at":"2013-12-16t11:54:25z","body":"steps:\r\n1. disable \"deleted files\" app\r\n2. enable encryption app\r\n3. log out\r\n4. log in (to init the keys)\r\n5. create a text file\r\n6. edit the text file, make changes and save (6 times)\r\n\r\n\t[mon dec 16 12:49:47.166981 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php warning:  openssl_seal(): fourth argument to openssl_seal() must be a non-empty array in /srv/www/htdocs/owncloud/apps/files_encryption/lib/crypt.php on line 410, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167045 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php stack trace:, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167112 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   1. {main}() /srv/www/htdocs/owncloud/index.php:0, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167172 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   2. oc::handlerequest() /srv/www/htdocs/owncloud/index.php:30, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167219 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   3. oc_router->match() /srv/www/htdocs/owncloud/lib/base.php:692, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167255 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   4. call_user_func() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167583 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   5. oc::loadappscriptfile() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167627 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   6. require_once() /srv/www/htdocs/owncloud/lib/base.php:768, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167673 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   7. oc\\\\files\\\\filesystem::file_put_contents() /srv/www/htdocs/owncloud/apps2/files_texteditor/ajax/savefile.php:46, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167720 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   8. oc\\\\files\\\\view->file_put_contents() /srv/www/htdocs/owncloud/lib/private/files/filesystem.php:622, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167765 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   9. oc\\\\files\\\\view->basicoperation() /srv/www/htdocs/owncloud/lib/private/files/view.php:334, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167811 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  10. oc_fileproxy::runpreproxies() /srv/www/htdocs/owncloud/lib/private/files/view.php:669, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167859 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  11. oca\\\\encryption\\\\proxy->prefile_put_contents() /srv/www/htdocs/owncloud/lib/private/fileproxy.php:88, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167895 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  12. fclose() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167940 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  13. oca\\\\encryption\\\\stream->stream_close() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.167985 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  14. oca\\\\encryption\\\\crypt::multikeyencrypt() /srv/www/htdocs/owncloud/apps/files_encryption/lib/stream.php:528, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.168021 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  15. openssl_seal() /srv/www/htdocs/owncloud/apps/files_encryption/lib/crypt.php:410, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.176864 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php warning:  missing argument 2 for oc\\\\files\\\\storage\\\\local::file_put_contents(), called in /srv/www/htdocs/owncloud/lib/private/files/view.php on line 684 and defined in /srv/www/htdocs/owncloud/lib/private/files/storage/local.php on line 153, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.176914 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php stack trace:, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.176953 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   1. {main}() /srv/www/htdocs/owncloud/index.php:0, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.176993 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   2. oc::handlerequest() /srv/www/htdocs/owncloud/index.php:30, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177033 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   3. oc_router->match() /srv/www/htdocs/owncloud/lib/base.php:692, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177088 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   4. call_user_func() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177130 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   5. oc::loadappscriptfile() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177161 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   6. require_once() /srv/www/htdocs/owncloud/lib/base.php:768, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177199 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   7. oc\\\\files\\\\filesystem::file_put_contents() /srv/www/htdocs/owncloud/apps2/files_texteditor/ajax/savefile.php:46, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177238 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   8. oc\\\\files\\\\view->file_put_contents() /srv/www/htdocs/owncloud/lib/private/files/filesystem.php:622, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177276 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   9. oc\\\\files\\\\view->basicoperation() /srv/www/htdocs/owncloud/lib/private/files/view.php:334, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177314 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  10. oc_fileproxy::runpreproxies() /srv/www/htdocs/owncloud/lib/private/files/view.php:669, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177352 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  11. oca\\\\encryption\\\\proxy->prefile_put_contents() /srv/www/htdocs/owncloud/lib/private/fileproxy.php:88, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177385 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  12. fclose() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177423 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  13. oca\\\\encryption\\\\stream->stream_close() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177462 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  14. oca\\\\encryption\\\\keymanager::setfilekey() /srv/www/htdocs/owncloud/apps/files_encryption/lib/stream.php:531, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177499 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  15. oc\\\\files\\\\view->file_put_contents() /srv/www/htdocs/owncloud/apps/files_encryption/lib/keymanager.php:159, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177536 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  16. oc\\\\files\\\\view->basicoperation() /srv/www/htdocs/owncloud/lib/private/files/view.php:334, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177585 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  17. oc\\\\files\\\\storage\\\\local->file_put_contents() /srv/www/htdocs/owncloud/lib/private/files/view.php:684, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177614 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php notice:  undefined variable: data in /srv/www/htdocs/owncloud/lib/private/files/storage/local.php on line 154, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177626 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php stack trace:, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177654 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   1. {main}() /srv/www/htdocs/owncloud/index.php:0, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177691 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   2. oc::handlerequest() /srv/www/htdocs/owncloud/index.php:30, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177728 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   3. oc_router->match() /srv/www/htdocs/owncloud/lib/base.php:692, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177758 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   4. call_user_func() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177795 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   5. oc::loadappscriptfile() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177824 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   6. require_once() /srv/www/htdocs/owncloud/lib/base.php:768, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177861 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   7. oc\\\\files\\\\filesystem::file_put_contents() /srv/www/htdocs/owncloud/apps2/files_texteditor/ajax/savefile.php:46, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177898 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   8. oc\\\\files\\\\view->file_put_contents() /srv/www/htdocs/owncloud/lib/private/files/filesystem.php:622, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177935 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   9. oc\\\\files\\\\view->basicoperation() /srv/www/htdocs/owncloud/lib/private/files/view.php:334, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.177972 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  10. oc_fileproxy::runpreproxies() /srv/www/htdocs/owncloud/lib/private/files/view.php:669, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178009 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  11. oca\\\\encryption\\\\proxy->prefile_put_contents() /srv/www/htdocs/owncloud/lib/private/fileproxy.php:88, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178039 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  12. fclose() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178088 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  13. oca\\\\encryption\\\\stream->stream_close() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178127 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  14. oca\\\\encryption\\\\keymanager::setfilekey() /srv/www/htdocs/owncloud/apps/files_encryption/lib/stream.php:531, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178164 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  15. oc\\\\files\\\\view->file_put_contents() /srv/www/htdocs/owncloud/apps/files_encryption/lib/keymanager.php:159, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178211 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  16. oc\\\\files\\\\view->basicoperation() /srv/www/htdocs/owncloud/lib/private/files/view.php:334, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178249 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  17. oc\\\\files\\\\storage\\\\local->file_put_contents() /srv/www/htdocs/owncloud/lib/private/files/view.php:684, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178407 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php catchable fatal error:  argument 4 passed to oca\\\\encryption\\\\keymanager::setsharekeys() must be of the type array, null given, called in /srv/www/htdocs/owncloud/apps/files_encryption/lib/stream.php on line 534 and defined in /srv/www/htdocs/owncloud/apps/files_encryption/lib/keymanager.php on line 320, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178423 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php stack trace:, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178453 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   1. {main}() /srv/www/htdocs/owncloud/index.php:0, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178491 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   2. oc::handlerequest() /srv/www/htdocs/owncloud/index.php:30, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178528 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   3. oc_router->match() /srv/www/htdocs/owncloud/lib/base.php:692, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178558 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   4. call_user_func() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178595 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   5. oc::loadappscriptfile() /srv/www/htdocs/owncloud/lib/private/router.php:127, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178624 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   6. require_once() /srv/www/htdocs/owncloud/lib/base.php:768, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178661 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   7. oc\\\\files\\\\filesystem::file_put_contents() /srv/www/htdocs/owncloud/apps2/files_texteditor/ajax/savefile.php:46, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178698 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   8. oc\\\\files\\\\view->file_put_contents() /srv/www/htdocs/owncloud/lib/private/files/filesystem.php:622, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178735 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php   9. oc\\\\files\\\\view->basicoperation() /srv/www/htdocs/owncloud/lib/private/files/view.php:334, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178776 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  10. oc_fileproxy::runpreproxies() /srv/www/htdocs/owncloud/lib/private/files/view.php:669, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178813 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  11. oca\\\\encryption\\\\proxy->prefile_put_contents() /srv/www/htdocs/owncloud/lib/private/fileproxy.php:88, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178843 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  12. fclose() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.178957 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  13. oca\\\\encryption\\\\stream->stream_close() /srv/www/htdocs/owncloud/apps/files_encryption/lib/proxy.php:108, referer: http://localhost/owncloud/index.php/apps/files\r\n\t[mon dec 16 12:49:47.179007 2013] [php5:error] [pid 3556] [client 127.0.0.1:34558] php  14. oca\\\\encryption\\\\keymanager::setsharekeys() /srv/www/htdocs/owncloud/apps/files_encryption/lib/stream.php:534, referer: http://localhost/owncloud/index.php/apps/files\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30659962","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30659962","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30659962,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t13:24:44z","updated_at":"2013-12-16t13:24:44z","body":"sorry, forgot to pull..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30660538","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30660538","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30660538,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t13:34:51z","updated_at":"2013-12-16t13:34:51z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2395/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30664832","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30664832","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30664832,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t14:38:27z","updated_at":"2013-12-16t14:38:27z","body":"works as per my steps mentionned in https://github.com/owncloud/core/pull/6183#issuecomment-30655075\r\n\r\nalso, downloading the file works as well, it has now the correct size in the db.\r\n\r\n:+1: \r\n\r\nyou might want to squash your commits together :smile: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30667318","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30667318","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30667318,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t15:09:13z","updated_at":"2013-12-16t15:09:13z","body":"@owncloud-bot retest this please"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30669560","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30669560","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30669560,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t15:34:57z","updated_at":"2013-12-16t15:34:57z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2398/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30675526","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30675526","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30675526,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t16:35:04z","updated_at":"2013-12-16t16:35:04z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2401/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30676985","html_url":"https://github.com/owncloud/core/pull/6183#issuecomment-30676985","issue_url":"https://api.github.com/repos/owncloud/core/issues/6183","id":30676985,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t16:50:08z","updated_at":"2013-12-16t16:50:08z","body":"backported to stable6: https://github.com/owncloud/core/compare/a8a35f4d07...3160b23291"}]