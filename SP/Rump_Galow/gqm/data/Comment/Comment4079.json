[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21031506","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21031506","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21031506,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t09:45:43z","updated_at":"2013-07-16t09:45:43z","body":"@schiesbn"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21031917","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21031917","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21031917,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t09:54:18z","updated_at":"2013-07-16t09:54:18z","body":"this is a windows related issue - i'm sorry to say that but files_versions is untested on windows at the moment."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21032007","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21032007","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21032007,"user":{"login":"thedk","id":5020623,"avatar_url":"https://gravatar.com/avatar/58d9ddd356315816d17f344459cff2ce?d=https%3a%2f%2fidenticons.github.com%2fc033cbe60724f814da86a7fb63417575.png&r=x","gravatar_id":"58d9ddd356315816d17f344459cff2ce","url":"https://api.github.com/users/thedk","html_url":"https://github.com/thedk","followers_url":"https://api.github.com/users/thedk/followers","following_url":"https://api.github.com/users/thedk/following{/other_user}","gists_url":"https://api.github.com/users/thedk/gists{/gist_id}","starred_url":"https://api.github.com/users/thedk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thedk/subscriptions","organizations_url":"https://api.github.com/users/thedk/orgs","repos_url":"https://api.github.com/users/thedk/repos","events_url":"https://api.github.com/users/thedk/events{/privacy}","received_events_url":"https://api.github.com/users/thedk/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t09:56:39z","updated_at":"2013-07-16t09:56:39z","body":"ok - so best way would be to deactivate the versions app? is there a roadmap when versions will be supported in win environment?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21032510","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21032510","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21032510,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t10:07:07z","updated_at":"2013-07-16t10:07:07z","body":"> ok - so best way would be to deactivate the versions app?\r\n\r\nyes\r\n\r\n\r\n\r\n> is there a roadmap when versions will be supported in win environment?\r\n\r\nnot really - speaking as community member: i don't care about windows support as i run my owncloud on linux.\r\nin case you have some spare time: feel free to dive into the code and look for the issue.\r\n\r\nwindows support was mainly added by the owncloud inc on customer request and did not cover files_versions."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21032582","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21032582","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21032582,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t10:08:31z","updated_at":"2013-07-16t10:08:31z","body":"@karlitschek \r\nshould we disable files_versions on windows in general?\r\nsame for trashbin afaik"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21032752","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21032752","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21032752,"user":{"login":"thedk","id":5020623,"avatar_url":"https://gravatar.com/avatar/58d9ddd356315816d17f344459cff2ce?d=https%3a%2f%2fidenticons.github.com%2fc033cbe60724f814da86a7fb63417575.png&r=x","gravatar_id":"58d9ddd356315816d17f344459cff2ce","url":"https://api.github.com/users/thedk","html_url":"https://github.com/thedk","followers_url":"https://api.github.com/users/thedk/followers","following_url":"https://api.github.com/users/thedk/following{/other_user}","gists_url":"https://api.github.com/users/thedk/gists{/gist_id}","starred_url":"https://api.github.com/users/thedk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thedk/subscriptions","organizations_url":"https://api.github.com/users/thedk/orgs","repos_url":"https://api.github.com/users/thedk/repos","events_url":"https://api.github.com/users/thedk/events{/privacy}","received_events_url":"https://api.github.com/users/thedk/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t10:12:46z","updated_at":"2013-07-16t10:12:46z","body":"trashbin seems to be working at the moment, but in general imo all apps that are not tested for an enviroment should be disabled for \"stable\" builds."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21037450","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21037450","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21037450,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t12:03:40z","updated_at":"2013-07-16t12:03:40z","body":"@deepdiver1975 even better would be to fix it ;-) @schiesbn can you have a look?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21038514","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21038514","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21038514,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t12:27:56z","updated_at":"2013-07-16t12:27:56z","body":"> even better would be to fix it ;-)\r\n\r\nfor sure - but we cannot guarantee right away that all apps are working on windows.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21329125","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-21329125","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":21329125,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-07-22t07:46:50z","updated_at":"2013-07-22t07:46:50z","body":"as already said, this seems to be a windows-only issue. i can't reproduce it on linux.\r\n\r\nwould be great if you, @thedk, could help to debug it. the interesting lines in the code are here https://github.com/owncloud/core/blob/stable5/apps/files_versions/lib/versions.php#l248 (248 and 249). it would be interesting to know which \"versionsname\" and \"escapedversionsname\" are generated. can you find this out and provide the information here?\r\n\r\nyou could generate a output with following code after line 248 and than check your iis error log after you tried to access the versions:\r\n\r\n```\r\nerror_log(\"versions name: $versionsname\");\r\nerror_log(\"escaped: $escapedversionname\");\r\n```\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22567844","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22567844","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22567844,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t14:17:35z","updated_at":"2013-08-13t14:17:35z","body":"i can help debug. i'm new to debugging but would like to see this app working. thanks"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22580472","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22580472","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22580472,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t17:03:02z","updated_at":"2013-08-13t17:03:02z","body":"@maestro7879 great that you can help to debug the issue. the first think would be to try if the issue is still valid in owncloud 5.0.10 since 5.0.8 we did some windows related fixes. can you verify it? thanks!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22580777","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22580777","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22580777,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t17:07:04z","updated_at":"2013-08-13t17:07:04z","body":"possible to check on 5.0.9 ? that's my current version, trying to avoid the\r\nother issues i'm reading about in 5.0.10 until they are worked out.\r\n\r\n\r\non tue, aug 13, 2013 at 1:03 pm, bjã¶rn schieãÿle <notifications@github.com>wrote:\r\n\r\n> @maestro7879 <https://github.com/maestro7879> great that you can help to\r\n> debug the issue. the first think would be to try if the issue is still\r\n> valid in owncloud 5.0.10 since 5.0.8 we did some windows related fixes. can\r\n> you verify it? thanks!\r\n>\r\n> â€”\r\n> reply to this email directly or view it on github<https://github.com/owncloud/core/issues/4079#issuecomment-22580472>\r\n> .\r\n>"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22582715","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22582715","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22582715,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t17:33:32z","updated_at":"2013-08-13t17:33:32z","body":"@maestro7879 yes, you can also check with 5.0.9"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22582874","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22582874","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22582874,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t17:35:42z","updated_at":"2013-08-13t17:36:36z","body":"@maestro7879 if the error still exists than please edit apps/files_versions/lib/versions.php add add after line 249 following code:\r\n\r\n```\r\nerror_log(\"filename: $filename\");\r\nerror_log(\"versions name: $versionsname\");\r\nerror_log(\"escaped: $escapedversionname\");\r\n```\r\n\r\nand check the output in your error log."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22583447","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22583447","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22583447,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t17:43:04z","updated_at":"2013-08-13t17:43:04z","body":"making that changed didn't throw any major errors in the logs. it did\r\nhowever create conflict files each time i made a change to the file.\r\n\r\n\r\non tue, aug 13, 2013 at 1:35 pm, bjã¶rn schieãÿle <notifications@github.com>wrote:\r\n\r\n> @maestro7879 <https://github.com/maestro7879> if the error still exists\r\n> than please edit apps/files_versions/lib/versions.php add add after line\r\n> 249 following code:\r\n>\r\n> error_log(\"versions name: $versionsname\");\r\n> error_log(\"escaped: $escapedversionname\");\r\n>\r\n> and check the output in your error log.\r\n>\r\n> â€”\r\n> reply to this email directly or view it on github<https://github.com/owncloud/core/issues/4079#issuecomment-22582874>\r\n> .\r\n>"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22585428","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22585428","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22585428,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t18:10:13z","updated_at":"2013-08-13t18:10:13z","body":"> making that changed didn't throw any major errors in the logs. it did\n> however create conflict files each time i made a change to the file.\n\nthis changes should output the versions name, the escaped name and the\noriginal filename every time you open the version drop-down.\n\ndo you modify the files with the sync client? the conflict files are\nnot related to the versioning app. please test with the web interface\nonly to avoid additional and independent sources of error."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22586112","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22586112","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22586112,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t18:20:13z","updated_at":"2013-08-13t18:20:13z","body":"i ended up copying in the versions.php file from the oc 5.0.10 install and\r\nit's working now. i have no idea what the actual problem was though. tested\r\nusing the client, webpage, etc. and everything works.\r\n\r\n\r\non tue, aug 13, 2013 at 2:10 pm, bjã¶rn schieãÿle <notifications@github.com>wrote:\r\n\r\n> > making that changed didn't throw any major errors in the logs. it did\r\n> > however create conflict files each time i made a change to the file.\r\n>\r\n> this changes should output the versions name, the escaped name and the\r\n> original filename every time you open the version drop-down.\r\n>\r\n> do you modify the files with the sync client? the conflict files are\r\n> not related to the versioning app. please test with the web interface\r\n> only to avoid additional and independent sources of error.\r\n>\r\n> â€”\r\n> reply to this email directly or view it on github<https://github.com/owncloud/core/issues/4079#issuecomment-22585428>\r\n> .\r\n>"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22586445","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22586445","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22586445,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t18:25:04z","updated_at":"2013-08-13t18:25:04z","body":"great to hear that it works with the version.php from oc 5.0.10. will close the issue now. if the issue appear again feel free to re-open it."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22593875","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22593875","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22593875,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t20:14:27z","updated_at":"2013-08-13t20:14:27z","body":"sorry, reopen. it only works for previous files. i deleted all files and\r\nstarted new and no versioning exists.\r\ni also input the suggested lines into config.php but i don't see anything\r\nin owncloud.log that shows any errors.\r\ni tested using only the web interface also and the same issue persists.\r\n\r\n\r\non tue, aug 13, 2013 at 2:25 pm, bjã¶rn schieãÿle <notifications@github.com>wrote:\r\n\r\n> great to hear that it works with the version.php from oc 5.0.10. will\r\n> close the issue now. if the issue appear again feel free to re-open it.\r\n>\r\n> â€”\r\n> reply to this email directly or view it on github<https://github.com/owncloud/core/issues/4079#issuecomment-22586445>\r\n> .\r\n>"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22594012","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22594012","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22594012,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t20:16:18z","updated_at":"2013-08-13t20:16:18z","body":"correction - versions.php was edited. - is the below correct ?\r\n\r\npublic static function getversions($uid, $filename, $count = 0 ) {\r\n        if( \\ocp\\config::getsystemvalue('files_versions',\r\nstorage::defaultenabled)=='true' ) {\r\n            $versions_fileview = new \\oc\\files\\view('/' . $uid .\r\n'/files_versions');\r\n            $versionsname =\r\n$versions_fileview->getlocalfile($filename).'.v';\r\n            $escapedversionname = preg_replace('/(\\*|\\?|\\[)/', '[$1]',\r\n$versionsname);\r\n            $versions = array();\r\n            error_log(\"filename: $filename\");\r\n            error_log(\"versions name: $versionsname\");\r\n            error_log(\"escaped: $escapedversionname\");\r\n            // fetch for old versions\r\n            $matches = glob($escapedversionname.'*');\r\n\r\n            if ( !$matches ) {\r\n                return $versions;\r\n            }\r\n\r\n\r\n\r\non tue, aug 13, 2013 at 4:14 pm, dan crouthamel\r\n<dan.crouthamel0@gmail.com>wrote:\r\n\r\n> sorry, reopen. it only works for previous files. i deleted all files and\r\n> started new and no versioning exists.\r\n> i also input the suggested lines into config.php but i don't see anything\r\n> in owncloud.log that shows any errors.\r\n> i tested using only the web interface also and the same issue persists.\r\n>\r\n>\r\n> on tue, aug 13, 2013 at 2:25 pm, bjã¶rn schieãÿle <notifications@github.com>wrote:\r\n>\r\n>> great to hear that it works with the version.php from oc 5.0.10. will\r\n>> close the issue now. if the issue appear again feel free to re-open it.\r\n>>\r\n>> â€”\r\n>> reply to this email directly or view it on github<https://github.com/owncloud/core/issues/4079#issuecomment-22586445>\r\n>> .\r\n>>\r\n>\r\n>"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22600243","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22600243","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22600243,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-13t21:47:20z","updated_at":"2013-08-13t21:47:20z","body":"> it only works for previous files. i deleted all files and started new and no versioning exists.\r\n\r\nthe pop-up doesn't show the versions, but physically they exists in data/user/files_versions, right?\r\n\r\nthe edited versions.php is correct. this should create a output to your web server error log if your web server is configured to write log files.\r\n\r\nyou could also try this lines:\r\n\r\n```\r\n\\ocp\\util::writelog('files_versions', 'filename: ' . $filename, \\ocp\\util::error);\r\n\\ocp\\util::writelog('files_versions', 'versions name: ' . $versionsname, \\ocp\\util::error);\r\n\\ocp\\util::writelog('files_versions', 'escaped: ' . $escapedversionname, \\ocp\\util::error);\r\n```\r\n\r\nthan the messages will be written to your owncloud.log in your data directory."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22630998","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22630998","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22630998,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t12:09:25z","updated_at":"2013-08-14t12:09:25z","body":"i do see files in the versions folders. the files in the versioning folders don't match exactly, if the below is looking for versioning-0.txt.v that file doesn't exist. the files that do exist are versioning.txt.v1376424727 and versioning.txt.v1376424813\r\n\r\noutput from owncloud.log - guid replaced. \r\n\r\n{\"app\":\"files_versions\",\"message\":\"filename: \\/\\/versioning.txt\",\"level\":3,\"time\":\"2013-08-14t11:55:11+00:00\"}\r\n\r\n{\"app\":\"files_versions\",\"message\":\"versions name: c:\\\\inetpub\\\\wwwroot\\\\owncloud\\\\dataguid\\/files-versions\\/versioning-0.txt.v\",\"level\":3,\"time\":\"2013-08-14t11:55:11+00:00\"}\r\n\r\n{\"app\":\"files_versions\",\"message\":\"escaped: c:\\\\inetpub\\\\wwwroot\\\\owncloud\\\\dataguid\\/files-versions\\/versioning-0.txt.v\",\"level\":3,\"time\":\"2013-08-14t11:55:11+00:00\"}"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22641085","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22641085","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22641085,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t14:52:16z","updated_at":"2013-08-14t14:53:00z","body":"hm, this is strange.\r\n\r\nversioning name is generated by \r\n\r\n```\r\n$versionsname = $versions_fileview->getlocalfile($filename).'.v';\r\n```\r\n\r\ndon't know where the \"-0\" in the filename come from after this step. @icewind1991 do you have any idea? seems like getlocalfile() does some strange stuff on windows.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22642198","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22642198","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22642198,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t15:07:21z","updated_at":"2013-08-14t15:07:21z","body":"@maestro7879 can you do one more test? please replace in apps/files_versions/lib/versions.php following line: https://github.com/owncloud/core/blob/stable5/apps/files_versions/lib/versions.php#l251 with:\r\n\r\n```\r\n$versionsname = \\ocp\\config::getsystemvalue('datadirectory') . '/' . $uid . '/files_versions/' . $filename.'.v';\r\n```\r\n\r\ndoes it work? what's the new output in your log file?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22644460","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22644460","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22644460,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t15:38:14z","updated_at":"2013-08-14t15:38:14z","body":"you shouldn't be using getlocalfile in the first place really, it will break stuff when working with remote storages (or work badly), in both cases where you use it in the function it can be avoided.\r\n\r\ni assume the '-0' comes from the filename mapper used on windows @deepdiver1975 \r\n\r\ninstead of glob you can just iterate over the contents manually for now, for oc6 we can add glob to the storage api.\r\ninstead of md5_file you can use `$view->hash()` (https://github.com/owncloud/core/blob/master/lib/files/view.php#l615)\r\n\r\nyou can't assume anything from the filepath returned by getlocalfile."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22644822","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22644822","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22644822,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t15:42:57z","updated_at":"2013-08-14t15:42:57z","body":"\r\ncode inserted - \r\npublic static function getversions($uid, $filename, $count = 0 ) {\r\n\t\tif( \\ocp\\config::getsystemvalue('files_versions', storage::defaultenabled)=='true' ) {\r\n\t\t\t$versions_fileview = new \\oc\\files\\view('/' . $uid . '/files_versions');\t\t\t\r\n\t\t\t$versionsname = \\ocp\\config::getsystemvalue('datadirectory') . '/' . $uid . '/files_versions/' . $filename.'.v';\r\n\t\t\t$escapedversionname = preg_replace('/(\\*|\\?|\\[)/', '[$1]', $versionsname);\r\n\t\t\t$versions = array();\r\n\t\t\t\\ocp\\util::writelog('files_versions', 'filename: ' . $filename, \\ocp\\util::error);\r\n\t\t\t\\ocp\\util::writelog('files_versions', 'versions name: ' . $versionsname, \\ocp\\util::error);\r\n\t\t\t\\ocp\\util::writelog('files_versions', 'escaped: ' . $escapedversionname, \\ocp\\util::error);\r\n\t\t\t// fetch for old versions\r\n\r\nowncloud.log\r\n\r\n{\"app\":\"files_versions\",\"message\":\"filename: \\/\\/versiontest2.txt\",\"level\":3,\"time\":\"2013-08-14t15:40:34+00:00\"}\r\n{\"app\":\"files_versions\",\"message\":\"versions name: c:\\\\inetpub\\\\wwwroot\\\\owncloud\\\\dataguid\\/files_versions\\/\\/\\/versiontest2.txt.v\",\"level\":3,\"time\":\"2013-08-14t15:40:34+00:00\"}\r\n{\"app\":\"files_versions\",\"message\":\"escaped: c:\\\\inetpub\\\\wwwroot\\\\owncloud\\\\data\\/guid\\/files_versions\\/\\/\\/versiontest2.txt.v\",\"level\":3,\"time\":\"2013-08-14t15:40:34+00:00\"}\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22647154","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22647154","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22647154,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t16:13:53z","updated_at":"2013-08-14t16:14:27z","body":"@maestro7879 so this works, right?\r\n\r\nthis solution should work always in this case, since we are operating in data/user/files_versions, so no external storages etc. involved.\r\n\r\n@icewind1991 would be great to add glob() to the storage api, currently this is used by the trash, versioning and the encryption app. generally if i shouldn't use getlocalfile and if i can't assume anything from it, than why does it exists in the first place? is there any valid use-case? otherwise i would suggest to depreciate it and add a warning to the documentation header before we remove it completely for oc6 or oc7."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22649550","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22649550","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22649550,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t16:48:45z","updated_at":"2013-08-14t16:48:45z","body":"its there for cases where you absolutely need a local file to work with, for example if you need to run a cli program against a file.\r\n\r\nnot sure about depriciating it, the valid use cases could also be handled by manually creating a tmp file but that would be less efficient for local storages."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22649815","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22649815","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22649815,"user":{"login":"maestro7879","id":1649244,"avatar_url":"https://gravatar.com/avatar/715860f8d54269a841d2db1d0448cd83?d=https%3a%2f%2fidenticons.github.com%2f4d6fa1937265ce3f39760b30e733a0fd.png&r=x","gravatar_id":"715860f8d54269a841d2db1d0448cd83","url":"https://api.github.com/users/maestro7879","html_url":"https://github.com/maestro7879","followers_url":"https://api.github.com/users/maestro7879/followers","following_url":"https://api.github.com/users/maestro7879/following{/other_user}","gists_url":"https://api.github.com/users/maestro7879/gists{/gist_id}","starred_url":"https://api.github.com/users/maestro7879/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maestro7879/subscriptions","organizations_url":"https://api.github.com/users/maestro7879/orgs","repos_url":"https://api.github.com/users/maestro7879/repos","events_url":"https://api.github.com/users/maestro7879/events{/privacy}","received_events_url":"https://api.github.com/users/maestro7879/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t16:52:28z","updated_at":"2013-08-14t16:52:28z","body":"@schiesbn - no, not working. it's the same behaviour as before. i can make it work if i manually create the file versiontest2.txt.v in the file versions folder. the web interface will then show that version."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22650822","html_url":"https://github.com/owncloud/core/issues/4079#issuecomment-22650822","issue_url":"https://api.github.com/repos/owncloud/core/issues/4079","id":22650822,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-14t17:06:41z","updated_at":"2013-08-14t17:06:50z","body":"@maestro7879 but the path you see in the owncloud log is correct, right. than i really don't know what is going wrong on windows because we do a simple regexp search for ```c:\\inetpub\\wwwroot\\owncloud\\data/guid/files_versions/versiontest2.txt.v*``` which should match every version because of the ```*```, see: https://github.com/owncloud/core/blob/stable5/apps/files_versions/lib/versions.php#l256"}]