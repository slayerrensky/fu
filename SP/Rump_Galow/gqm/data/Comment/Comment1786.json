[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13997596","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-13997596","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":13997596,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-23t20:57:11z","updated_at":"2013-02-23t20:57:11z","body":"some more commits that maybe fixes issue #1687 \r\n\r\nthe main issue was that uploading was broken by #1590 please don't forget about shared files guys! this took me a while to figure out why file changes weren't being written. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13997759","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-13997759","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":13997759,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-02-23t21:06:05z","updated_at":"2013-02-23t21:06:05z","body":":+1: code looks fine\r\n\r\n@mtgap when a shared files gets changed by someone else, does the etag of the shared folder change and is that change propagated?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13997887","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-13997887","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":13997887,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-23t21:12:18z","updated_at":"2013-02-23t21:12:18z","body":"@icewind1991 no, i don't think so. that's why i asked:\r\n>i think this is necessary for syncing shared files, but i'm not entirely sure.\r\n\r\nis the sync client checking the etags of folders and then checking the etags of the folder contents if the etag of the folder is different?\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13999093","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-13999093","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":13999093,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-02-23t22:17:14z","updated_at":"2013-02-23t22:17:14z","body":"as far as i know\r\n\r\n@dragotin ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13999455","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-13999455","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":13999455,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-23t22:38:00z","updated_at":"2013-02-23t22:38:00z","body":"i suppose the share api could listen to the filesystem hooks to update the etags. eventually i want to get rid of the shared folder so we can avoid all this nonsense."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14006711","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14006711","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14006711,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-02-24t10:56:41z","updated_at":"2013-02-24t10:56:41z","body":"yes, the sync checks the etag of directories.  and if an etag has changed compared to the last check, the directories is opened and its contents checked. so its important that the shared folder has an etag and that its maintained, ie. if something changes within the shared folder, the change must be propagated up to all directories, over the whole directory chain.\r\n\r\ntalking about the shared folder, i also think the shared folder is strange. it also has a problem with syncing: if the user shares the shared dir to the desktop, ie. to c:\\users\\freitag\\owncloud_shares, he will get all files that were shared with him in there. it's not clear to me where files get synced to that the user copies in the directory owncloud_shares on the client. i think we should have an kind of \"app\" \"shared items\" like we now have \"files\", \"bookmarks\" and stuff. but this should be thought through well..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14026086","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14026086","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14026086,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-25t05:09:46z","updated_at":"2013-02-25t05:09:46z","body":"@dragotin well, if someone copies a file to the shared folder it shouldn't be uploaded at all. if it's into a 'shared' folder then it should be uploaded if create permission is granted.  like i said, i want to eventually get rid of the concept of the shared folder."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14026275","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14026275","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14026275,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-25t05:19:37z","updated_at":"2013-02-25t05:19:37z","body":"@icewind1991 i just started working on updating the etag of the shared folder for changes done by the owner of the file, but now i'm wondering if there are some other technical flaws with the current implementation. specifically, should we be forwarding hooks with the source paths? however, apps probably aren't paying attention to the owner of the file. i think we considered doing this before for updating the old file cache, but ran into issues."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14074646","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14074646","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14074646,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-02-25t20:49:12z","updated_at":"2013-02-25t20:49:12z","body":"we can't foreward hooks atm because they are limited to the current users home folder, hoping to fix that for 6.0"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14080994","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14080994","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14080994,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-25t22:43:47z","updated_at":"2013-02-25t22:43:47z","body":"@icewind1991 now i remember this. any suggestions for what to do now? \r\n\r\ni'm thinking that i should update the etag of the shared folder everytime there is a an etag variable passed to put() in the shared cache."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14098063","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14098063","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14098063,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-26t06:44:58z","updated_at":"2013-02-26t06:44:58z","body":"okay, i think i'm really close to having this fixed now. sorry for all the new code so close to release, but it seems this has always been broken.\r\n\r\n@icewind1991 @dragotin when i edit a shared file on my desktop the filesystem hooks are giving me a path of just '/shared' and not the entire file path. that doesn't seem to be the case in the web ui. i need the full path to correctly update the etags. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14105456","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14105456","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14105456,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-02-26t10:41:56z","updated_at":"2013-02-26t10:41:56z","body":"please fix the issues and rebase ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14122568","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14122568","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14122568,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-26t16:04:44z","updated_at":"2013-02-26t16:04:44z","body":"that's not a top priority. i just want actual testers."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14205202","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14205202","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14205202,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-27t22:44:02z","updated_at":"2013-02-27t22:44:02z","body":"@icewind1991 @karlitschek @schiesbn @dragotin @danimo \r\n\r\ntest please :)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14228290","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14228290","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14228290,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-28t11:09:01z","updated_at":"2013-02-28t11:15:50z","body":"it seems like the sync client doesn't detect changes to the share folder any more.\r\nif i share a file with a user the file gets synced to the client. but if i edit the file on my client than it will never be synced back to owncloud. not sure if this bug is related to the new sync client (1.2.1, for previous tests i used 1.2) or to the changes server side.\r\n\r\n@dragotin @danimo what do you think?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14237424","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14237424","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14237424,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-28t15:06:43z","updated_at":"2013-02-28t15:20:50z","body":"i just had a look at the sync client. he detect the local changes to the file but if he tries to upload it he gets a 507:\r\n\r\n```\r\n02-28 16:03:09:306 oc_module: sendfile request failed with http status 507!\r\n02-28 16:03:09:306 _csync_push_file: file: /home/schiesbn/src/owncloud/syncdir/shared/hello.txt, command: sendfile, error:  from errno 28\r\n```\r\n\r\nif i go back to the web interface after the sync failed and unshare the file following happens: after the next run of the sync client i get a notification \"shared removed\" but at the same time a folder \"shared\" will be created on the server with the file. but now of course it is a local file and no longer a shared file."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14238950","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14238950","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14238950,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-28t15:34:56z","updated_at":"2013-02-28t15:34:56z","body":"you had update permission for the shared file right?\r\n\r\nyou shouldn't be getting insufficient storage 507 errors because i switched free space to unknown. i'm not sure what's going on. like i said before the post_write hooks coming from the desktop client only give me the path /shared. it should still be able to update the file on the server, but it may not propagate the etag for the parent folders of the file owner.\r\n\r\ncould you also check editing the file with the file owner, and editing on the web ui with the person shared with."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14238988","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14238988","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14238988,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-28t15:35:40z","updated_at":"2013-02-28t15:35:40z","body":"oh, i probably need to merge master in here to fix the 507 ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14239739","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14239739","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14239739,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-28t15:49:03z","updated_at":"2013-02-28t15:49:03z","body":"@mtgap now it seems to work. thanks! will make some additional tests..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14241051","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14241051","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14241051,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-28t16:10:16z","updated_at":"2013-02-28t16:10:16z","body":"ok sharing a file and editing it seems to work fine now. but if i share another file the sync client will never detect this changes. i had a quick look at the database and it seems like the etag for the shared folder will not be updated if a additional files gets shared to the user.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14332237","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14332237","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14332237,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-02t17:58:33z","updated_at":"2013-03-02t17:58:33z","body":"@schiesbn should be all good now with last commit. please test again.\r\n\r\n@karlitschek this needs to be in owncloud 5."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14378260","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14378260","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14378260,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-04t12:26:04z","updated_at":"2013-03-04t12:26:15z","body":"it seems like the post_shared signal doesn't get emitted if i share a new file.\r\n\r\nadditionally i assume that you also need to connect to the unshare hook. because also in this case the etag of /shared needs to be updated."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14392866","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14392866","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14392866,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-04t17:27:20z","updated_at":"2013-03-04t17:27:20z","body":"i see now that post_shared isn't emitted for group shares. were you trying a group share? \r\n\r\nthe unshare hooks are in the files_encryption branch. is this being merged in soon?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14429085","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14429085","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14429085,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t08:41:35z","updated_at":"2013-03-05t08:41:55z","body":"no, i tried to share the file to a user. the file was shared correctly but somehow it used a different path in the code, it never reached the position in the code where you emit the hook. i will try it again later today.\r\n\r\nfile_encryption should be merged before oc5 since we want to ship it at least as a \"preview\"."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14434800","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14434800","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14434800,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t11:12:20z","updated_at":"2013-03-05t11:13:17z","body":"i think i have a idea why it doesn't work always. maybe this helps you to find the right place to fix it:\r\n\r\ni started with a complete new installation:\r\n\r\n- created user1\r\n- created user2\r\n- setup sync client for user1\r\n- login as user2\r\n- share a file -> this will be synced because it is the first time the shared folder appears for user1\r\n- share another file -> nothing happens, the etag doesn't change\r\n- create user3\r\n- login as user3 and share a file from user3 to user2\r\n- go back to user2\r\n- from this point on every time user2 shares a file to user1 the etag gets updated correctly\r\n\r\ni assume that maybe at some point in time you look for the /shared folder of the user who shares the file and not for the /shared folder of the recipient to decide if something has to be updated? could this be the case?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14447724","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14447724","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14447724,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t16:03:57z","updated_at":"2013-03-05t16:03:57z","body":"> i assume that maybe at some point in time you look for the /shared folder of the user who shares the file and not for the /shared folder of the recipient to decide if something has to be updated? could this be the case?\r\n\r\nwhy assume when you can look at the code? https://github.com/owncloud/core/pull/1786/files#l4r31\r\n\r\ni see nothing wrong with anything."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14450437","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14450437","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14450437,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t16:46:10z","updated_at":"2013-03-05t16:46:10z","body":"@mtgap have you tried to follow my steps? does it work for you or can you reproduce it?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14453435","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14453435","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14453435,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t17:36:01z","updated_at":"2013-03-05t17:36:01z","body":"the problem is this if-statement: \r\nhttps://github.com/owncloud/core/blob/ee0c38bb5112af4aa491b526ca390de52dd3ab7e/apps/files_sharing/lib/sharedstorage.php#l414\r\n\r\nin the scenario described above the user is logged in, '\\ocp\\user::getuser() == $options['user']' and no files are shared with the user. that's why the if statement evaluates to false -> signals aren't connected.\r\n\r\nafter step 8 in the scenario the last check ('\\ocp\\share::getitemssharedwith('file')') returns some results, the if statement is true -> signals connected -> etag gets updated.\r\n\r\ni'm not sure what you want to check with the if statement. therefore i leave it to you to fix it."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14454254","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14454254","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14454254,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t17:49:46z","updated_at":"2013-03-05t17:49:46z","body":"oh, okay the first share gets lost right, because there will be 0 shares at first?\r\n\r\ni had tweaked that if statement to get it working for public links to reshares i believe."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14456717","html_url":"https://github.com/owncloud/core/pull/1786#issuecomment-14456717","issue_url":"https://api.github.com/repos/owncloud/core/issues/1786","id":14456717,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t18:33:34z","updated_at":"2013-03-05t18:33:34z","body":"@mtgap i believe that not only the first share gets lost with the current if statement. if i understand it correctly \\ocp\\share::getitemssharedwith('file') checks if files are shared with the current users but that's irrelevant if you share files to another user. the etag of the shared folder from the other user needs to be updated, no matter if files are shared to the current user or not."}]