[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12741106","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-12741106","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":12741106,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-01-26t19:53:52z","updated_at":"2013-01-26t19:53:52z","body":"@blizzz can you have a look please? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12830616","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-12830616","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":12830616,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-01-29t11:31:21z","updated_at":"2013-01-29t11:34:02z","body":"please make sure that tls (advanced tab) is unchecked when using ldaps.\r\n\r\nplease also make sure that the required certificates are installed. it might be necessary to add a \"tls_cacert /path/to/cert\" line /etc/ldap/ldap.conf."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13332230","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13332230","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13332230,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-02-09t15:04:49z","updated_at":"2013-02-09t15:04:49z","body":"@digital-wonderland can you confirm that it works now?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13348061","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13348061","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13348061,"user":{"login":"digital-wonderland","id":2522615,"avatar_url":"https://gravatar.com/avatar/54239d28b1639acbf5953075e09494bd?d=https%3a%2f%2fidenticons.github.com%2f1faaab721187402c031c68977613f43d.png&r=x","gravatar_id":"54239d28b1639acbf5953075e09494bd","url":"https://api.github.com/users/digital-wonderland","html_url":"https://github.com/digital-wonderland","followers_url":"https://api.github.com/users/digital-wonderland/followers","following_url":"https://api.github.com/users/digital-wonderland/following{/other_user}","gists_url":"https://api.github.com/users/digital-wonderland/gists{/gist_id}","starred_url":"https://api.github.com/users/digital-wonderland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digital-wonderland/subscriptions","organizations_url":"https://api.github.com/users/digital-wonderland/orgs","repos_url":"https://api.github.com/users/digital-wonderland/repos","events_url":"https://api.github.com/users/digital-wonderland/events{/privacy}","received_events_url":"https://api.github.com/users/digital-wonderland/received_events","type":"user","site_admin":false},"created_at":"2013-02-10t12:17:56z","updated_at":"2013-02-10t12:17:56z","body":"no, it does not work. the proper certificate is referenced in the tls_cacert line, tls is disabled and we even tried with disabled certificate validation. as soon as we switch back to non secure connection it works just fine and other systems are able to connect via ldaps. in the log is nothing helpful.\r\n\r\nthe system is an up to date ubuntu lts 12.04 with owncloud 4.5.6.. what other information can we provide to debug this?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13348592","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13348592","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13348592,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-02-10t12:31:40z","updated_at":"2013-02-10t12:31:40z","body":"does it work when you disable ssl certificate check?\r\n\r\ncan you check the logs on ldap server side? are there errors when trying to establish the secure connection?\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13351690","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13351690","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13351690,"user":{"login":"digital-wonderland","id":2522615,"avatar_url":"https://gravatar.com/avatar/54239d28b1639acbf5953075e09494bd?d=https%3a%2f%2fidenticons.github.com%2f1faaab721187402c031c68977613f43d.png&r=x","gravatar_id":"54239d28b1639acbf5953075e09494bd","url":"https://api.github.com/users/digital-wonderland","html_url":"https://github.com/digital-wonderland","followers_url":"https://api.github.com/users/digital-wonderland/followers","following_url":"https://api.github.com/users/digital-wonderland/following{/other_user}","gists_url":"https://api.github.com/users/digital-wonderland/gists{/gist_id}","starred_url":"https://api.github.com/users/digital-wonderland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digital-wonderland/subscriptions","organizations_url":"https://api.github.com/users/digital-wonderland/orgs","repos_url":"https://api.github.com/users/digital-wonderland/repos","events_url":"https://api.github.com/users/digital-wonderland/events{/privacy}","received_events_url":"https://api.github.com/users/digital-wonderland/received_events","type":"user","site_admin":false},"created_at":"2013-02-10t15:51:02z","updated_at":"2013-02-10t15:51:02z","body":"it does not work with disabled certificate check and nothing shows up in the ldap server logs.\r\n\r\notoh running ldapsearch -h ldaps://$host:10636 -d \"uid=readonly,ou=users,ou=system\" -w  \"$password\" on the machine owncloud is installed on works just fine so i assume the configuration within ldap.conf is correct."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13397594","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13397594","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13397594,"user":{"login":"rperson","id":3535265,"avatar_url":"https://gravatar.com/avatar/604568d7d66f66e756867e4c6441487b?d=https%3a%2f%2fidenticons.github.com%2f5952b3e070b2b6f0365a6e65c55e2014.png&r=x","gravatar_id":"604568d7d66f66e756867e4c6441487b","url":"https://api.github.com/users/rperson","html_url":"https://github.com/rperson","followers_url":"https://api.github.com/users/rperson/followers","following_url":"https://api.github.com/users/rperson/following{/other_user}","gists_url":"https://api.github.com/users/rperson/gists{/gist_id}","starred_url":"https://api.github.com/users/rperson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rperson/subscriptions","organizations_url":"https://api.github.com/users/rperson/orgs","repos_url":"https://api.github.com/users/rperson/repos","events_url":"https://api.github.com/users/rperson/events{/privacy}","received_events_url":"https://api.github.com/users/rperson/received_events","type":"user","site_admin":false},"created_at":"2013-02-11t19:24:36z","updated_at":"2013-02-11t19:24:36z","body":"we are seeing the exact same issue with 4.5.5. i have atlassion crowd installed on the same box and works as well as the ldapsearch function, so highly doubt there is a cert issue. we are not using the standard 636 port for the ssl connection i have tried to configure using our port 1793 via the admin interface but the logs and snooping the network connection seems to indicate it using the default 636 port. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13432069","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13432069","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13432069,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-02-12t13:21:38z","updated_at":"2013-02-12t13:21:38z","body":"i will have a closer look, stay tuned."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13470803","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13470803","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13470803,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-02-13t01:57:33z","updated_at":"2013-02-13t01:57:33z","body":"i have two observations:\r\n\r\nwith an owncloud instance running on php 5.4.6 and ldap in a virtual machine it seems that every now and then it works, with most of the time indeed not-working. what i can see on my openldap server is this over and over again:\r\n\r\n```\r\nfeb 13 02:33:16 gamma slapd[1276]: conn=2476 fd=21 accept from ip=192.168.56.1:53477 (ip=0.0.0.0:636)\r\nfeb 13 02:33:16 gamma slapd[1276]: conn=2476 fd=21 tls established tls_ssf=128 ssf=128\r\nfeb 13 02:33:16 gamma slapd[1276]: conn=2476 fd=21 closed (connection lost)\r\n```\r\n\r\nwith unencrypted connection it always works.\r\n\r\nhowever, on an owncloud instance on php 5.3 (and on the same server as ldap) it always works.\r\n\r\nwhich php versions are you using?\r\n\r\nit seemed there indeed were issues wrt ldap ssl connections in php 5.4, but they should have been fixed in 5.4.1 http://chrisstankus.blogspot.de/2012/05/php-541-ldaps-fix.html otoh that's all i could google about 5.4.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13508661","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13508661","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13508661,"user":{"login":"digital-wonderland","id":2522615,"avatar_url":"https://gravatar.com/avatar/54239d28b1639acbf5953075e09494bd?d=https%3a%2f%2fidenticons.github.com%2f1faaab721187402c031c68977613f43d.png&r=x","gravatar_id":"54239d28b1639acbf5953075e09494bd","url":"https://api.github.com/users/digital-wonderland","html_url":"https://github.com/digital-wonderland","followers_url":"https://api.github.com/users/digital-wonderland/followers","following_url":"https://api.github.com/users/digital-wonderland/following{/other_user}","gists_url":"https://api.github.com/users/digital-wonderland/gists{/gist_id}","starred_url":"https://api.github.com/users/digital-wonderland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digital-wonderland/subscriptions","organizations_url":"https://api.github.com/users/digital-wonderland/orgs","repos_url":"https://api.github.com/users/digital-wonderland/repos","events_url":"https://api.github.com/users/digital-wonderland/events{/privacy}","received_events_url":"https://api.github.com/users/digital-wonderland/received_events","type":"user","site_admin":false},"created_at":"2013-02-13t18:16:58z","updated_at":"2013-02-13t18:20:21z","body":"we use ubuntu 12.04 lts which comes with php 5.3.10 and apache ds 2.0.0-m9 as ldap server."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13511247","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-13511247","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":13511247,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-02-13t19:06:10z","updated_at":"2013-02-13t19:06:10z","body":"@digital-wonderland when owncloud connects to the server, you should find it in your logs. maybe you need to adjust the log level, but i am not familiar with apache ds. would be really good whether you can recheck this."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14030177","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14030177","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14030177,"user":{"login":"mrosset","id":3691705,"avatar_url":"https://gravatar.com/avatar/5e5ae163c66d81ec85f4ab1987bb78fa?d=https%3a%2f%2fidenticons.github.com%2fe3637fc9a7b7551da53c06df62ac2ced.png&r=x","gravatar_id":"5e5ae163c66d81ec85f4ab1987bb78fa","url":"https://api.github.com/users/mrosset","html_url":"https://github.com/mrosset","followers_url":"https://api.github.com/users/mrosset/followers","following_url":"https://api.github.com/users/mrosset/following{/other_user}","gists_url":"https://api.github.com/users/mrosset/gists{/gist_id}","starred_url":"https://api.github.com/users/mrosset/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrosset/subscriptions","organizations_url":"https://api.github.com/users/mrosset/orgs","repos_url":"https://api.github.com/users/mrosset/repos","events_url":"https://api.github.com/users/mrosset/events{/privacy}","received_events_url":"https://api.github.com/users/mrosset/received_events","type":"user","site_admin":false},"created_at":"2013-02-25t08:22:42z","updated_at":"2013-02-25t08:22:42z","body":"same problem here. ldap configuration works fine, ldaps doesn't work.\r\n\r\ndebug\t user_ldap\t reading the configuration\t february 25, 2013, 09:17\r\ndebug\tuser_ldap\tchecking conf state: isconfigured? isforce? configid? user_ldap\tfebruary 25, 2013, 09:19\r\nerror\tuser_ldap\tbind failed: :\tfebruary 25, 2013, 09:19\r\nerror\tuser_ldap\tconnection could not be established\tfebruary 25, 2013, 09:19\r\nerror\tuser_ldap\tbind failed: -1: can't contact ldap server\tfebruary 25, 2013, 09:19\r\n\r\ni tried to import certificates (certificate form ad and ca for this one), to modify ldap configuration... but i didn't find any solution. \r\n\r\ni'm on owncloud 4.5.7. try to map active directory server. \r\n\r\nif you need more informations... i'm available. we really need using ldaps in our company... \r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14106337","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14106337","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14106337,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-02-26t11:05:37z","updated_at":"2013-02-26t11:05:37z","body":"@mysterejack make sure the certificate is pointed to in /etc/ldap/ldap.conf\r\n\r\nalso check the ldap server log for connection errors."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14107445","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14107445","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14107445,"user":{"login":"mrosset","id":3691705,"avatar_url":"https://gravatar.com/avatar/5e5ae163c66d81ec85f4ab1987bb78fa?d=https%3a%2f%2fidenticons.github.com%2fe3637fc9a7b7551da53c06df62ac2ced.png&r=x","gravatar_id":"5e5ae163c66d81ec85f4ab1987bb78fa","url":"https://api.github.com/users/mrosset","html_url":"https://github.com/mrosset","followers_url":"https://api.github.com/users/mrosset/followers","following_url":"https://api.github.com/users/mrosset/following{/other_user}","gists_url":"https://api.github.com/users/mrosset/gists{/gist_id}","starred_url":"https://api.github.com/users/mrosset/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrosset/subscriptions","organizations_url":"https://api.github.com/users/mrosset/orgs","repos_url":"https://api.github.com/users/mrosset/repos","events_url":"https://api.github.com/users/mrosset/events{/privacy}","received_events_url":"https://api.github.com/users/mrosset/received_events","type":"user","site_admin":false},"created_at":"2013-02-26t11:35:59z","updated_at":"2013-02-26t11:37:24z","body":"@blizzz thanks for your answer.\r\n\r\nhere is my ldap.conf\r\n\r\n#\r\n#ldap defaults\r\n#\r\n\r\n#see ldap.conf(5) for details\r\n#this file should be world readable but not world writable.\r\n\r\n#base\tdc=example,dc=com\r\n#uri\tldap://ldap.example.com ldap://ldap-master.example.com:666\r\n\r\n#sizelimit\t12\r\n#timelimit\t15\r\n#deref\t\tnever\r\n\r\n#tls certificates (needed for gnutls)\r\ntls_cacert\t/etc/ssl/certs/ldaps.pem\r\ntls_cacertdir\t/etc/ssl/certs\r\n\r\nldaps.pem is a file with two certificates definitions. one from ad and one from ca. \r\n\r\nin /etc/ssl/certs : i added too these two certificates files separately. \r\n\r\ni can't check ldap server logs right now, unfortunately. any ideas ? "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14379371","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14379371","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14379371,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-04t12:53:18z","updated_at":"2013-03-04t12:53:18z","body":"not without ldap logs, unfortunately."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14718973","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14718973","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14718973,"user":{"login":"icanseeyou7687","id":3788162,"avatar_url":"https://gravatar.com/avatar/358229a216d6280a8b18eafc1e1ebda7?d=https%3a%2f%2fidenticons.github.com%2f227762d308593916b456ec8dff633d89.png&r=x","gravatar_id":"358229a216d6280a8b18eafc1e1ebda7","url":"https://api.github.com/users/icanseeyou7687","html_url":"https://github.com/icanseeyou7687","followers_url":"https://api.github.com/users/icanseeyou7687/followers","following_url":"https://api.github.com/users/icanseeyou7687/following{/other_user}","gists_url":"https://api.github.com/users/icanseeyou7687/gists{/gist_id}","starred_url":"https://api.github.com/users/icanseeyou7687/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icanseeyou7687/subscriptions","organizations_url":"https://api.github.com/users/icanseeyou7687/orgs","repos_url":"https://api.github.com/users/icanseeyou7687/repos","events_url":"https://api.github.com/users/icanseeyou7687/events{/privacy}","received_events_url":"https://api.github.com/users/icanseeyou7687/received_events","type":"user","site_admin":false},"created_at":"2013-03-11t15:18:16z","updated_at":"2013-03-11t15:18:16z","body":"just thought i would throw in my two cents...\r\n\r\ni am running owncloud on a centos6 server, and i had to add these to my conf file, and this worked for me\r\n\r\ntls_reqcert never\r\ntls_cacert /etc/openldap/certs/cert.cer"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14804755","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14804755","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14804755,"user":{"login":"k4k","id":524645,"avatar_url":"https://gravatar.com/avatar/d2370393332e368172e3c4010c60583e?d=https%3a%2f%2fidenticons.github.com%2f43224029fd81008db71a32b3d37e8c30.png&r=x","gravatar_id":"d2370393332e368172e3c4010c60583e","url":"https://api.github.com/users/k4k","html_url":"https://github.com/k4k","followers_url":"https://api.github.com/users/k4k/followers","following_url":"https://api.github.com/users/k4k/following{/other_user}","gists_url":"https://api.github.com/users/k4k/gists{/gist_id}","starred_url":"https://api.github.com/users/k4k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4k/subscriptions","organizations_url":"https://api.github.com/users/k4k/orgs","repos_url":"https://api.github.com/users/k4k/repos","events_url":"https://api.github.com/users/k4k/events{/privacy}","received_events_url":"https://api.github.com/users/k4k/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t21:28:44z","updated_at":"2013-03-12t21:32:26z","body":"thought i would add my observations in here as well. to follow up on what *icanseeyou7687* said, you need to have the the tls_cacert specified in /etc/openlap/ldap.conf as follows:\r\n\r\n    tls_cacert /etc/pki/tls/certs/cert.cer\r\n\r\ni found this strange as i already had:\r\n\r\n    tls_cacertdir /etc/pki/tls/certs\r\n\r\nbut for some reason it wasn't reading this. by added tls_cacert above my tls_cacertdir line and restarting apache i was able to get it to work just fine. i use the tls_cacertdir line for ldap authentication for system logins and adding tls_cacert above this line does not seem to conflict (even though it's technically a different cert than system-user ldap is using). my guess is that php-ldap can not or does not read properly the tls_cacertdir directive in the ldap.conf. perhaps a bug that needs reporting upstream?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14828266","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14828266","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14828266,"user":{"login":"mrosset","id":3691705,"avatar_url":"https://gravatar.com/avatar/5e5ae163c66d81ec85f4ab1987bb78fa?d=https%3a%2f%2fidenticons.github.com%2fe3637fc9a7b7551da53c06df62ac2ced.png&r=x","gravatar_id":"5e5ae163c66d81ec85f4ab1987bb78fa","url":"https://api.github.com/users/mrosset","html_url":"https://github.com/mrosset","followers_url":"https://api.github.com/users/mrosset/followers","following_url":"https://api.github.com/users/mrosset/following{/other_user}","gists_url":"https://api.github.com/users/mrosset/gists{/gist_id}","starred_url":"https://api.github.com/users/mrosset/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrosset/subscriptions","organizations_url":"https://api.github.com/users/mrosset/orgs","repos_url":"https://api.github.com/users/mrosset/repos","events_url":"https://api.github.com/users/mrosset/events{/privacy}","received_events_url":"https://api.github.com/users/mrosset/received_events","type":"user","site_admin":false},"created_at":"2013-03-13t07:41:49z","updated_at":"2013-03-13t07:41:49z","body":"@icanseeyou7687 \r\n\r\nof course, it works with \"tls_reqcert never\". but this means : \"don't need to check ssl certificates validity\". so ... you use ldaps without real security. \r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14867826","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14867826","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14867826,"user":{"login":"icanseeyou7687","id":3788162,"avatar_url":"https://gravatar.com/avatar/358229a216d6280a8b18eafc1e1ebda7?d=https%3a%2f%2fidenticons.github.com%2f227762d308593916b456ec8dff633d89.png&r=x","gravatar_id":"358229a216d6280a8b18eafc1e1ebda7","url":"https://api.github.com/users/icanseeyou7687","html_url":"https://github.com/icanseeyou7687","followers_url":"https://api.github.com/users/icanseeyou7687/followers","following_url":"https://api.github.com/users/icanseeyou7687/following{/other_user}","gists_url":"https://api.github.com/users/icanseeyou7687/gists{/gist_id}","starred_url":"https://api.github.com/users/icanseeyou7687/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icanseeyou7687/subscriptions","organizations_url":"https://api.github.com/users/icanseeyou7687/orgs","repos_url":"https://api.github.com/users/icanseeyou7687/repos","events_url":"https://api.github.com/users/icanseeyou7687/events{/privacy}","received_events_url":"https://api.github.com/users/icanseeyou7687/received_events","type":"user","site_admin":false},"created_at":"2013-03-13t20:54:16z","updated_at":"2013-03-13t20:54:16z","body":"well everything is still encrypted, but it is susceptible to a mitm attack.\r\n\r\ni actually changed it to tls_reqcert allow, which is a little better and this works.  but without this line i cannot get the darn thing to establish a connection."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14955983","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14955983","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14955983,"user":{"login":"ghost","id":10137,"avatar_url":"https://gravatar.com/avatar/ac0c4949f8df628b3f77a42a3b814c4d?d=https%3a%2f%2fidenticons.github.com%2f715e8ba46f8bc29c24f3fbfdb8d96d71.png&r=x","gravatar_id":"ac0c4949f8df628b3f77a42a3b814c4d","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"user","site_admin":false},"created_at":"2013-03-15t11:35:45z","updated_at":"2013-03-15t11:35:45z","body":"do you know about this: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=658896 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14956096","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-14956096","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":14956096,"user":{"login":"ghost","id":10137,"avatar_url":"https://gravatar.com/avatar/ac0c4949f8df628b3f77a42a3b814c4d?d=https%3a%2f%2fidenticons.github.com%2f715e8ba46f8bc29c24f3fbfdb8d96d71.png&r=x","gravatar_id":"ac0c4949f8df628b3f77a42a3b814c4d","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"user","site_admin":false},"created_at":"2013-03-15t11:39:24z","updated_at":"2013-03-15t11:39:24z","body":"this too: http://www.bebt.de/blog/debian/archives/2011/02/20/t13_14_34/index.html "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15021827","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-15021827","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":15021827,"user":{"login":"ghost","id":10137,"avatar_url":"https://gravatar.com/avatar/ac0c4949f8df628b3f77a42a3b814c4d?d=https%3a%2f%2fidenticons.github.com%2f715e8ba46f8bc29c24f3fbfdb8d96d71.png&r=x","gravatar_id":"ac0c4949f8df628b3f77a42a3b814c4d","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"user","site_admin":false},"created_at":"2013-03-17t12:23:05z","updated_at":"2013-03-17t12:23:05z","body":"and material about the gnutls project separating from the gnu project:  \r\nhttp://lists.gnu.org/archive/html/gnutls-devel/2012-12/index.html\r\nhttp://lwn.net/articles/529522/\r\nhttp://rem.eifzilla.de.ipv4.sixxs.org/archives/2012/11/27/the-tragedy-of-gnu-copyright-assignments  \r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/18902099","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-18902099","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":18902099,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-06-04t10:59:04z","updated_at":"2013-06-04t10:59:04z","body":"@digital-wonderland late, but we got here a solution: https://github.com/owncloud/core/issues/2600#issuecomment-18870534\r\n\r\ndoes it work when you specify the host including the port?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19318326","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-19318326","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":19318326,"user":{"login":"digital-wonderland","id":2522615,"avatar_url":"https://gravatar.com/avatar/54239d28b1639acbf5953075e09494bd?d=https%3a%2f%2fidenticons.github.com%2f1faaab721187402c031c68977613f43d.png&r=x","gravatar_id":"54239d28b1639acbf5953075e09494bd","url":"https://api.github.com/users/digital-wonderland","html_url":"https://github.com/digital-wonderland","followers_url":"https://api.github.com/users/digital-wonderland/followers","following_url":"https://api.github.com/users/digital-wonderland/following{/other_user}","gists_url":"https://api.github.com/users/digital-wonderland/gists{/gist_id}","starred_url":"https://api.github.com/users/digital-wonderland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digital-wonderland/subscriptions","organizations_url":"https://api.github.com/users/digital-wonderland/orgs","repos_url":"https://api.github.com/users/digital-wonderland/repos","events_url":"https://api.github.com/users/digital-wonderland/events{/privacy}","received_events_url":"https://api.github.com/users/digital-wonderland/received_events","type":"user","site_admin":false},"created_at":"2013-06-12t10:50:43z","updated_at":"2013-06-12t10:50:43z","body":"works just fine. i was pretty sure i tried that before opening the issue but ...\r\n\r\nthanks for the pointer :)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27977280","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-27977280","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":27977280,"user":{"login":"freak1857","id":5877685,"avatar_url":"https://gravatar.com/avatar/6cbf066d5cfafa83dc8d5ee5fe102329?d=https%3a%2f%2fidenticons.github.com%2f2ada564b4914534f541dddb3548c2b09.png&r=x","gravatar_id":"6cbf066d5cfafa83dc8d5ee5fe102329","url":"https://api.github.com/users/freak1857","html_url":"https://github.com/freak1857","followers_url":"https://api.github.com/users/freak1857/followers","following_url":"https://api.github.com/users/freak1857/following{/other_user}","gists_url":"https://api.github.com/users/freak1857/gists{/gist_id}","starred_url":"https://api.github.com/users/freak1857/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/freak1857/subscriptions","organizations_url":"https://api.github.com/users/freak1857/orgs","repos_url":"https://api.github.com/users/freak1857/repos","events_url":"https://api.github.com/users/freak1857/events{/privacy}","received_events_url":"https://api.github.com/users/freak1857/received_events","type":"user","site_admin":false},"created_at":"2013-11-07t15:51:40z","updated_at":"2013-11-07t15:53:25z","body":"hi all,\r\ni have a problem with the ldaps connection. (with ladp everything works fine)\r\nat the moment i use the owncloud enterprise edition 5.0.12 with ldap user and group backend 0.4.0.\r\n\r\ni also tried to connect with ldaps://fqdn:636 put it didn't also work either.\r\n\r\nhas anyone got an idee how i can fix the problem?\r\n\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27978370","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-27978370","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":27978370,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-11-07t16:01:47z","updated_at":"2013-11-07t16:01:47z","body":"try http://doc.owncloud.org/server/5.0/admin_manual/configuration/auth_ldap.html#ssl-certificate-verification-ldaps-tls"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27979032","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-27979032","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":27979032,"user":{"login":"freak1857","id":5877685,"avatar_url":"https://gravatar.com/avatar/6cbf066d5cfafa83dc8d5ee5fe102329?d=https%3a%2f%2fidenticons.github.com%2f2ada564b4914534f541dddb3548c2b09.png&r=x","gravatar_id":"6cbf066d5cfafa83dc8d5ee5fe102329","url":"https://api.github.com/users/freak1857","html_url":"https://github.com/freak1857","followers_url":"https://api.github.com/users/freak1857/followers","following_url":"https://api.github.com/users/freak1857/following{/other_user}","gists_url":"https://api.github.com/users/freak1857/gists{/gist_id}","starred_url":"https://api.github.com/users/freak1857/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/freak1857/subscriptions","organizations_url":"https://api.github.com/users/freak1857/orgs","repos_url":"https://api.github.com/users/freak1857/repos","events_url":"https://api.github.com/users/freak1857/events{/privacy}","received_events_url":"https://api.github.com/users/freak1857/received_events","type":"user","site_admin":false},"created_at":"2013-11-07t16:08:42z","updated_at":"2013-11-07t16:08:42z","body":"hi blizzz, \r\nthank you for your fast answer. \r\ni test this before. unfortunately without success.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27979603","html_url":"https://github.com/owncloud/core/issues/1301#issuecomment-27979603","issue_url":"https://api.github.com/repos/owncloud/core/issues/1301","id":27979603,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-11-07t16:14:42z","updated_at":"2013-11-07t16:14:42z","body":"then please open a new report with help of this template\nhttps://raw.github.com/owncloud/core/master/issue_template.md\n\nthx"}]