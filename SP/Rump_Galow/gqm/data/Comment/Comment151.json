[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/9938487","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-9938487","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":9938487,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2012-10-31t09:47:39z","updated_at":"2012-10-31t09:47:39z","body":"during the weekend we tragged it down to the point where the post_deleteuser hook where not emitted because no function was connected to the hook, even if it is defined in /lib/public/share.php.\r\n\r\nthere was no changes in the sharing code in between. more or less at the same time create user starts failing too because of some routing problems therefore we assumed that both problem could have the same roots.\r\n\r\n@bartv2 could you have a look if this problem has something to do with you latest changes in the routing code? thanks!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10065676","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10065676","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10065676,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t10:19:42z","updated_at":"2012-11-05t10:19:42z","body":"@bartv2 can you please have a look at this?\r\nbecause of the tests are breaking on git master all pull request tests are breaking as well.\r\nthanks a lot!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10109738","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10109738","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10109738,"user":{"login":"diederikdehaas","id":2184351,"avatar_url":"https://gravatar.com/avatar/345b08e3987278c080a62dc6340ac888?d=https%3a%2f%2fidenticons.github.com%2f91b40d171c7013d7e42823fc04da8cda.png&r=x","gravatar_id":"345b08e3987278c080a62dc6340ac888","url":"https://api.github.com/users/diederikdehaas","html_url":"https://github.com/diederikdehaas","followers_url":"https://api.github.com/users/diederikdehaas/followers","following_url":"https://api.github.com/users/diederikdehaas/following{/other_user}","gists_url":"https://api.github.com/users/diederikdehaas/gists{/gist_id}","starred_url":"https://api.github.com/users/diederikdehaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diederikdehaas/subscriptions","organizations_url":"https://api.github.com/users/diederikdehaas/orgs","repos_url":"https://api.github.com/users/diederikdehaas/repos","events_url":"https://api.github.com/users/diederikdehaas/events{/privacy}","received_events_url":"https://api.github.com/users/diederikdehaas/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t13:04:25z","updated_at":"2012-11-06t13:17:12z","body":"@deepdiver1975 https://ci.tmit.eu/job/owncloud-server(master)/1265/testreport/ gives a 404 error"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10110293","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10110293","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10110293,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t13:25:16z","updated_at":"2012-11-06t13:25:16z","body":"@diederikdehaas you are right - the build has been thrown away :-("},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10110564","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10110564","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10110564,"user":{"login":"diederikdehaas","id":2184351,"avatar_url":"https://gravatar.com/avatar/345b08e3987278c080a62dc6340ac888?d=https%3a%2f%2fidenticons.github.com%2f91b40d171c7013d7e42823fc04da8cda.png&r=x","gravatar_id":"345b08e3987278c080a62dc6340ac888","url":"https://api.github.com/users/diederikdehaas","html_url":"https://github.com/diederikdehaas","followers_url":"https://api.github.com/users/diederikdehaas/followers","following_url":"https://api.github.com/users/diederikdehaas/following{/other_user}","gists_url":"https://api.github.com/users/diederikdehaas/gists{/gist_id}","starred_url":"https://api.github.com/users/diederikdehaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diederikdehaas/subscriptions","organizations_url":"https://api.github.com/users/diederikdehaas/orgs","repos_url":"https://api.github.com/users/diederikdehaas/repos","events_url":"https://api.github.com/users/diederikdehaas/events{/privacy}","received_events_url":"https://api.github.com/users/diederikdehaas/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t13:34:06z","updated_at":"2012-11-06t13:34:06z","body":"on tuesday 06 november 2012 14:25:22 thomas mã¼ller wrote:\r\n> @diederikdehaas you are right - the build has been thrown away :-(\r\n\r\n'luckily' they still fail on the current last build:\r\nhttps://ci.tmit.eu/job/owncloud-server%28master%29/1311/testreport/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10112573","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10112573","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10112573,"user":{"login":"fmms","id":908734,"avatar_url":"https://gravatar.com/avatar/d4823653ad8ea742fbda189f405ea398?d=https%3a%2f%2fidenticons.github.com%2f50abc75b125df0a3c0e7f5891037eaa1.png&r=x","gravatar_id":"d4823653ad8ea742fbda189f405ea398","url":"https://api.github.com/users/fmms","html_url":"https://github.com/fmms","followers_url":"https://api.github.com/users/fmms/followers","following_url":"https://api.github.com/users/fmms/following{/other_user}","gists_url":"https://api.github.com/users/fmms/gists{/gist_id}","starred_url":"https://api.github.com/users/fmms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmms/subscriptions","organizations_url":"https://api.github.com/users/fmms/orgs","repos_url":"https://api.github.com/users/fmms/repos","events_url":"https://api.github.com/users/fmms/events{/privacy}","received_events_url":"https://api.github.com/users/fmms/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t14:36:34z","updated_at":"2012-11-06t14:36:34z","body":"to not loose them again here is the output of the failing test cases:\r\n\r\n```\r\nthere were 4 failures:\r\n\r\n1) test_share::testsharewithuser\r\nfailed asserting that two arrays are equal.\r\n--- expected\r\n+++ actual\r\n@@ @@\r\n array (\r\n-    0 => 'test1.txt'\r\n+    0 => 'test.txt'\r\n+    1 => 'test1.txt'\r\n )\r\n\r\n/var/lib/jenkins/jobs/owncloud-server(master)/workspace/tests/lib/share/share.php:259\r\n\r\n2) test_share::testsharewithgroup\r\nfailed asserting that two arrays are equal.\r\n--- expected\r\n+++ actual\r\n@@ @@\r\n array (\r\n     0 => 'test.txt'\r\n+    1 => 'test1.txt'\r\n )\r\n\r\n/var/lib/jenkins/jobs/owncloud-server(master)/workspace/tests/lib/share/share.php:386\r\n\r\n3) test_news_mytest::testtest\r\nfailed asserting that false is true.\r\n\r\n/var/lib/jenkins/jobs/owncloud-server(master)/workspace/tests/bootstrap.php:20\r\n/var/lib/jenkins/jobs/owncloud-server(master)/workspace/apps2/news/tests/index.php:11\r\n\r\n4) test_calendar_calendars::testbasic\r\nfailed asserting that two arrays are equal.\r\n--- expected\r\n+++ actual\r\n@@ @@\r\n     'components' => 'vevent,vtodo,vjournal'\r\n+    'permissions' => 31\r\n )\r\n\r\n/var/lib/jenkins/jobs/owncloud-server(master)/workspace/tests/bootstrap.php:12\r\n/var/lib/jenkins/jobs/owncloud-server(master)/workspace/apps2/calendar/tests/calendar.php:33\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10113648","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10113648","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10113648,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t15:06:11z","updated_at":"2012-11-06t15:06:11z","body":"> 4) test_calendar_calendars::testbasic\r\n\r\nis probably to blame on me when i ported calendar app to the new sharing api. i'll have a look tomorrow."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10116749","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10116749","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10116749,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t16:23:07z","updated_at":"2012-11-06t16:23:07z","body":"@mtgap can we add an const permission_all = 31 to https://github.com/owncloud/core/blob/master/lib/public/share.php#l55 ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10116862","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10116862","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10116862,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t16:26:04z","updated_at":"2012-11-06t16:26:04z","body":"no, permissions are a bitmask for a reason. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10117203","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10117203","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10117203,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t16:35:00z","updated_at":"2012-11-06t16:35:00z","body":"@mtgap from an api convenience point of view it is perfectly okay to provide combined masks."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10118445","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10118445","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10118445,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t17:04:07z","updated_at":"2012-11-06t17:04:07z","body":"i don't quite get why the calendar test fails. i've added another test in 57b3cfc689a55fc11aa73055909bb6779833d515 if that fails something is really wrong ;)\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10118498","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10118498","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10118498,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t17:05:30z","updated_at":"2012-11-06t17:05:30z","body":"wrong repo https://github.com/owncloud/apps/commit/57b3cfc689a55fc11aa73055909bb6779833d515"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10118617","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10118617","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10118617,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t17:08:31z","updated_at":"2012-11-06t17:08:31z","body":"i don't see any reason for a developer using the share api to need to know if all permissions are set or not. adding/removing permissions is done by the sharing dropdown, so the only thing that a developer ever needs to check is if it is possible to edit/delete it.\r\n\r\ni just see @tanghus wanting it for a test case, which isn't good enough of a reason."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10118857","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10118857","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10118857,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t17:13:54z","updated_at":"2012-11-06t17:13:54z","body":"@mtgap then:\r\n\r\n    const permission_all = permission_create | permission_read | permission_update | permission_delete | permission_share;\r\n\r\n;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10119102","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10119102","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10119102,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t17:19:55z","updated_at":"2012-11-06t17:30:11z","body":"no, i need it for assigning permissions. now i do it the \"proper\" way by giving all permissions to the owner in https://github.com/owncloud/apps/blob/master/calendar/lib/calendar.php#l50, but it would ease readability and be less prone for errors if i could just assign permission_all instead. if the api changes i wont have to change my code."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10124077","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10124077","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10124077,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t19:28:09z","updated_at":"2012-11-06t19:28:09z","body":"to elaborate on that: when querying for addressbooks/calendars i assign what equals to permission_all to the contacts owned by current user. that saves me a lot of client side code because i only have to check for the permissions, not for ownership. \r\n\r\n> so the only thing that a developer ever needs to check is if it is possible to edit/delete it.\r\n\r\nwell, the developer has to check for permissions to edit/delete the object. having to check both for ownership and for permissions kinda voids the cruds thingie we aim for ;)\r\nif you're strongly against adding that const i'll accept that and keep it as is - it would just make things easier."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10126951","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10126951","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10126951,"user":{"login":"diederikdehaas","id":2184351,"avatar_url":"https://gravatar.com/avatar/345b08e3987278c080a62dc6340ac888?d=https%3a%2f%2fidenticons.github.com%2f91b40d171c7013d7e42823fc04da8cda.png&r=x","gravatar_id":"345b08e3987278c080a62dc6340ac888","url":"https://api.github.com/users/diederikdehaas","html_url":"https://github.com/diederikdehaas","followers_url":"https://api.github.com/users/diederikdehaas/followers","following_url":"https://api.github.com/users/diederikdehaas/following{/other_user}","gists_url":"https://api.github.com/users/diederikdehaas/gists{/gist_id}","starred_url":"https://api.github.com/users/diederikdehaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diederikdehaas/subscriptions","organizations_url":"https://api.github.com/users/diederikdehaas/orgs","repos_url":"https://api.github.com/users/diederikdehaas/repos","events_url":"https://api.github.com/users/diederikdehaas/events{/privacy}","received_events_url":"https://api.github.com/users/diederikdehaas/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t20:44:34z","updated_at":"2012-11-06t20:45:07z","body":"on tuesday 06 november 2012 17:35:05 thomas mã¼ller wrote:\r\n> @mtgap from an api convenience point of view it is perfectly okay to\r\n> provide combined masks.\r\n\r\n+1\r\n\r\nwhat's the downside of adding it?\r\n\r\n\r\n> api ... sharing dropdown\r\n\r\nwhile it's nice/convenient that there's a ready made gui element for using an \r\napi, in no way should there *ever* be a (forced) coupling between the two.\r\nit's called an *application programming interface* for a reason!\r\n\r\nmy 0.02"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10128283","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10128283","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10128283,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2012-11-06t21:22:12z","updated_at":"2012-11-06t21:22:12z","body":"@tanghus now we're talking about using the sharing permissions outside of just shared items for your use case. this brings up if we should move the cruds permissions definitions outside of the share api. no further comments here since it is unrelated to the issue, move to the mailing list if you want to continue."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10247735","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10247735","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10247735,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2012-11-09t22:58:00z","updated_at":"2012-11-09t22:58:00z","body":"i wrote:\r\n\r\n> is probably to blame on me when i ported calendar app to the new sharing api. i'll have a look tomorrow.\r\n\r\nsorry, but i haven't had time to look at this. @georgehrke since you plan to change the calendar sharing backend for oc 5, can we disable the array comparison test for now? i still haven't got autotest.sh working and spending hours on a test case that will likely be irrelevant soon doesn't feel very productive ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10272118","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10272118","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10272118,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2012-11-11t21:01:07z","updated_at":"2012-11-11t21:01:07z","body":"this issue is now solved, with commit 04aa029cd3f16dc17f06e5a7e11eba5fc07eb2e7. \r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10281747","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10281747","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10281747,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2012-11-12t09:52:06z","updated_at":"2012-11-12t09:52:06z","body":"this might fix the test, but it does not fix the issue for the real user. the sharing app is still not loaded when a user gets deleted."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10360637","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10360637","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10360637,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2012-11-14t09:54:20z","updated_at":"2012-11-14t10:00:43z","body":"sorry, i have to re-open this issue again. it is still not fixed for the real-world run. the problem is not where the hooks are defined. i think it is ok to define hooks only if the app is enabled and loaded. if the app is not loaded we should also avoid to trigger the hooks.\r\n\r\nthe problem was introduced by this commit https://github.com/owncloud/core/commit/bb136b9adf021cb154ff05222d3439373312bbc5#settings/ajax/removeuser.php which removes \"require_once '../../lib/base.php';\" for many ajax calls, including settings/ajax/removeuser.php and which took care of loading all enabled apps.\r\n\r\na simple fix could be to bring this code back (but for some reasons this no longer works for me, i get an php error that he can't open base.php) or to add a oc_app::loadapps() instead, like proposed by my early merge request. but as mentioned by @blizzz it would be good to have this on a more generic place so that we don't have to call this on every file. but the problem with a (too) generic place is that we would always load all apps, even if we don't need it (e.g. webdav access)."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10361369","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10361369","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10361369,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2012-11-14t10:21:33z","updated_at":"2012-11-14t10:21:33z","body":"@schiesbn no problem, github closed it earlier then i expected. was expecting the close to happen on the merge. but back to the issue, this is still about the share hooks not being run on removeuser? with the pull the hooks should always be registered with loading base.php. can you check that the are really there?\r\n\r\nthe general location to have the apps loaded would be in oc::handlerequest before the router->match call. this won't effect webdav access, but for other actions that don't need hooks or all apps loaded it would be to much. but at least it will solve the regression with loading all apps.\r\n\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10362182","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10362182","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10362182,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2012-11-14t10:52:44z","updated_at":"2012-11-14t10:52:44z","body":"> but back to the issue, this is still about the share hooks not being run on removeuser? with the pull the hooks should always be registered with loading base.php. can you check that the are really there?\r\n\r\nyes, but the problem is that base.php gets no longer loaded if you run removeuser, since the \"require_once\" was removed from the file. if we call base.php than it should work, also without moving the hooks from app.php to base.php because base.php takes care to load all necessary apps which than can register their hooks. i don't know why you removed the \"required_once\" statement from the ajax calls. but we need to find something which replaces it or ideally load it on a different more generic place which gets executed for every call. but than we have to take care to load only the apps we really need (e.g. for webdav calls we don't want to load the music player app but all logging apps and filesystem apps)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10369259","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10369259","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10369259,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2012-11-14t15:09:00z","updated_at":"2012-11-14t15:11:15z","body":"base.php is loaded, the url is .../index.php/settings/ajax/removeuser.php which loads index.php which loads lib/base.php which calls handlerequest which resolves the route (/settings/ajax/removeuser.php) and loads that file using actioninclude() function. so base.php is loaded and the sharing hooks are loaded there (in the pull). \r\n> the general location to have the apps loaded would be in oc::handlerequest before the router->match call. \r\n\r\nbut this still needs to be fixed"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10370045","html_url":"https://github.com/owncloud/core/issues/151#issuecomment-10370045","issue_url":"https://api.github.com/repos/owncloud/core/issues/151","id":10370045,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2012-11-14t15:27:59z","updated_at":"2012-11-14t15:27:59z","body":"sorry, my fault. i thought that your changes where already merged into master. before i just tested master without checking the code. now i tried your \"share_hooks\" branch. looks good :+1: "}]