[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19099937","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19099937","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19099937,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-07t10:38:11z","updated_at":"2013-06-07t10:38:11z","body":"it's intended to log you out after enabling the encryption app. since your log-in password is used to encrypt your private key that's the only way to create the encryption keys.\r\n\r\nthe first log-in after enabling the app can take some time because all your data will be encrypted at this point in time. what do you exactly mean with \"stuck at the login screen\" what happens if you try to log in?\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19170217","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19170217","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19170217,"user":{"login":"blitzdesigner","id":4655246,"avatar_url":"https://gravatar.com/avatar/ee859358fb86a84549b9c83567bf6ed8?d=https%3a%2f%2fidenticons.github.com%2f9b0854a8222cb774fcb6bd2a53475c3b.png&r=x","gravatar_id":"ee859358fb86a84549b9c83567bf6ed8","url":"https://api.github.com/users/blitzdesigner","html_url":"https://github.com/blitzdesigner","followers_url":"https://api.github.com/users/blitzdesigner/followers","following_url":"https://api.github.com/users/blitzdesigner/following{/other_user}","gists_url":"https://api.github.com/users/blitzdesigner/gists{/gist_id}","starred_url":"https://api.github.com/users/blitzdesigner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blitzdesigner/subscriptions","organizations_url":"https://api.github.com/users/blitzdesigner/orgs","repos_url":"https://api.github.com/users/blitzdesigner/repos","events_url":"https://api.github.com/users/blitzdesigner/events{/privacy}","received_events_url":"https://api.github.com/users/blitzdesigner/received_events","type":"user","site_admin":false},"created_at":"2013-06-09t17:48:29z","updated_at":"2013-06-09t17:48:29z","body":"same issue here, loging in only results in a reload of the login screen itself. repeats forever and is also happening after a few hours after enabling the encryption. the accounts are also quite small, just a few megs."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19474305","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19474305","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19474305,"user":{"login":"syegulalp","id":401657,"avatar_url":"https://gravatar.com/avatar/f78922a53fc21f058c6c4c3bc4bb59f8?d=https%3a%2f%2fidenticons.github.com%2fe54fc37a303433f99fa34a2eda6fd7e1.png&r=x","gravatar_id":"f78922a53fc21f058c6c4c3bc4bb59f8","url":"https://api.github.com/users/syegulalp","html_url":"https://github.com/syegulalp","followers_url":"https://api.github.com/users/syegulalp/followers","following_url":"https://api.github.com/users/syegulalp/following{/other_user}","gists_url":"https://api.github.com/users/syegulalp/gists{/gist_id}","starred_url":"https://api.github.com/users/syegulalp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syegulalp/subscriptions","organizations_url":"https://api.github.com/users/syegulalp/orgs","repos_url":"https://api.github.com/users/syegulalp/repos","events_url":"https://api.github.com/users/syegulalp/events{/privacy}","received_events_url":"https://api.github.com/users/syegulalp/received_events","type":"user","site_admin":false},"created_at":"2013-06-14t18:38:01z","updated_at":"2013-06-14t18:38:01z","body":"i'm having the same problems on a windows 7 x64 / apache 2.22 setup. from the log:\r\n\r\n```{\"app\":\"php\",\"message\":\"openssl_pkey_export(): cannot get key from parameter 1 at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#57\",\"level\":2,\"time\":1371234614}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_get_details() expects parameter 1 to be resource, boolean given at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#60\",\"level\":2,\"time\":1371234614}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\mappedlocal::file_put_contents(), called in d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\lib\\\\files\\\\view.php on line 644 and defined at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#133\",\"level\":2,\"time\":1371234614}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#134\",\"level\":2,\"time\":1371234614}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_export(): cannot get key from parameter 1 at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#57\",\"level\":2,\"time\":1371234640}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_get_details() expects parameter 1 to be resource, boolean given at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#60\",\"level\":2,\"time\":1371234640}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\mappedlocal::file_put_contents(), called in d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\lib\\\\files\\\\view.php on line 644 and defined at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#133\",\"level\":2,\"time\":1371234640}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at d:\\\\bitnami\\\\wampstack-5.4.16-0\\\\apache2\\\\htdocs\\\\owncloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#134\",\"level\":2,\"time\":1371234640}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1371234640}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1371234826}\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19631398","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19631398","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19631398,"user":{"login":"karyfars","id":303016,"avatar_url":"https://gravatar.com/avatar/93c55445671b8b1a194204a4bd5997c3?d=https%3a%2f%2fidenticons.github.com%2fe9d94b55d3f626c8ef489c16311c5f0b.png&r=x","gravatar_id":"93c55445671b8b1a194204a4bd5997c3","url":"https://api.github.com/users/karyfars","html_url":"https://github.com/karyfars","followers_url":"https://api.github.com/users/karyfars/followers","following_url":"https://api.github.com/users/karyfars/following{/other_user}","gists_url":"https://api.github.com/users/karyfars/gists{/gist_id}","starred_url":"https://api.github.com/users/karyfars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karyfars/subscriptions","organizations_url":"https://api.github.com/users/karyfars/orgs","repos_url":"https://api.github.com/users/karyfars/repos","events_url":"https://api.github.com/users/karyfars/events{/privacy}","received_events_url":"https://api.github.com/users/karyfars/received_events","type":"user","site_admin":false},"created_at":"2013-06-18t18:36:10z","updated_at":"2013-06-18t18:36:10z","body":"same issue here. \r\n\r\napache/2.4 (win32) \r\nopenssl/1.0.1c \r\nphp/5.4\r\n\r\nlog:\r\n```javascript\r\n{\"app\":\"php\",\"message\":\"mysql_close(): 48 is not a valid mysql-link resource at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\setup.php#277\",\"level\":2,\"time\":1371558464}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_export(): cannot get key from parameter 1 at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#57\",\"level\":2,\"time\":1371558553}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_get_details() expects parameter 1 to be resource, boolean given at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#60\",\"level\":2,\"time\":1371558553}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\mappedlocal::file_put_contents(), called in c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\files\\\\view.php on line 644 and defined at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#133\",\"level\":2,\"time\":1371558553}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#134\",\"level\":2,\"time\":1371558553}\r\n{\"app\":\"core\",\"message\":\"authentication cookie rejected for user admin\",\"level\":2,\"time\":1371558554}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_export(): cannot get key from parameter 1 at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#57\",\"level\":2,\"time\":1371558615}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_get_details() expects parameter 1 to be resource, boolean given at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#60\",\"level\":2,\"time\":1371558615}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\mappedlocal::file_put_contents(), called in c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\files\\\\view.php on line 644 and defined at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#133\",\"level\":2,\"time\":1371558615}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at c:\\\\webroot\\\\xxxx-xxxx.xx\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#134\",\"level\":2,\"time\":1371558615}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1371558615}\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19654204","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19654204","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19654204,"user":{"login":"pcreadycl","id":4733590,"avatar_url":"https://gravatar.com/avatar/9c8d2f6a9ca0e1642465787941453b08?d=https%3a%2f%2fidenticons.github.com%2f09f6dc1fc0e57552f020d99ea0f02a7c.png&r=x","gravatar_id":"9c8d2f6a9ca0e1642465787941453b08","url":"https://api.github.com/users/pcreadycl","html_url":"https://github.com/pcreadycl","followers_url":"https://api.github.com/users/pcreadycl/followers","following_url":"https://api.github.com/users/pcreadycl/following{/other_user}","gists_url":"https://api.github.com/users/pcreadycl/gists{/gist_id}","starred_url":"https://api.github.com/users/pcreadycl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcreadycl/subscriptions","organizations_url":"https://api.github.com/users/pcreadycl/orgs","repos_url":"https://api.github.com/users/pcreadycl/repos","events_url":"https://api.github.com/users/pcreadycl/events{/privacy}","received_events_url":"https://api.github.com/users/pcreadycl/received_events","type":"user","site_admin":false},"created_at":"2013-06-19t00:48:12z","updated_at":"2013-06-19t00:48:12z","body":"hi, anybody found solution for this??\r\n\r\ni have this problem..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19675945","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19675945","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19675945,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-19t10:39:50z","updated_at":"2013-06-19t10:39:50z","body":"until now i was not able to reproduce it.\r\n\r\ncan you please check if data/user/files_encryption/user.privatekey exists and contains a private key?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19680385","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19680385","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19680385,"user":{"login":"karyfars","id":303016,"avatar_url":"https://gravatar.com/avatar/93c55445671b8b1a194204a4bd5997c3?d=https%3a%2f%2fidenticons.github.com%2fe9d94b55d3f626c8ef489c16311c5f0b.png&r=x","gravatar_id":"93c55445671b8b1a194204a4bd5997c3","url":"https://api.github.com/users/karyfars","html_url":"https://github.com/karyfars","followers_url":"https://api.github.com/users/karyfars/followers","following_url":"https://api.github.com/users/karyfars/following{/other_user}","gists_url":"https://api.github.com/users/karyfars/gists{/gist_id}","starred_url":"https://api.github.com/users/karyfars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karyfars/subscriptions","organizations_url":"https://api.github.com/users/karyfars/orgs","repos_url":"https://api.github.com/users/karyfars/repos","events_url":"https://api.github.com/users/karyfars/events{/privacy}","received_events_url":"https://api.github.com/users/karyfars/received_events","type":"user","site_admin":false},"created_at":"2013-06-19t12:26:06z","updated_at":"2013-06-19t12:26:06z","body":"exists, but it is empty.\r\nalso in data/public-keys/ and in data/owncloud-private-key/ every key is empty"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19682602","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19682602","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19682602,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-19t13:11:15z","updated_at":"2013-06-19t13:33:11z","body":"looks like something during the creation of the key-pair went wrong.\r\n\r\ncan you remove the users key in data/public-keys and in data/user/files_encryption and try to log in again? this should trigger the creation of a new key-pair. please monitor your apache error log and owncloud.log during this process and report the messages which appear there. also check the keys afterwards. thanks.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19685996","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19685996","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19685996,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-19t14:06:46z","updated_at":"2013-06-19t14:09:54z","body":"i prepared a update for the encryption app to output more error messages in case something went wrong during key generation: https://github.com/owncloud/core/pull/3788\r\n\r\nif the trail i described above doesn't provide any useful information than it would be great if you could apply the patch to your system and try again. than we should get some meaningful information.\r\n\r\nit could be also useful to check your server settings if openssl is set up correctly: http://www.php.net/manual/en/openssl.installation.php"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19764142","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19764142","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19764142,"user":{"login":"bbott","id":4750693,"avatar_url":"https://gravatar.com/avatar/bbbc9abb765d9f60d4826e3b20c2f777?d=https%3a%2f%2fidenticons.github.com%2f2198ea0e8dd44304b608ff4d823f28c5.png&r=x","gravatar_id":"bbbc9abb765d9f60d4826e3b20c2f777","url":"https://api.github.com/users/bbott","html_url":"https://github.com/bbott","followers_url":"https://api.github.com/users/bbott/followers","following_url":"https://api.github.com/users/bbott/following{/other_user}","gists_url":"https://api.github.com/users/bbott/gists{/gist_id}","starred_url":"https://api.github.com/users/bbott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbott/subscriptions","organizations_url":"https://api.github.com/users/bbott/orgs","repos_url":"https://api.github.com/users/bbott/repos","events_url":"https://api.github.com/users/bbott/events{/privacy}","received_events_url":"https://api.github.com/users/bbott/received_events","type":"user","site_admin":false},"created_at":"2013-06-20t16:18:52z","updated_at":"2013-06-20t16:23:42z","body":"i've the same problem. i've deaktivate the encryption app, empty the owncloud.log and then reaktivate the encryption app. to get a log file without other errors. i've add a table \"oc_users_pay\" for my  university project, it look like that is a problem?!\r\n\r\n<code>{\"app\":\"php\",\"message\":\"openssl_pkey_export(): cannot get key from parameter 1 at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#57\",\"level\":2,\"time\":1371721498}\r\n{\"app\":\"php\",\"message\":\"openssl_pkey_get_details() expects parameter 1 to be resource, boolean given at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\apps\\\\files_encryption\\\\lib\\\\crypt.php#60\",\"level\":2,\"time\":1371721498}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\mappedlocal::file_put_contents(), called in d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\lib\\\\files\\\\view.php on line 644 and defined at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#133\",\"level\":2,\"time\":1371721498}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#134\",\"level\":2,\"time\":1371721498}\r\n{\"app\":\"php\",\"message\":\"undefined index: email at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#83\",\"level\":2,\"time\":1371721500}\r\n{\"app\":\"php\",\"message\":\"undefined index: pay_type at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#90\",\"level\":2,\"time\":1371721500}\r\n{\"app\":\"php\",\"message\":\"undefined index: creditcard_no at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#98\",\"level\":2,\"time\":1371721500}\r\n{\"app\":\"php\",\"message\":\"undefined index: creditcard_no at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#105\",\"level\":2,\"time\":1371721500}\r\n{\"app\":\"php\",\"message\":\"undefined index: volume at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#112\",\"level\":2,\"time\":1371721500}\r\n{\"app\":\"php\",\"message\":\"undefined index: chechno at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#119\",\"level\":2,\"time\":1371721500}\r\n{\"app\":\"php\",\"message\":\"undefined index: email at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#83\",\"level\":2,\"time\":1371721504}\r\n{\"app\":\"php\",\"message\":\"undefined index: pay_type at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#90\",\"level\":2,\"time\":1371721504}\r\n{\"app\":\"php\",\"message\":\"undefined index: creditcard_no at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#98\",\"level\":2,\"time\":1371721504}\r\n{\"app\":\"php\",\"message\":\"undefined index: creditcard_no at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#105\",\"level\":2,\"time\":1371721504}\r\n{\"app\":\"php\",\"message\":\"undefined index: volume at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#112\",\"level\":2,\"time\":1371721504}\r\n{\"app\":\"php\",\"message\":\"undefined index: chechno at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\core\\\\templates\\\\login.php#119\",\"level\":2,\"time\":1371721504}\r\n{\"app\":\"files_antivirus\",\"message\":\"the clamscan executable could not be found at \\/usr\\/bin\\/clamscan\",\"level\":3,\"time\":1371721510}\r\n{\"app\":\"php\",\"message\":\"undefined variable: user at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\apps\\\\files_antivirus\\\\lib\\\\scanner.php#62\",\"level\":2,\"time\":1371721510}\r\n{\"app\":\"files_antivirus\",\"message\":\"file \\\"bbott4\\/files\\/127.0.0.1.txt\\\" from user \\\"\\\": is not checked\",\"level\":3,\"time\":1371721510}\r\n{\"app\":\"files_antivirus\",\"message\":\"the clamscan executable could not be found at \\/usr\\/bin\\/clamscan\",\"level\":3,\"time\":1371721510}\r\n{\"app\":\"php\",\"message\":\"undefined variable: user at d:\\\\programme\\\\xampp\\\\htdocs\\\\secocloud\\\\apps\\\\files_antivirus\\\\lib\\\\scanner.php#62\",\"level\":2,\"time\":1371721510}\r\n{\"app\":\"files_antivirus\",\"message\":\"file \\\"files\\/127.0.0.1.txt\\\" from user \\\"\\\": is not checked\",\"level\":3,\"time\":1371721510}\r\n</code>"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19842473","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19842473","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19842473,"user":{"login":"pcreadycl","id":4733590,"avatar_url":"https://gravatar.com/avatar/9c8d2f6a9ca0e1642465787941453b08?d=https%3a%2f%2fidenticons.github.com%2f09f6dc1fc0e57552f020d99ea0f02a7c.png&r=x","gravatar_id":"9c8d2f6a9ca0e1642465787941453b08","url":"https://api.github.com/users/pcreadycl","html_url":"https://github.com/pcreadycl","followers_url":"https://api.github.com/users/pcreadycl/followers","following_url":"https://api.github.com/users/pcreadycl/following{/other_user}","gists_url":"https://api.github.com/users/pcreadycl/gists{/gist_id}","starred_url":"https://api.github.com/users/pcreadycl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcreadycl/subscriptions","organizations_url":"https://api.github.com/users/pcreadycl/orgs","repos_url":"https://api.github.com/users/pcreadycl/repos","events_url":"https://api.github.com/users/pcreadycl/events{/privacy}","received_events_url":"https://api.github.com/users/pcreadycl/received_events","type":"user","site_admin":false},"created_at":"2013-06-21t21:42:04z","updated_at":"2013-06-21t21:42:04z","body":"i remove the users key in data/public-keys and in data/user/files_encryption\r\n\r\nthis is owncloud.log now, and not login again:\r\n\r\n{\"app\":\"encryption library\",\"message\":\"encryption (symmetric) of content failed\",\"level\":3,\"time\":1371850756}\r\n{\"app\":\"encryption library\",\"message\":\"encryption (symmetric) of keyfile content failed\",\"level\":3,\"time\":1371850756}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1371850756}\r\n\r\nideas?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19895177","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19895177","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19895177,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-24t08:42:05z","updated_at":"2013-06-24t08:42:32z","body":"for some reasons the key doesn't get generated correctly. this sound pretty much like a openssl issue. did you checked that openssl is installed and configured correctly on your system? see: http://www.php.net/manual/en/openssl.installation.php\r\n \r\nwhich owcloud version did you tried? would be great if you could try the latest stable5 branch directly from github. this contains a lot of improvements regarding error reporting which should give us more information.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19906744","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19906744","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19906744,"user":{"login":"pcreadycl","id":4733590,"avatar_url":"https://gravatar.com/avatar/9c8d2f6a9ca0e1642465787941453b08?d=https%3a%2f%2fidenticons.github.com%2f09f6dc1fc0e57552f020d99ea0f02a7c.png&r=x","gravatar_id":"9c8d2f6a9ca0e1642465787941453b08","url":"https://api.github.com/users/pcreadycl","html_url":"https://github.com/pcreadycl","followers_url":"https://api.github.com/users/pcreadycl/followers","following_url":"https://api.github.com/users/pcreadycl/following{/other_user}","gists_url":"https://api.github.com/users/pcreadycl/gists{/gist_id}","starred_url":"https://api.github.com/users/pcreadycl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcreadycl/subscriptions","organizations_url":"https://api.github.com/users/pcreadycl/orgs","repos_url":"https://api.github.com/users/pcreadycl/repos","events_url":"https://api.github.com/users/pcreadycl/events{/privacy}","received_events_url":"https://api.github.com/users/pcreadycl/received_events","type":"user","site_admin":false},"created_at":"2013-06-24t13:32:04z","updated_at":"2013-06-24t13:32:04z","body":"i used oc 5.0.7 .deb installation in ubuntu server 10.x.\r\n\r\nhow to install oc 5.0.7 github version?\r\n\r\nsend me the command lines pls!\r\n\r\nthx!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19909059","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19909059","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19909059,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-24t14:11:17z","updated_at":"2013-06-24t14:12:02z","body":"you can clone it into a new folder with\r\n```\r\ngit clone git://github.com/owncloud/core.git .\r\n````\r\n\r\nafter that switch to the stable5 branch:\r\n\r\n```\r\ngit checkout -b stable5 origin/stable5\r\n```\r\n\r\nif you open the new folder in your browser you can configure this version of owncloud like you did it with your current version.\r\n\r\nif you are unfamiliar with this approach you could also pick the following files from github and use them to replace the corresponding files of your owncloud installation (make a backup of the original files first, so that you can revert the changes):\r\n\r\napps/files_encryption/lib/crypt.php -> https://github.com/owncloud/core/blob/stable5/apps/files_encryption/lib/crypt.php\r\n\r\napps/files_encryption/lib/util.php -> https://github.com/owncloud/core/blob/stable5/apps/files_encryption/lib/util.php\r\n\r\napps/files_encryption/appinfo/app.php -> https://github.com/owncloud/core/blob/stable5/apps/files_encryption/appinfo/app.php\r\n\r\napps/files_encryption/hooks/hooks.php -> https://github.com/owncloud/core/blob/stable5/apps/files_encryption/hooks/hooks.php\r\n\r\n\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19912623","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19912623","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19912623,"user":{"login":"pcreadycl","id":4733590,"avatar_url":"https://gravatar.com/avatar/9c8d2f6a9ca0e1642465787941453b08?d=https%3a%2f%2fidenticons.github.com%2f09f6dc1fc0e57552f020d99ea0f02a7c.png&r=x","gravatar_id":"9c8d2f6a9ca0e1642465787941453b08","url":"https://api.github.com/users/pcreadycl","html_url":"https://github.com/pcreadycl","followers_url":"https://api.github.com/users/pcreadycl/followers","following_url":"https://api.github.com/users/pcreadycl/following{/other_user}","gists_url":"https://api.github.com/users/pcreadycl/gists{/gist_id}","starred_url":"https://api.github.com/users/pcreadycl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcreadycl/subscriptions","organizations_url":"https://api.github.com/users/pcreadycl/orgs","repos_url":"https://api.github.com/users/pcreadycl/repos","events_url":"https://api.github.com/users/pcreadycl/events{/privacy}","received_events_url":"https://api.github.com/users/pcreadycl/received_events","type":"user","site_admin":false},"created_at":"2013-06-24t15:02:30z","updated_at":"2013-06-24t15:02:30z","body":"thx, but now i have another issues\r\n\r\nowncloud.log\r\ncgallardo@servergala:/var/www/testoc/owncloud2/data$ sudo tail -f owncloud.log\r\n{\"app\":\"php\",\"message\":\"openssl_encrypt() expects at most 4 parameters, 5 given at \\/var\\/www\\/testoc\\/owncloud2\\/apps\\/files_encryption\\/lib\\/crypt.php#208\",\"level\":2,\"time\":1372085987}\r\n{\"app\":\"encryption library\",\"message\":\"encryption (symmetric) of content failed\",\"level\":3,\"time\":1372085987}\r\n{\"app\":\"encryption library\",\"message\":\"encryption (symmetric) of keyfile content failed\",\"level\":3,\"time\":1372085987}\r\n{\"app\":\"php\",\"message\":\"file_get_contents(\\/var\\/www\\/testoc\\/owncloud2\\/data\\/cgallardo\\/files_encryption\\/cgallardo.private.key): failed to open stream: no such file or directory at \\/var\\/www\\/testoc\\/owncloud2\\/lib\\/files\\/storage\\/local.php#113\",\"level\":2,\"time\":1372085987}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372085987}\r\n\r\nno login user and file missing\r\n{\"app\":\"php\",\"message\":\"file_get_contents(\\/var\\/www\\/testoc\\/owncloud2\\/data\\/cgallardo\\/files_encryption\\/cgallardo.private.key): failed to open stream: no such file or directory at \\/var\\/www\\/testoc\\/owncloud2\\/lib\\/files\\/storage\\/local.php#113\",\"level\":2,\"time\":1372085987}\r\n\r\nhow to create this .key?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19917225","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19917225","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19917225,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-24t16:11:18z","updated_at":"2013-06-24t16:19:39z","body":"> {\"app\":\"php\",\"message\":\"openssl_encrypt() expects at most 4 parameters, 5 given at \\/var\\/www\\/testoc\\/owncloud2\\/apps\\/files_encryption\\/lib\\/crypt.php#208\",\"level\":2,\"time\":1372085987}\r\n\r\nthis function call didn't changed since stable 5.0.7, so it is strange that you see this error message only now. \r\nanyway, as you can see here, openssl_encrypt() can take up to 5 parameters: http://de2.php.net/manual/en/function.openssl-encrypt.php maybe you have a older php version?\r\n\r\nthe .key gets generated by owncloud and encrypted by openssl_encrypt(), but this seems to fail on your server.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19982322","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19982322","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19982322,"user":{"login":"bbott","id":4750693,"avatar_url":"https://gravatar.com/avatar/bbbc9abb765d9f60d4826e3b20c2f777?d=https%3a%2f%2fidenticons.github.com%2f2198ea0e8dd44304b608ff4d823f28c5.png&r=x","gravatar_id":"bbbc9abb765d9f60d4826e3b20c2f777","url":"https://api.github.com/users/bbott","html_url":"https://github.com/bbott","followers_url":"https://api.github.com/users/bbott/followers","following_url":"https://api.github.com/users/bbott/following{/other_user}","gists_url":"https://api.github.com/users/bbott/gists{/gist_id}","starred_url":"https://api.github.com/users/bbott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbott/subscriptions","organizations_url":"https://api.github.com/users/bbott/orgs","repos_url":"https://api.github.com/users/bbott/repos","events_url":"https://api.github.com/users/bbott/events{/privacy}","received_events_url":"https://api.github.com/users/bbott/received_events","type":"user","site_admin":false},"created_at":"2013-06-25t15:01:03z","updated_at":"2013-06-25t15:02:57z","body":"i use windows 7 with xampp 1.8.1 (apache 2.4.3) and owncloud 5.0.7 (non pre). i have aktivate in the phpi.ini the openssl.dll. what else should i do for the right openssl conf?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/19984091","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-19984091","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":19984091,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-25t15:24:10z","updated_at":"2013-06-25t15:24:51z","body":"@bbott sorry, i'm not a windows expert. did you followed this instructions: http://www.php.net/manual/en/openssl.installation.php ?\r\n\r\nif it still doesn't work, what does your error log says?\r\n\r\nwould be great if you could also try the latest stable5 branch from github or patch your installation with the files i mentioned above in the conversation with @pcreadycl. also make sure to delete all the (empty) key files so that owncloud tried to create new ones."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20014077","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20014077","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20014077,"user":{"login":"karyfars","id":303016,"avatar_url":"https://gravatar.com/avatar/93c55445671b8b1a194204a4bd5997c3?d=https%3a%2f%2fidenticons.github.com%2fe9d94b55d3f626c8ef489c16311c5f0b.png&r=x","gravatar_id":"93c55445671b8b1a194204a4bd5997c3","url":"https://api.github.com/users/karyfars","html_url":"https://github.com/karyfars","followers_url":"https://api.github.com/users/karyfars/followers","following_url":"https://api.github.com/users/karyfars/following{/other_user}","gists_url":"https://api.github.com/users/karyfars/gists{/gist_id}","starred_url":"https://api.github.com/users/karyfars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karyfars/subscriptions","organizations_url":"https://api.github.com/users/karyfars/orgs","repos_url":"https://api.github.com/users/karyfars/repos","events_url":"https://api.github.com/users/karyfars/events{/privacy}","received_events_url":"https://api.github.com/users/karyfars/received_events","type":"user","site_admin":false},"created_at":"2013-06-25t22:56:14z","updated_at":"2013-06-25t22:56:57z","body":"openssl is installed correct. tested with several code snippets and all throwed the right output.\r\nmaybe openssl is still configured wrong, but no log file throws any ssl related errors.\r\n\r\n[ owncloud 5.0.12 ]\r\nlog after deleting key files and updated files mentioned above:\r\n```javascript\r\n{\"app\":\"encryption library\",\"message\":\"couldn't generate users key-pair for admin\",\"level\":3,\"time\":1372192169}\r\n{\"app\":\"php\",\"message\":\"file_get_contents(c:\\\\webroot\\\\xxxx-xxxx.de\\\\cloud\\\\data\\/admin\\/files-encryption\\/admin-private.key): failed to open stream: no such file or directory at c:\\\\webroot\\\\xxxx-xxxx.de\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#131\",\"level\":2,\"time\":1372192169}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372192169}\r\n{\"app\":\"encryption library\",\"message\":\"couldn't generate users key-pair for admin\",\"level\":3,\"time\":1372192170}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\mappedlocal::file_put_contents(), called in c:\\\\webroot\\\\xxxx-xxxx.de\\\\cloud\\\\lib\\\\files\\\\view.php on line 644 and defined at c:\\\\webroot\\\\xxxx-xxxx.de\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#133\",\"level\":2,\"time\":1372192170}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at c:\\\\webroot\\\\xxxx-xxxx.de\\\\cloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#134\",\"level\":2,\"time\":1372192170}\r\n{\"app\":\"encryption library\",\"message\":\"symmetrically encryption failed, no content given.\",\"level\":3,\"time\":1372192170}"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20015000","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20015000","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20015000,"user":{"login":"pcreadycl","id":4733590,"avatar_url":"https://gravatar.com/avatar/9c8d2f6a9ca0e1642465787941453b08?d=https%3a%2f%2fidenticons.github.com%2f09f6dc1fc0e57552f020d99ea0f02a7c.png&r=x","gravatar_id":"9c8d2f6a9ca0e1642465787941453b08","url":"https://api.github.com/users/pcreadycl","html_url":"https://github.com/pcreadycl","followers_url":"https://api.github.com/users/pcreadycl/followers","following_url":"https://api.github.com/users/pcreadycl/following{/other_user}","gists_url":"https://api.github.com/users/pcreadycl/gists{/gist_id}","starred_url":"https://api.github.com/users/pcreadycl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcreadycl/subscriptions","organizations_url":"https://api.github.com/users/pcreadycl/orgs","repos_url":"https://api.github.com/users/pcreadycl/repos","events_url":"https://api.github.com/users/pcreadycl/events{/privacy}","received_events_url":"https://api.github.com/users/pcreadycl/received_events","type":"user","site_admin":false},"created_at":"2013-06-25t23:11:44z","updated_at":"2013-06-25t23:11:44z","body":"i dont think a ssl error, i think this error to oc, developer.. help?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20033464","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20033464","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20033464,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-26t08:33:00z","updated_at":"2013-06-26t08:34:03z","body":"> {\"app\":\"encryption library\",\"message\":\"couldn't generate users key-pair for admin\",\"level\":3,\"time\":1372192169}\r\n\r\nthe first error message is the important one. for some reasons openssl can't generate a key pair on your system. if you look at the code[1] you will see that this error message gets written to your owncloud.log if following command fails:\r\n\r\n```\r\n$res = openssl_pkey_new(array('private_key_bits' => 4096));\r\n```\r\n\r\nthat's not owncloud related but a standard openssl function. can you try some code snippets which uses this function call? there is not much we can do if openssl_pkey_new() fails, i'm pretty sure that there is something wrong with your openssl/php setup.\r\n\r\nyou could also try to add additional config parameters to openssl_pkey_new(), but normally your openssl config should provide sane default values. for example you could try:\r\n\r\n```\r\n$res = openssl_pkey_new(array('private_key_bits' => 4096,\r\n\t\t\t                  'digest_alg' => 'sha512',\r\n\t\t\t                  'private_key_type' => openssl_keytype_rsa));\r\n```\r\n\r\n[1] https://github.com/owncloud/core/blob/master/apps/files_encryption/lib/crypt.php#l59"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20052095","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20052095","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20052095,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-26t14:42:37z","updated_at":"2013-06-26t14:43:08z","body":"i prepared a patch[โน] which will provide even more information, if a openssl function call fails. additional to the stuff i described above you might try it once more with this patch applied, the crucial part would be the changed to crypt.php at line 60.\r\n\r\n\r\n[1] https://github.com/owncloud/core/pull/3858/files"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20060082","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20060082","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20060082,"user":{"login":"marcelwaldvogel","id":3014737,"avatar_url":"https://identicons.github.com/3d10e8cbfde08a9891f32ac8f429d9af.png","gravatar_id":null,"url":"https://api.github.com/users/marcelwaldvogel","html_url":"https://github.com/marcelwaldvogel","followers_url":"https://api.github.com/users/marcelwaldvogel/followers","following_url":"https://api.github.com/users/marcelwaldvogel/following{/other_user}","gists_url":"https://api.github.com/users/marcelwaldvogel/gists{/gist_id}","starred_url":"https://api.github.com/users/marcelwaldvogel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcelwaldvogel/subscriptions","organizations_url":"https://api.github.com/users/marcelwaldvogel/orgs","repos_url":"https://api.github.com/users/marcelwaldvogel/repos","events_url":"https://api.github.com/users/marcelwaldvogel/events{/privacy}","received_events_url":"https://api.github.com/users/marcelwaldvogel/received_events","type":"user","site_admin":false},"created_at":"2013-06-26t16:13:11z","updated_at":"2013-06-26t16:14:51z","body":"with the new crypt.php (only the one from /3858, everything else plain 5.0.7), i get the following output:\r\n\r\n```javascript\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262360}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262361}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oca_firstrunwizard\\\\config\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":1372262361}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262361}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262362}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262363}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oca_firstrunwizard\\\\config\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":1372262363}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262363}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262363}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262364}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372262364}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262365}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372262365}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262367}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372262367}\r\n{\"app\":\"php\",\"message\":\"openssl_seal(): not a public key (1th member of pubkeys) at \\/var\\/www\\/owncloud\\/apps\\/files_encryption\\/lib\\/crypt.php#429\",\"level\":2,\"time\":1372262369}\r\n{\"app\":\"php\",\"message\":\"missing argument 2 for oc\\\\files\\\\storage\\\\local::file_put_contents(), called in \\/var\\/www\\/owncloud\\/lib\\/files\\/view.php on line 644 and defined at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#115\",\"level\":2,\"time\":1372262369}\r\n{\"app\":\"php\",\"message\":\"undefined variable: data at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#116\",\"level\":2,\"time\":1372262369}\r\n{\"app\":\"php\",\"message\":\"argument 3 passed to oca\\\\encryption\\\\keymanager::setsharekeys() must be an array, null given, called in \\/var\\/www\\/owncloud\\/apps\\/files_encryption\\/lib\\/stream.php on line 459 and defined at \\/var\\/www\\/owncloud\\/apps\\/files_encryption\\/lib\\/keymanager.php#388\",\"level\":2,\"time\":1372262369}\r\n{\"app\":\"php\",\"message\":\"invalid argument supplied for foreach() at \\/var\\/www\\/owncloud\\/apps\\/files_encryption\\/lib\\/keymanager.php#395\",\"level\":2,\"time\":1372262369}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262369}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372262369}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1372262369}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (oca\\\\encryption\\\\hooks::login): encryption library: no data provided for decryption\",\"level\":3,\"time\":1372262370}\r\n```\r\n\r\n(btw: what are these endless \"adding user backend instance\" messages for? can they be disabled?)\r\n\r\n\r\nopenssl 1.0.1 14 mar 2012\r\n\r\nphp 5.3.10-1ubuntu3.6 with suhosin-patch (cli) (built: mar 11 2013 14:31:48) \r\ncopyright (c) 1997-2012 the php group\r\nzend engine v2.3.0, copyright (c) 1998-2012 zend technologies\r\n\r\nrunning on ubuntu 12.04 lts"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20066266","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20066266","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20066266,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-06-26t17:42:56z","updated_at":"2013-06-26t17:42:56z","body":"@marcelwaldvogel did you removed the private key in data/username/files_encryption/ and the public key in data/public_keys before? this is needed to trigger the creation of a new key pair. your log looks like the empty keys files are still around."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20104265","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20104265","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20104265,"user":{"login":"bbott","id":4750693,"avatar_url":"https://gravatar.com/avatar/bbbc9abb765d9f60d4826e3b20c2f777?d=https%3a%2f%2fidenticons.github.com%2f2198ea0e8dd44304b608ff4d823f28c5.png&r=x","gravatar_id":"bbbc9abb765d9f60d4826e3b20c2f777","url":"https://api.github.com/users/bbott","html_url":"https://github.com/bbott","followers_url":"https://api.github.com/users/bbott/followers","following_url":"https://api.github.com/users/bbott/following{/other_user}","gists_url":"https://api.github.com/users/bbott/gists{/gist_id}","starred_url":"https://api.github.com/users/bbott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbott/subscriptions","organizations_url":"https://api.github.com/users/bbott/orgs","repos_url":"https://api.github.com/users/bbott/repos","events_url":"https://api.github.com/users/bbott/events{/privacy}","received_events_url":"https://api.github.com/users/bbott/received_events","type":"user","site_admin":false},"created_at":"2013-06-27t08:37:25z","updated_at":"2013-06-27t08:37:25z","body":"in a forum they say with xampp is enough to enable openssl in the php.ini:\r\nhttp://www.apachefriends.org/f/viewtopic.php?t=30849\r\n\r\nin the xampp\\php\\ext path is the php_openssl.dll.\r\ni've checked on the phpinfo.php if openssl is enable, is it.\r\nwhat can i do else?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20229524","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20229524","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20229524,"user":{"login":"tomkohrah","id":4882577,"avatar_url":"https://gravatar.com/avatar/56ca8d7320803a046616dc8d6acc9744?d=https%3a%2f%2fidenticons.github.com%2fcc69453b0eda31213b8c2c09cc93b548.png&r=x","gravatar_id":"56ca8d7320803a046616dc8d6acc9744","url":"https://api.github.com/users/tomkohrah","html_url":"https://github.com/tomkohrah","followers_url":"https://api.github.com/users/tomkohrah/followers","following_url":"https://api.github.com/users/tomkohrah/following{/other_user}","gists_url":"https://api.github.com/users/tomkohrah/gists{/gist_id}","starred_url":"https://api.github.com/users/tomkohrah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomkohrah/subscriptions","organizations_url":"https://api.github.com/users/tomkohrah/orgs","repos_url":"https://api.github.com/users/tomkohrah/repos","events_url":"https://api.github.com/users/tomkohrah/events{/privacy}","received_events_url":"https://api.github.com/users/tomkohrah/received_events","type":"user","site_admin":false},"created_at":"2013-06-29t13:09:58z","updated_at":"2013-06-29t13:09:58z","body":"@pcreadycl: as @schiesbn already pointed out, please make sure that you are using php >= 5.3.3 because there has been a change in the openssl function signatures. at least this resolved this issue for me."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20233629","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20233629","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20233629,"user":{"login":"pcreadycl","id":4733590,"avatar_url":"https://gravatar.com/avatar/9c8d2f6a9ca0e1642465787941453b08?d=https%3a%2f%2fidenticons.github.com%2f09f6dc1fc0e57552f020d99ea0f02a7c.png&r=x","gravatar_id":"9c8d2f6a9ca0e1642465787941453b08","url":"https://api.github.com/users/pcreadycl","html_url":"https://github.com/pcreadycl","followers_url":"https://api.github.com/users/pcreadycl/followers","following_url":"https://api.github.com/users/pcreadycl/following{/other_user}","gists_url":"https://api.github.com/users/pcreadycl/gists{/gist_id}","starred_url":"https://api.github.com/users/pcreadycl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pcreadycl/subscriptions","organizations_url":"https://api.github.com/users/pcreadycl/orgs","repos_url":"https://api.github.com/users/pcreadycl/repos","events_url":"https://api.github.com/users/pcreadycl/events{/privacy}","received_events_url":"https://api.github.com/users/pcreadycl/received_events","type":"user","site_admin":false},"created_at":"2013-06-29t17:22:03z","updated_at":"2013-06-29t17:22:03z","body":"cgallardo@servergala:~$ php -v\r\nphp 5.3.2-1ubuntu4.19 with suhosin-patch (cli) (built: mar 11 2013 15:23:48)\r\ncopyright (c) 1997-2009 the php group\r\nzend engine v2.3.0, copyright (c) 1998-2010 zend technologies\r\n    with suhosin v0.9.29, copyright (c) 2007, by sektioneins gmbh\r\n\r\ni need upgrade my php version."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20234147","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20234147","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20234147,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-06-29t17:55:25z","updated_at":"2013-06-29t17:55:25z","body":"@schiesbn @karlitschek looks like we need another precondition check"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20237938","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20237938","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20237938,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-06-29t21:57:05z","updated_at":"2013-06-29t21:57:05z","body":"@deepdiver1975 seems so. :-(  could be done in the encryption app so that it can't be activated or even better during owncloud upgrade. @schiesbn what do you think?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20237953","html_url":"https://github.com/owncloud/core/issues/3629#issuecomment-20237953","issue_url":"https://api.github.com/repos/owncloud/core/issues/3629","id":20237953,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-06-29t21:58:17z","updated_at":"2013-06-29t21:58:17z","body":"we already have precondition checks in files_encryption - adding this should be easy."}]