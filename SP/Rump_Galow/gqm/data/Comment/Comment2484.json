[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15227106","html_url":"https://github.com/owncloud/core/issues/2484#issuecomment-15227106","issue_url":"https://api.github.com/repos/owncloud/core/issues/2484","id":15227106,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-21t09:39:36z","updated_at":"2013-03-21t09:39:36z","body":"@lukasreschke @icewind1991 @mtgap "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15231466","html_url":"https://github.com/owncloud/core/issues/2484#issuecomment-15231466","issue_url":"https://api.github.com/repos/owncloud/core/issues/2484","id":15231466,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-03-21t11:30:37z","updated_at":"2013-03-21t11:30:37z","body":"can't reproduce, after deleting the shared file over webdav it still exists for the original owner and it's correctly unshared"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15257702","html_url":"https://github.com/owncloud/core/issues/2484#issuecomment-15257702","issue_url":"https://api.github.com/repos/owncloud/core/issues/2484","id":15257702,"user":{"login":"danobrie","id":3923107,"avatar_url":"https://gravatar.com/avatar/4ee644154306926c2829f42bff1a2c59?d=https%3a%2f%2fidenticons.github.com%2fec862408f357f4fa76bfb40eb4252bf5.png&r=x","gravatar_id":"4ee644154306926c2829f42bff1a2c59","url":"https://api.github.com/users/danobrie","html_url":"https://github.com/danobrie","followers_url":"https://api.github.com/users/danobrie/followers","following_url":"https://api.github.com/users/danobrie/following{/other_user}","gists_url":"https://api.github.com/users/danobrie/gists{/gist_id}","starred_url":"https://api.github.com/users/danobrie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danobrie/subscriptions","organizations_url":"https://api.github.com/users/danobrie/orgs","repos_url":"https://api.github.com/users/danobrie/repos","events_url":"https://api.github.com/users/danobrie/events{/privacy}","received_events_url":"https://api.github.com/users/danobrie/received_events","type":"user","site_admin":false},"created_at":"2013-03-21t18:43:01z","updated_at":"2013-03-21t22:05:04z","body":"\r\n\r\n\r\ni thought i had found the problem, but it did not fix this.  i had\r\n\r\ngrant all privileges on oc-database.* to 'toplevelocuser'@'localhost' with grant option;\r\n\r\nwhere it needs to be set on mysql.* as well to allow access to the mysql db to create users, correct?  for now i have it set to on *.*  i thought i was introducing an additional level of security since i have other db's on mysql.  what is the minimal grant that needs to be set?  btw, there was never a warning when i installed oc and did the initial setup through the web interface. \r\n\r\ni did a complete reinstall of owncloud, drop oc-database, reinitiallized oc through the web interface and ran through this procedure again but still, user2 deletes somefile in the shared somefolder in the mapped network drive and user1 loses contact with the file but it still resides on the server.\r\n\r\none interesting observation is that i see in mysql users that only the initial administrator account created in oc is getting an oc_admin account on mysql, none of the subsequent users i create get an oc_ name in mysql.  is this a change from oc 4.x to 5.0?  \r\n\r\n\r\n\r\nupdate:\r\n\r\ni had defined somefile without the .txt extension.  i did a complete reinstall of mysql and owncloud and followed again the above procedure but added the .txt extension to the file.  when user2 deleted somefile.txt, somefolder was no longer shared and all was well.  then, i create somefile without the .txt, reshared somefolder with user2 and now i again see the behavior i described in my original post.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15259069","html_url":"https://github.com/owncloud/core/issues/2484#issuecomment-15259069","issue_url":"https://api.github.com/repos/owncloud/core/issues/2484","id":15259069,"user":{"login":"danobrie","id":3923107,"avatar_url":"https://gravatar.com/avatar/4ee644154306926c2829f42bff1a2c59?d=https%3a%2f%2fidenticons.github.com%2fec862408f357f4fa76bfb40eb4252bf5.png&r=x","gravatar_id":"4ee644154306926c2829f42bff1a2c59","url":"https://api.github.com/users/danobrie","html_url":"https://github.com/danobrie","followers_url":"https://api.github.com/users/danobrie/followers","following_url":"https://api.github.com/users/danobrie/following{/other_user}","gists_url":"https://api.github.com/users/danobrie/gists{/gist_id}","starred_url":"https://api.github.com/users/danobrie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danobrie/subscriptions","organizations_url":"https://api.github.com/users/danobrie/orgs","repos_url":"https://api.github.com/users/danobrie/repos","events_url":"https://api.github.com/users/danobrie/events{/privacy}","received_events_url":"https://api.github.com/users/danobrie/received_events","type":"user","site_admin":false},"created_at":"2013-03-21t19:07:27z","updated_at":"2013-03-21t19:20:18z","body":"not sure if owncloud's log would help.\r\n\r\nerror \tfiles_sharing \tfile source not found for: /somefolder \tmarch 21, 2013 13:54\r\nwarning \tsearch_lucene \tfailed to extract meta information for /somefolder/somefile: unable to determine file format \tmarch 21, 2013 13:54\r\nwarning \tphp \treaddir() expects parameter 1 to be resource, boolean given at /var/www/owncloud/lib/cache/file.php#88 \tmarch 21, 2013 13:53\r\nwarning\tphp\topendir(/srv/oc_data/dan/cache/): failed to open dir: no such file or directory at /var/www/owncloud/lib/files/storage/local.php#40\tmarch 21, 2013 13:53\r\nwarning\tsearch_lucene\tfailed to extract meta information for /somefolder: could not open \"/srv/oc_data/keith/files/somefolder\" (does not exist, or is not a file)\tmarch 21, 2013 13:53\r\nwarning\tsearch_lucene\tfailed to extract meta information for /somefolder: could not open \"/srv/oc_data/keith/files/somefolder\" (does not exist, or is not a file)\tmarch 21, 2013 13:53\r\nwarning\tphp\treaddir() expects parameter 1 to be resource, boolean given at /var/www/owncloud/lib/cache/file.php#88\tmarch 21, 2013 13:53\r\nwarning\tphp\topendir(/srv/oc_data/keith/cache/): failed to open dir: no such file or directory at /var/www/owncloud/lib/files/storage/local.php#40\tmarch 21, 2013 13:53\r\n\r\n\r\ni should add that \"keith\" is my user1, he's the one that shares the folder."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16022436","html_url":"https://github.com/owncloud/core/issues/2484#issuecomment-16022436","issue_url":"https://api.github.com/repos/owncloud/core/issues/2484","id":16022436,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-04-07t19:57:29z","updated_at":"2013-04-07t19:57:29z","body":"the file isn't actually deleted, just removed from the cache. see #2765 "}]