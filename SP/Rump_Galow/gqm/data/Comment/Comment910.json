[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11399075","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-11399075","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":11399075,"user":{"login":"treynolen","id":2800148,"avatar_url":"https://gravatar.com/avatar/1b6a1191ef355a9bd58cc6b894d6ba20?d=https%3a%2f%2fidenticons.github.com%2feabf743d1af50fe66d834db34f91c7f5.png&r=x","gravatar_id":"1b6a1191ef355a9bd58cc6b894d6ba20","url":"https://api.github.com/users/treynolen","html_url":"https://github.com/treynolen","followers_url":"https://api.github.com/users/treynolen/followers","following_url":"https://api.github.com/users/treynolen/following{/other_user}","gists_url":"https://api.github.com/users/treynolen/gists{/gist_id}","starred_url":"https://api.github.com/users/treynolen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/treynolen/subscriptions","organizations_url":"https://api.github.com/users/treynolen/orgs","repos_url":"https://api.github.com/users/treynolen/repos","events_url":"https://api.github.com/users/treynolen/events{/privacy}","received_events_url":"https://api.github.com/users/treynolen/received_events","type":"user","site_admin":false},"created_at":"2012-12-15t02:42:58z","updated_at":"2012-12-15t02:42:58z","body":"additional information:   the queries above seem to loop over and over indefinitely.   restarting mysql does not fix the issue.   the user that cannot log in is the user receiving shared files.  once the sharing user logs in and unshares the files, the queries stop.  then, the files can be reshared and the receiving user can log in. everything works for a while.  i'm not sure what is triggering the loop, but will be glad to help debug it.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11413943","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-11413943","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":11413943,"user":{"login":"msrex","id":2625328,"avatar_url":"https://gravatar.com/avatar/24738c0908dad69b83af9cc534bcca80?d=https%3a%2f%2fidenticons.github.com%2ff02814cb1648a9552774c0f932619e91.png&r=x","gravatar_id":"24738c0908dad69b83af9cc534bcca80","url":"https://api.github.com/users/msrex","html_url":"https://github.com/msrex","followers_url":"https://api.github.com/users/msrex/followers","following_url":"https://api.github.com/users/msrex/following{/other_user}","gists_url":"https://api.github.com/users/msrex/gists{/gist_id}","starred_url":"https://api.github.com/users/msrex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msrex/subscriptions","organizations_url":"https://api.github.com/users/msrex/orgs","repos_url":"https://api.github.com/users/msrex/repos","events_url":"https://api.github.com/users/msrex/events{/privacy}","received_events_url":"https://api.github.com/users/msrex/received_events","type":"user","site_admin":false},"created_at":"2012-12-16t03:59:56z","updated_at":"2012-12-16t03:59:56z","body":"how do you reproduce this error?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11417882","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-11417882","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":11417882,"user":{"login":"treynolen","id":2800148,"avatar_url":"https://gravatar.com/avatar/1b6a1191ef355a9bd58cc6b894d6ba20?d=https%3a%2f%2fidenticons.github.com%2feabf743d1af50fe66d834db34f91c7f5.png&r=x","gravatar_id":"1b6a1191ef355a9bd58cc6b894d6ba20","url":"https://api.github.com/users/treynolen","html_url":"https://github.com/treynolen","followers_url":"https://api.github.com/users/treynolen/followers","following_url":"https://api.github.com/users/treynolen/following{/other_user}","gists_url":"https://api.github.com/users/treynolen/gists{/gist_id}","starred_url":"https://api.github.com/users/treynolen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/treynolen/subscriptions","organizations_url":"https://api.github.com/users/treynolen/orgs","repos_url":"https://api.github.com/users/treynolen/repos","events_url":"https://api.github.com/users/treynolen/events{/privacy}","received_events_url":"https://api.github.com/users/treynolen/received_events","type":"user","site_admin":false},"created_at":"2012-12-16t13:54:40z","updated_at":"2012-12-16t13:54:40z","body":"i'm not sure.  that is the problem. this cloud instance is getting heavy usage but most users are using one login.  most of the work is done through webdav.   this instance has about 40,000 files on it.   as i mentioned, i'm not sure what is triggering the issue, but it seems to  happen when the cloud is under heavy load.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11526058","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-11526058","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":11526058,"user":{"login":"matize","id":2735434,"avatar_url":"https://gravatar.com/avatar/57e13a670c0f93bfab28e09cf3b92cfe?d=https%3a%2f%2fidenticons.github.com%2f32cb374499944f3a7a8d8d5389a17061.png&r=x","gravatar_id":"57e13a670c0f93bfab28e09cf3b92cfe","url":"https://api.github.com/users/matize","html_url":"https://github.com/matize","followers_url":"https://api.github.com/users/matize/followers","following_url":"https://api.github.com/users/matize/following{/other_user}","gists_url":"https://api.github.com/users/matize/gists{/gist_id}","starred_url":"https://api.github.com/users/matize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matize/subscriptions","organizations_url":"https://api.github.com/users/matize/orgs","repos_url":"https://api.github.com/users/matize/repos","events_url":"https://api.github.com/users/matize/events{/privacy}","received_events_url":"https://api.github.com/users/matize/received_events","type":"user","site_admin":false},"created_at":"2012-12-19t10:59:22z","updated_at":"2012-12-19t10:59:22z","body":"do you have any entries in owncloud.log or apache error log?\r\ni had a simular issue, mysql at 100%, but with only one user with a massive number of files and alot of umlaute and special characters in the filenames.\r\nusing the changes for lib/filecache.php from https://github.com/owncloud/core/pull/710/files fixed it for me\r\nfurthermore i had to repair/restore the oc_fscache table."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11542851","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-11542851","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":11542851,"user":{"login":"treynolen","id":2800148,"avatar_url":"https://gravatar.com/avatar/1b6a1191ef355a9bd58cc6b894d6ba20?d=https%3a%2f%2fidenticons.github.com%2feabf743d1af50fe66d834db34f91c7f5.png&r=x","gravatar_id":"1b6a1191ef355a9bd58cc6b894d6ba20","url":"https://api.github.com/users/treynolen","html_url":"https://github.com/treynolen","followers_url":"https://api.github.com/users/treynolen/followers","following_url":"https://api.github.com/users/treynolen/following{/other_user}","gists_url":"https://api.github.com/users/treynolen/gists{/gist_id}","starred_url":"https://api.github.com/users/treynolen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/treynolen/subscriptions","organizations_url":"https://api.github.com/users/treynolen/orgs","repos_url":"https://api.github.com/users/treynolen/repos","events_url":"https://api.github.com/users/treynolen/events{/privacy}","received_events_url":"https://api.github.com/users/treynolen/received_events","type":"user","site_admin":false},"created_at":"2012-12-19t18:55:38z","updated_at":"2012-12-19t18:55:38z","body":"i also have one user with a massive number of files, but i don't think they are using any special characters except maybe \"-\".   i will try the filecache.php change, but how did you repair/restore the oc_fscache table?\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11573126","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-11573126","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":11573126,"user":{"login":"matize","id":2735434,"avatar_url":"https://gravatar.com/avatar/57e13a670c0f93bfab28e09cf3b92cfe?d=https%3a%2f%2fidenticons.github.com%2f32cb374499944f3a7a8d8d5389a17061.png&r=x","gravatar_id":"57e13a670c0f93bfab28e09cf3b92cfe","url":"https://api.github.com/users/matize","html_url":"https://github.com/matize","followers_url":"https://api.github.com/users/matize/followers","following_url":"https://api.github.com/users/matize/following{/other_user}","gists_url":"https://api.github.com/users/matize/gists{/gist_id}","starred_url":"https://api.github.com/users/matize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matize/subscriptions","organizations_url":"https://api.github.com/users/matize/orgs","repos_url":"https://api.github.com/users/matize/repos","events_url":"https://api.github.com/users/matize/events{/privacy}","received_events_url":"https://api.github.com/users/matize/received_events","type":"user","site_admin":false},"created_at":"2012-12-20t13:21:02z","updated_at":"2012-12-20t13:21:02z","body":"i did use that command: myisamchk -r -q oc_fscache.myi\r\nbut you have to navigate first to the directory containing the *.myi files.\r\non my debian system they are located at /var/lib/mysql/owncloud/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12450177","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-12450177","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":12450177,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-01-19t04:10:46z","updated_at":"2013-01-19t04:10:46z","body":"this comes from an attempt to fix syncing of the shared folder, these queries won't be happening with the new file cache."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16647746","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-16647746","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":16647746,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2013-04-19t11:15:00z","updated_at":"2013-04-19t11:15:00z","body":"this should be fixed with oc5, please reopen if it is not solved."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20180537","html_url":"https://github.com/owncloud/core/issues/910#issuecomment-20180537","issue_url":"https://api.github.com/repos/owncloud/core/issues/910","id":20180537,"user":{"login":"gufete","id":3624134,"avatar_url":"https://gravatar.com/avatar/8101a21703698ae0a9be0767b157396d?d=https%3a%2f%2fidenticons.github.com%2ff68e2b24587ec97bdb43ca5f6440f56d.png&r=x","gravatar_id":"8101a21703698ae0a9be0767b157396d","url":"https://api.github.com/users/gufete","html_url":"https://github.com/gufete","followers_url":"https://api.github.com/users/gufete/followers","following_url":"https://api.github.com/users/gufete/following{/other_user}","gists_url":"https://api.github.com/users/gufete/gists{/gist_id}","starred_url":"https://api.github.com/users/gufete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gufete/subscriptions","organizations_url":"https://api.github.com/users/gufete/orgs","repos_url":"https://api.github.com/users/gufete/repos","events_url":"https://api.github.com/users/gufete/events{/privacy}","received_events_url":"https://api.github.com/users/gufete/received_events","type":"user","site_admin":false},"created_at":"2013-06-28t10:15:29z","updated_at":"2013-06-28t10:15:29z","body":"i see similar behaviour with owncoud 4.5.12, is this fixed in 4.5.x branch? "}]