[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15949418","html_url":"https://github.com/owncloud/core/issues/2740#issuecomment-15949418","issue_url":"https://api.github.com/repos/owncloud/core/issues/2740","id":15949418,"user":{"login":"j-ed","id":2572764,"avatar_url":"https://gravatar.com/avatar/2578b8d55efee3aa1bd7dec59d4c18c3?d=https%3a%2f%2fidenticons.github.com%2f5c998343ba958bae7db884388465bec3.png&r=x","gravatar_id":"2578b8d55efee3aa1bd7dec59d4c18c3","url":"https://api.github.com/users/j-ed","html_url":"https://github.com/j-ed","followers_url":"https://api.github.com/users/j-ed/followers","following_url":"https://api.github.com/users/j-ed/following{/other_user}","gists_url":"https://api.github.com/users/j-ed/gists{/gist_id}","starred_url":"https://api.github.com/users/j-ed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j-ed/subscriptions","organizations_url":"https://api.github.com/users/j-ed/orgs","repos_url":"https://api.github.com/users/j-ed/repos","events_url":"https://api.github.com/users/j-ed/events{/privacy}","received_events_url":"https://api.github.com/users/j-ed/received_events","type":"user","site_admin":false},"created_at":"2013-04-05t10:46:09z","updated_at":"2013-04-05t10:46:09z","body":"it might be worse to add a \"if not exists\" to the \"create table\" statement to prevent such kind of error message. it seems to me that `lib/mdb2/driver/manager/sqlite3.php` is the file which contains the relevant code.\r\nyou could give this modification a try:\r\n\r\n    # diff sqlite3.php.org sqlite3.php\r\n    1285c1285\r\n    <         $query = \"create table $sequence_name ($seqcol_name integer primary key default 0 not null)\";\r\n    ---\r\n    >         $query = \"create table if not exists $sequence_name ($seqcol_name integer primary key default 0 not null)\";\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15950416","html_url":"https://github.com/owncloud/core/issues/2740#issuecomment-15950416","issue_url":"https://api.github.com/repos/owncloud/core/issues/2740","id":15950416,"user":{"login":"diezorg","id":1926199,"avatar_url":"https://gravatar.com/avatar/be5a6b8e879bcbe338362696a478adf9?d=https%3a%2f%2fidenticons.github.com%2f02291921ecd09c8136edd1cc95c3e597.png&r=x","gravatar_id":"be5a6b8e879bcbe338362696a478adf9","url":"https://api.github.com/users/diezorg","html_url":"https://github.com/diezorg","followers_url":"https://api.github.com/users/diezorg/followers","following_url":"https://api.github.com/users/diezorg/following{/other_user}","gists_url":"https://api.github.com/users/diezorg/gists{/gist_id}","starred_url":"https://api.github.com/users/diezorg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diezorg/subscriptions","organizations_url":"https://api.github.com/users/diezorg/orgs","repos_url":"https://api.github.com/users/diezorg/repos","events_url":"https://api.github.com/users/diezorg/events{/privacy}","received_events_url":"https://api.github.com/users/diezorg/received_events","type":"user","site_admin":false},"created_at":"2013-04-05t11:15:27z","updated_at":"2013-04-05t11:15:27z","body":"good guess, tried that on 3rdparty/mdb2/driver/manager/sqlite.php, 3rdparty/mdb2/driver/manager/sqlsrv.php and lib/mdb2/driver/manager/sqlite3.php because those were the files which contained that line for table creation.\r\n\r\nbut still same message:\r\nfailed to update database structure (mdb2 error: already exists, _doquery: [error message: could not execute statement] [last executed query: create table \"oc_appconfig\" (\"appid\" varchar(32) default ' ' not null, \"configkey\" varchar(64) default ' ' not null, \"configvalue\" longtext not null)] [native code: 1] [native message: table \"oc_appconfig\" already exists] )\r\n\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16047878","html_url":"https://github.com/owncloud/core/issues/2740#issuecomment-16047878","issue_url":"https://api.github.com/repos/owncloud/core/issues/2740","id":16047878,"user":{"login":"rorso","id":4092020,"avatar_url":"https://gravatar.com/avatar/208a040ddeab150f5d45137369ba3215?d=https%3a%2f%2fidenticons.github.com%2fa8bb786cdb2d639f3c835fcde0ebaa08.png&r=x","gravatar_id":"208a040ddeab150f5d45137369ba3215","url":"https://api.github.com/users/rorso","html_url":"https://github.com/rorso","followers_url":"https://api.github.com/users/rorso/followers","following_url":"https://api.github.com/users/rorso/following{/other_user}","gists_url":"https://api.github.com/users/rorso/gists{/gist_id}","starred_url":"https://api.github.com/users/rorso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rorso/subscriptions","organizations_url":"https://api.github.com/users/rorso/orgs","repos_url":"https://api.github.com/users/rorso/repos","events_url":"https://api.github.com/users/rorso/events{/privacy}","received_events_url":"https://api.github.com/users/rorso/received_events","type":"user","site_admin":false},"created_at":"2013-04-08t12:39:29z","updated_at":"2013-04-08t12:39:29z","body":"well, i got the same problem, which leaves my installation broken until someone fixes this bug.  i can toggle between \"in maintainance\" and \"i will now update\".\r\ncertainly i have a nightly backup, but all changes inbetween are lost.\r\n\r\nthe \"create table\" statement obviously does not origin in the two *.php files, as it is still executed, even if the files are changed. any chance it will be generated on the fly by walking through the \"db_structure.xml\" ?\r\n\r\ndid anyone ever try this update before it was released? this seems to be a bug that would have got noticed :-(\r\nguess i really can't complain about the voluntary work of others, but sometimes it's only pita."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16106393","html_url":"https://github.com/owncloud/core/issues/2740#issuecomment-16106393","issue_url":"https://api.github.com/repos/owncloud/core/issues/2740","id":16106393,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-04-09t11:04:26z","updated_at":"2013-04-09t11:04:26z","body":"@icewind1991 @blizzz @bartv2 @deepdiver1975 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16353049","html_url":"https://github.com/owncloud/core/issues/2740#issuecomment-16353049","issue_url":"https://api.github.com/repos/owncloud/core/issues/2740","id":16353049,"user":{"login":"ggates1","id":4153065,"avatar_url":"https://gravatar.com/avatar/b397da02219af7795dfb5e81ec75e203?d=https%3a%2f%2fidenticons.github.com%2f0b854030171ad4b78cc4c80d8de92c23.png&r=x","gravatar_id":"b397da02219af7795dfb5e81ec75e203","url":"https://api.github.com/users/ggates1","html_url":"https://github.com/ggates1","followers_url":"https://api.github.com/users/ggates1/followers","following_url":"https://api.github.com/users/ggates1/following{/other_user}","gists_url":"https://api.github.com/users/ggates1/gists{/gist_id}","starred_url":"https://api.github.com/users/ggates1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggates1/subscriptions","organizations_url":"https://api.github.com/users/ggates1/orgs","repos_url":"https://api.github.com/users/ggates1/repos","events_url":"https://api.github.com/users/ggates1/events{/privacy}","received_events_url":"https://api.github.com/users/ggates1/received_events","type":"user","site_admin":false},"created_at":"2013-04-14t15:42:18z","updated_at":"2013-04-14t15:42:18z","body":"got same error for pgsql. rolled back to the 5.0 - version since."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22273260","html_url":"https://github.com/owncloud/core/issues/2740#issuecomment-22273260","issue_url":"https://api.github.com/repos/owncloud/core/issues/2740","id":22273260,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-08-07t18:34:52z","updated_at":"2013-08-07t18:34:52z","body":"i’m closing this issue because it has been inactive for a few months. this probably means that the issue is not reproducible or it has been fixed in a newer version.\r\n\r\nplease reopen if you still encounter this issue with the [latest stable version](http://owncloud.org/install/) (currently owncloud 5.0.9) and then please use the [issue template](https://raw.github.com/owncloud/core/master/issue_template.md). you an also contribute directly by providing a patch – see the [developer manual](http://doc.owncloud.org/server/5.0/developer_manual/). :)\r\n\r\nthank you!"}]