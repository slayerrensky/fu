[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14440404","html_url":"https://github.com/owncloud/core/issues/2111#issuecomment-14440404","issue_url":"https://api.github.com/repos/owncloud/core/issues/2111","id":14440404,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t13:44:05z","updated_at":"2013-03-05t13:44:05z","body":"@schiesbn "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14447799","html_url":"https://github.com/owncloud/core/issues/2111#issuecomment-14447799","issue_url":"https://api.github.com/repos/owncloud/core/issues/2111","id":14447799,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t16:05:09z","updated_at":"2013-03-05t16:05:09z","body":"i had the same error reported in apps (not core). issue#644 external local drive causes php errors.\r\n\r\nlukasreschke wrote a answer to my issue. maybe there is a relation between.\r\n.......\r\nthis notice was due to the fact that we pass the data by reference instead of value and t() is an object - it has been already fixed with owncloud/core@d3e88e6 \r\n with owncloud 6.0 we will pass the data by value - but that's just a too risky change to perform it now for 5.0 ;-)\r\n\r\nit shouldn't also had any other impact despite of the error in the php error log.\r\n.......\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14450150","html_url":"https://github.com/owncloud/core/issues/2111#issuecomment-14450150","issue_url":"https://api.github.com/repos/owncloud/core/issues/2111","id":14450150,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-05t16:41:37z","updated_at":"2013-03-05t16:42:19z","body":"i just tried it. this seams to be a issue only in combination with the sync client.\r\n\r\nin the web interface we make a copy (version) from the old file right before the new file is written. if you use the sync client it seems like the new version is already in place when we create the version.\r\n\r\ni'm not sure why it behaves different in this case. i will investigate the issue further. @icewind1991 do you have an idea why the write hook is triggered after the new file is already written if i use the sync client but before if i use the web interface? maybe because the sync client writes the file as a stream?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14563098","html_url":"https://github.com/owncloud/core/issues/2111#issuecomment-14563098","issue_url":"https://api.github.com/repos/owncloud/core/issues/2111","id":14563098,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-07t14:28:26z","updated_at":"2013-03-07t14:28:58z","body":"this seems to be quite tricky since the client emits two times the write signal, once for writing the file and once for the touch() call to correct the timestamp.\r\n\r\n@icewind1991  any idea how to fix this? one option would be to change the touch signal to emit a \"touch\" instead of a \"write\" if a timestamp was provided while calling the function and the file already exists? but i fear that this might have some side effects? what do you think?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14564728","html_url":"https://github.com/owncloud/core/issues/2111#issuecomment-14564728","issue_url":"https://api.github.com/repos/owncloud/core/issues/2111","id":14564728,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-07t14:56:24z","updated_at":"2013-03-07t14:57:08z","body":"i started a branch with a fix. therefore i changed the hooks for the touch() call. i always emit a 'touch' hook and a 'write' hook only if the file wasn't there before.\r\n\r\nthe crucial part is here (line 249-253): https://github.com/owncloud/core/blob/versioning_sync_client/lib/files/view.php#l249\r\n\r\ni assume that's safe but would prefer to have a 'go' from someone who have deep filesystem knowledge, @icewind1991 :-)"}]