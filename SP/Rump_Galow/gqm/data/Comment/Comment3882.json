[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20272563","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-20272563","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":20272563,"user":{"login":"kabum","id":245432,"avatar_url":"https://gravatar.com/avatar/a1dea19f88f38ea0b5b5b4d19d5b3107?d=https%3a%2f%2fidenticons.github.com%2f53d8cbb3dbc087a02951dec47438ccdf.png&r=x","gravatar_id":"a1dea19f88f38ea0b5b5b4d19d5b3107","url":"https://api.github.com/users/kabum","html_url":"https://github.com/kabum","followers_url":"https://api.github.com/users/kabum/followers","following_url":"https://api.github.com/users/kabum/following{/other_user}","gists_url":"https://api.github.com/users/kabum/gists{/gist_id}","starred_url":"https://api.github.com/users/kabum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabum/subscriptions","organizations_url":"https://api.github.com/users/kabum/orgs","repos_url":"https://api.github.com/users/kabum/repos","events_url":"https://api.github.com/users/kabum/events{/privacy}","received_events_url":"https://api.github.com/users/kabum/received_events","type":"user","site_admin":false},"created_at":"2013-07-01t09:54:07z","updated_at":"2013-07-01t09:54:07z","body":"cc @schiesbn "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20277939","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-20277939","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":20277939,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-07-01t12:15:08z","updated_at":"2013-07-01t12:15:08z","body":"your steps to reproduce are a bit vague, at least point 3 (test some days, with client sync etc). would be great if you could make them more precisely.\r\n\r\nif i understand you correctly all files get removed from the trash bin because owncloud think that you don't have enough space left. can you have a look at you database in the oc_files_trashbin table. this table takes track of your trash bin size. obviously, if all files are removed the size should be zero."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20281232","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-20281232","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":20281232,"user":{"login":"davidak","id":91113,"avatar_url":"https://gravatar.com/avatar/563a9964eab663889709242befc5da20?d=https%3a%2f%2fidenticons.github.com%2f8e8e461c17c507670ea314100f3d384f.png&r=x","gravatar_id":"563a9964eab663889709242befc5da20","url":"https://api.github.com/users/davidak","html_url":"https://github.com/davidak","followers_url":"https://api.github.com/users/davidak/followers","following_url":"https://api.github.com/users/davidak/following{/other_user}","gists_url":"https://api.github.com/users/davidak/gists{/gist_id}","starred_url":"https://api.github.com/users/davidak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidak/subscriptions","organizations_url":"https://api.github.com/users/davidak/orgs","repos_url":"https://api.github.com/users/davidak/repos","events_url":"https://api.github.com/users/davidak/events{/privacy}","received_events_url":"https://api.github.com/users/davidak/received_events","type":"user","site_admin":false},"created_at":"2013-07-01t13:25:36z","updated_at":"2013-07-01t13:25:36z","body":"@schiesbn i have no protocol of every thing i have done.\r\ninstalled the new client 1.3.0 and synced it with 2 different account on 2 pcs, uploaded ca. 1000 small textfiles with the webinterface, some big files ~1gb, deleted them...\r\n\r\nin oc_files_trashbin are files from another user, nothing from user davidak.\r\n![2013-07-01 15_17_08-dateien _ owncloud demonstrant](https://f.cloud.github.com/assets/91113/730324/e6c871c2-e250-11e2-8c07-0419039f5679.png)\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21247267","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-21247267","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":21247267,"user":{"login":"davidak","id":91113,"avatar_url":"https://gravatar.com/avatar/563a9964eab663889709242befc5da20?d=https%3a%2f%2fidenticons.github.com%2f8e8e461c17c507670ea314100f3d384f.png&r=x","gravatar_id":"563a9964eab663889709242befc5da20","url":"https://api.github.com/users/davidak","html_url":"https://github.com/davidak","followers_url":"https://api.github.com/users/davidak/followers","following_url":"https://api.github.com/users/davidak/following{/other_user}","gists_url":"https://api.github.com/users/davidak/gists{/gist_id}","starred_url":"https://api.github.com/users/davidak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidak/subscriptions","organizations_url":"https://api.github.com/users/davidak/orgs","repos_url":"https://api.github.com/users/davidak/repos","events_url":"https://api.github.com/users/davidak/events{/privacy}","received_events_url":"https://api.github.com/users/davidak/received_events","type":"user","site_admin":false},"created_at":"2013-07-19t12:53:48z","updated_at":"2013-07-19t12:53:48z","body":"i have updated from 5.0.7 to 5.0.9 today and had still this problem.\r\n\r\n20 gb quota, 2 gb used, delete some files, trash empty!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21354538","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-21354538","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":21354538,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-07-22t16:00:37z","updated_at":"2013-07-22t16:00:37z","body":"can you check the content of the oc_files_trashsize table? if no files are stored in your trash bin than the size for your user account should be zero. if not something goes wrong with the trash calculation."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21542996","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-21542996","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":21542996,"user":{"login":"davidak","id":91113,"avatar_url":"https://gravatar.com/avatar/563a9964eab663889709242befc5da20?d=https%3a%2f%2fidenticons.github.com%2f8e8e461c17c507670ea314100f3d384f.png&r=x","gravatar_id":"563a9964eab663889709242befc5da20","url":"https://api.github.com/users/davidak","html_url":"https://github.com/davidak","followers_url":"https://api.github.com/users/davidak/followers","following_url":"https://api.github.com/users/davidak/following{/other_user}","gists_url":"https://api.github.com/users/davidak/gists{/gist_id}","starred_url":"https://api.github.com/users/davidak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidak/subscriptions","organizations_url":"https://api.github.com/users/davidak/orgs","repos_url":"https://api.github.com/users/davidak/repos","events_url":"https://api.github.com/users/davidak/events{/privacy}","received_events_url":"https://api.github.com/users/davidak/received_events","type":"user","site_admin":false},"created_at":"2013-07-25t09:37:11z","updated_at":"2013-07-25t09:37:11z","body":"now tested again with fresh installed enterprise edition 5.0.9 and still the same problem.\r\n5 gb quota, 3 gb used, delete 800 mb, trash empty.\r\n\r\noc_files_trashsize\r\n```\r\nuser       size\r\ndkl         19244352\r\ndavidak   0\r\njga         18921634\r\ntlo          34143842\r\ndemo      541777865\r\n```\r\n\r\nafter i deleted 430 files from trash, the usage was still the same.\r\nare the files in trash not added to quota?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21543614","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-21543614","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":21543614,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-07-25t09:49:38z","updated_at":"2013-07-25t09:49:38z","body":"davidak is your user, right. so '0' is correct if there are no files in the trash bin.\r\n\r\n> after i deleted 430 files from trash, the usage was still the same.\r\n> are the files in trash not added to quota?\r\n\r\nyes, the quota is only your \"real\" usage in files/. only if no quota is set the trash bin is part of the quota because than we just calculate your disk space. the trash bin just uses 50% of your current free quota. this means in your example you have 2gb left, so the trash bin will use at most 2gb (and the versions the the other 2gb). if you upload more files than the space for your trash will be reduced accordingly."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21544327","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-21544327","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":21544327,"user":{"login":"davidak","id":91113,"avatar_url":"https://gravatar.com/avatar/563a9964eab663889709242befc5da20?d=https%3a%2f%2fidenticons.github.com%2f8e8e461c17c507670ea314100f3d384f.png&r=x","gravatar_id":"563a9964eab663889709242befc5da20","url":"https://api.github.com/users/davidak","html_url":"https://github.com/davidak","followers_url":"https://api.github.com/users/davidak/followers","following_url":"https://api.github.com/users/davidak/following{/other_user}","gists_url":"https://api.github.com/users/davidak/gists{/gist_id}","starred_url":"https://api.github.com/users/davidak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidak/subscriptions","organizations_url":"https://api.github.com/users/davidak/orgs","repos_url":"https://api.github.com/users/davidak/repos","events_url":"https://api.github.com/users/davidak/events{/privacy}","received_events_url":"https://api.github.com/users/davidak/received_events","type":"user","site_admin":false},"created_at":"2013-07-25t10:04:52z","updated_at":"2013-07-25t10:04:52z","body":">the trash bin just uses 50% of your current free quota. this means in your example you have 2gb left, so the trash bin will use at most 2gb (and the versions the the other 2gb).\r\n\r\n@schiesbn do you mean 1gb for trash and 1gb for versions?\r\n\r\nbut then the 800mb should get moved to trash.\r\n\r\n\r\nnow deleted some files and uploaded some files via clients and get this, but the files have a little bit more size:\r\n\r\n![2013-07-25 12_02_20-owncloud enterprise edition davidak](https://f.cloud.github.com/assets/91113/854891/8d6fd3f8-f511-11e2-8fee-15b6b89f5774.png)\r\n\r\n![2013-07-25 12_02_43-dateien _ owncloud enterprise edition davidak](https://f.cloud.github.com/assets/91113/854892/8fbbbd3e-f511-11e2-9c99-b896464a3f43.png)\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21546139","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-21546139","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":21546139,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-07-25t10:44:50z","updated_at":"2013-07-25t10:47:42z","body":"> do you mean 1gb for trash and 1gb for versions?\r\n\r\nyes, 1gb, sorry.\r\n\r\n> but then the 800mb should get moved to trash.\r\n\r\nif your free quota is 2gb and the current trash bin size (the table i mentioned above) is <1gb than yes. but keep in mind that not only the file gets moved to the trash but also the versions (and if enabled the encryption keys). the sum of all the files need to meet the limit. we can ignore the encryption keys in this example but if you have versions from the 800mb file than that's the reasons why it doesn't fit into the trash bin, can you check this?\r\n\r\nyes, the quota calculation looks wired. but that's not directly related to the trash bin. if i remember correctly there is also a open issue which deals with the calculation of the quota."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26508943","html_url":"https://github.com/owncloud/core/issues/3882#issuecomment-26508943","issue_url":"https://api.github.com/repos/owncloud/core/issues/3882","id":26508943,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-10-17t14:12:09z","updated_at":"2013-10-17t14:12:09z","body":"i assume this is now solved. if not please reopen"}]