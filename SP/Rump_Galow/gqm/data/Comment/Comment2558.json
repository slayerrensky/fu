[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15391831","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15391831","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15391831,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t13:02:28z","updated_at":"2013-03-25t13:03:14z","body":"hi, i tried to upgrade vom branch stable45 to fix_cache_upgrade. it ends up in the error\r\n```\r\n[mon mar 25 13:53:45 2013] [error] [client ::1] db error: db error: \"sqlstate[hy000]: general error: 1 no such table: oc_appconfig\"<br />offending command was: select &quot;configvalue&quot; from &quot;oc_appconfig&quot; where &quot;appid&quot; = ? and &quot;configkey&quot; = ?<br />\r\n```\r\nthe web browser shows\r\n```\r\nupdated versions app\r\nsqlstate[hy000]: general error: 1 near \"limit\": syntax error\r\n```\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15392080","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15392080","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15392080,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t13:08:12z","updated_at":"2013-03-25t13:08:12z","body":"which database?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15392254","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15392254","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15392254,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t13:12:26z","updated_at":"2013-03-25t13:12:26z","body":"sqlite"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15406077","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15406077","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15406077,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t17:01:47z","updated_at":"2013-03-25t17:01:47z","body":"the etag migration was already done by @icewind1991 #2543 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15409642","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15409642","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15409642,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t17:56:34z","updated_at":"2013-03-25t17:56:34z","body":"@mtgap what he fixed is only part of the problem. but yes, one part that is covered with this code as well."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15419301","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15419301","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15419301,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t19:47:36z","updated_at":"2013-03-25t19:47:36z","body":"added index to db for better performance on upgrade (thanks to @dragotin)\r\n\r\nbut we still see that the new cache will be overwritten on user login, including the etag. we need to sort this out first."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15425034","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15425034","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15425034,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t20:58:11z","updated_at":"2013-03-25t20:58:11z","body":"@dragotin could you try again, please? for me, etags will be fetched from the old table and stay like this even after login (or being logged in before oc upgrade)."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15426500","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15426500","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15426500,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-25t21:23:08z","updated_at":"2013-03-25t21:23:08z","body":"doh',  no i got a case again where the etag was overwritten again, after logging in with another user. *grml* â†’ for tomorrow"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15453855","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15453855","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15453855,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t11:54:24z","updated_at":"2013-03-26t11:54:24z","body":"the etag will be overwritten, when a background filescan  is done.\r\nit is because oc_scanner::scan($file) is called (oc_scanner line 165). the etag will be replaced in any case. the only way to keep the etag is to call it as \r\n```\r\n$this->scan($path, oc_scanner::scan_shallow);\r\n```\r\n\r\nthe background scan is triggered by apps/files/ajax/scan.php:29\r\n\r\nthe scan happens only for folders that are returned by $this->cache->getincomplete() (wtih $this being an instance of oc_scanner). this happens for folders that have the size -1 in the cache. after the upgrade there is no entry with size == -1, so there is somewhere as step inbetween.\r\n\r\nnevertheless: is it really necessary to allow an overwrite of the etag although the mtime is equal? @icewind1991 @mtgap @schiesbn ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15454060","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15454060","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15454060,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t12:00:20z","updated_at":"2013-03-26t12:00:20z","body":"p.s.: https://github.com/owncloud/core/blob/master/lib/files/cache/scanner.php#l61 this doc line also seem to describe something different than really happens. or do i misunderstand there something?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15460556","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15460556","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15460556,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t14:16:38z","updated_at":"2013-03-26t14:16:38z","body":"in other words: are there reasons speaking against removing $checkexisting from scanfile()?\r\nhttps://github.com/owncloud/core/blob/master/lib/files/cache/scanner.php#l64"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15462561","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15462561","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15462561,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t14:49:48z","updated_at":"2013-03-26t14:49:48z","body":"meanwhile i think i understood that it does make sense with regard to writing the size or not as it affects the getincomplete() results.\r\n\r\nbut then, i think, the mtime-check with setting the e-tag still should be taken out of the if-block."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15463113","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15463113","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15463113,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t14:58:04z","updated_at":"2013-03-26t14:58:04z","body":"@owncloud-bot retest this please"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15463620","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15463620","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15463620,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t15:05:43z","updated_at":"2013-03-26t15:05:43z","body":"@dragotin test again please, this should now work.\r\n\r\n@icewind1991 i appreciate your opinion on the recent commit"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15488916","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15488916","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15488916,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t21:13:14z","updated_at":"2013-03-26t21:13:14z","body":"@owncloud-bot retest this please"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15489728","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15489728","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15489728,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t21:27:57z","updated_at":"2013-03-26t21:27:57z","body":"@icewind1991 @blizzz unit tests seem to be broken - please have a look - thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15493571","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15493571","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15493571,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t22:42:09z","updated_at":"2013-03-26t22:42:57z","body":"ooookay, there is the error in the test:\r\n```failed asserting that '5151ba32445b1' is not equal to <string:5151ba32445b1>```\r\nthis happens when the file is rewritten in the same time.\r\nwith\r\n```\r\nsleep(1);\r\n```\r\nin front of the line https://github.com/owncloud/core/blob/master/tests/lib/files/cache/updater.php#l79 the test runs successful.\r\nbut i do not feel like changing the test is ok, in theory (as shown by the test) the file can be changed having the same mtime. so, another check additional for identical mtime is identical size (which still is no proof, but better). next commit will take care of this."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15493597","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15493597","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15493597,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t22:42:37z","updated_at":"2013-03-26t22:42:37z","body":"@owncloud-bot retest this please"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15522601","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15522601","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15522601,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-03-27t13:20:48z","updated_at":"2013-03-27t13:20:48z","body":"tested this branch on two installations, but running through the upgrade cycle from 4.5.x -> this branch. one installation used sqlite database and had read only shares. the other was an update from 4.5.5 using mysql. both worked good, i manually compared the etags stored in oc_properties (on 4.5) against the ones in oc_filecache on 5.\r\nsyncing works without conflicts.\r\n\r\nbased on that i'd give a :+1:. thanks arthur :)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15526091","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15526091","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15526091,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-03-27t14:24:17z","updated_at":"2013-03-27t14:24:17z","body":"tested, code looks good, :+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15541877","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15541877","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15541877,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-27t18:09:59z","updated_at":"2013-03-27t18:09:59z","body":"yeeehaw!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15543088","html_url":"https://github.com/owncloud/core/pull/2558#issuecomment-15543088","issue_url":"https://api.github.com/repos/owncloud/core/issues/2558","id":15543088,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-03-27t18:24:52z","updated_at":"2013-03-27t18:24:52z","body":"port to master:\r\n7839ec5093272fb516ad701b79387af158c8994d\r\n9d25058905f8a50e729397052d39eb84dcb9fe01\r\ne2afd0cb42af17a968d6fbefac7372d13b71399a\r\n18554059a4be6540c4c16e8bbc6778b734b3371b\r\n5fc276602aa2aaf575776dbbb6b7b8626357cd8a\r\n599778b153f17fe1e749d2f10b47e32ba1eedb06\r\n19c7d9c3dcbce1c6b2d38f82d61a8d95a800a65a\r\n1a874b910642e3a174ecdf355ec1749bc6b3b716\r\nd9e07ca60a80ce076f1060defb67bf1cb4fe542e\r\n1d676fb0e63ce7bd2a303335fc9dd484846d91f8\r\n2a2d409733dfb339dac49cfdddc2a627d4e5d581\r\n3d29a82150d14ee9489b6d40a39b66d0c07cf1de\r\n78c694b6eef18f6cc91e939aaa8abe33e81bc7f5\r\n"}]