[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13788612","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-13788612","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":13788612,"user":{"login":"mtrichards","id":1818977,"avatar_url":"https://gravatar.com/avatar/a1655fd2e819638708ee854fa941008b?d=https%3a%2f%2fidenticons.github.com%2fa75d8baded229745ad65d43f7a7975df.png&r=x","gravatar_id":"a1655fd2e819638708ee854fa941008b","url":"https://api.github.com/users/mtrichards","html_url":"https://github.com/mtrichards","followers_url":"https://api.github.com/users/mtrichards/followers","following_url":"https://api.github.com/users/mtrichards/following{/other_user}","gists_url":"https://api.github.com/users/mtrichards/gists{/gist_id}","starred_url":"https://api.github.com/users/mtrichards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtrichards/subscriptions","organizations_url":"https://api.github.com/users/mtrichards/orgs","repos_url":"https://api.github.com/users/mtrichards/repos","events_url":"https://api.github.com/users/mtrichards/events{/privacy}","received_events_url":"https://api.github.com/users/mtrichards/received_events","type":"user","site_admin":false},"created_at":"2013-02-19t18:24:21z","updated_at":"2013-02-19t18:24:21z","body":"for now, i am ok with having to redo the sharing properties.  ideally, sharing is also restored, but for now i am ok with it working this way - with restoring the file and the versions.  sharing is a nice to have after that."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13804213","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-13804213","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":13804213,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-02-19t22:33:34z","updated_at":"2013-02-19t22:33:34z","body":"@schiesbn @icewind1991 does the file id change when restoring deleted files? it shouldn't."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13804653","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-13804653","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":13804653,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-02-19t22:42:40z","updated_at":"2013-02-19t22:42:40z","body":"not sure how the trash is implemented, if it does a move in the filesystem the id _should_ stay the same"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13805512","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-13805512","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":13805512,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-02-19t23:00:13z","updated_at":"2013-02-19t23:00:13z","body":"apparently is uses copy instead of move as @dragotin points out in #1777 "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13823919","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-13823919","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":13823919,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-20t09:56:43z","updated_at":"2013-02-20t09:56:43z","body":"the files get copied. otherwise all other post/pre hooks after the trashbin hook would fail. also the delete operation as such would fail if a pre-hook would move the file to a different place.\r\n\r\nwe could remember the file id and manipulate the fscache after the file was restored. as far as i know the file cache only counts the ids up this means that a empty id will never be reused by a new file. but i'm not sure if we want to manipulate the file cache this way, if we do it this way we would also need a (public) file cache api for it.\r\n\r\neven than we would have the problem that the sharing app removes the share relation once a file was deleted. so we would also need to make some changes to the sharing app.\r\n\r\nat the moment i'm not sure what's the best solution here. but since we don't have much time left until oc5 gets released i agree with @mtrichards that we should keep it the way it is and think about an enhancement which take share relations into account after oc5.0. having the possibility to restore deleted files together with its versions is already a big step forward.\r\n\r\nfor now lets focus on show stopper bugs. for other improvements we will have enough time after the release of oc5.0"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22104295","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-22104295","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":22104295,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-08-05t12:59:52z","updated_at":"2013-08-05t12:59:52z","body":"so whatâ€™s the status here? owncloud 5 has been released and maybe this is an improvement for owncloud 6?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22309629","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-22309629","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":22309629,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-08t08:30:27z","updated_at":"2013-08-08t08:32:16z","body":"we still don't have a real solution here. after all it is a delete operation which also triggers the share api to remove the share. the possible solution i outlined above is more a hack than a solution. manipulating the file cache id is not really nice and also the share api would need to check if the trash bin is enabled and than doesn't remove the share relation but at the same time also doesn't show it to the user as long as the file is in the trash bin. if the trash bin deletes the file permanently we would need to notify the share api again. all in all really no nice solution.\r\n\r\nanother solution would be to keep the files in the folder and only mark them as deleted so that the files app no longer shows the file. restore would just remove the \"deleted mark\" and delete permanently would delete the file physically. but this would have draw-backs too. this solution works nicely as long as you use owncloud only. but if you use external storages, than the files would stay there even if they where deleted. not nice. this solution would be technically nice but for owncloud this is most likely not a solution.\r\n\r\nwhich keeps the whole question open. maybe with no real solution."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29549415","html_url":"https://github.com/owncloud/core/issues/1778#issuecomment-29549415","issue_url":"https://api.github.com/repos/owncloud/core/issues/1778","id":29549415,"user":{"login":"vicdeo","id":991300,"avatar_url":"https://gravatar.com/avatar/57b8c1e26d502d5414e4b2fb875d2994?d=https%3a%2f%2fidenticons.github.com%2fe8357fefe8bad5436de368fa5a419461.png&r=x","gravatar_id":"57b8c1e26d502d5414e4b2fb875d2994","url":"https://api.github.com/users/vicdeo","html_url":"https://github.com/vicdeo","followers_url":"https://api.github.com/users/vicdeo/followers","following_url":"https://api.github.com/users/vicdeo/following{/other_user}","gists_url":"https://api.github.com/users/vicdeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vicdeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicdeo/subscriptions","organizations_url":"https://api.github.com/users/vicdeo/orgs","repos_url":"https://api.github.com/users/vicdeo/repos","events_url":"https://api.github.com/users/vicdeo/events{/privacy}","received_events_url":"https://api.github.com/users/vicdeo/received_events","type":"user","site_admin":false},"created_at":"2013-11-30t09:56:43z","updated_at":"2013-11-30t09:56:43z","body":"related to https://github.com/owncloud/core/issues/5836"}]