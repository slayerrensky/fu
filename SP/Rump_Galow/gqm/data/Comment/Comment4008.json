[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20744050","html_url":"https://github.com/owncloud/core/issues/4008#issuecomment-20744050","issue_url":"https://api.github.com/repos/owncloud/core/issues/4008","id":20744050,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-07-10t14:04:11z","updated_at":"2013-07-10t14:04:11z","body":"@schiesbn "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20745877","html_url":"https://github.com/owncloud/core/issues/4008#issuecomment-20745877","issue_url":"https://api.github.com/repos/owncloud/core/issues/4008","id":20745877,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-07-10t14:29:47z","updated_at":"2013-07-10t14:29:47z","body":"you wrote \"some libreoffice files\", so not all libre office files are broken right? do you have a unencrypted copy of a broken file? what happens if you upload it to your owncloud 5.0.8 and download it again? is the file than broken too?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20753579","html_url":"https://github.com/owncloud/core/issues/4008#issuecomment-20753579","issue_url":"https://api.github.com/repos/owncloud/core/issues/4008","id":20753579,"user":{"login":"realrancor","id":2248459,"avatar_url":"https://gravatar.com/avatar/f6105e79dfcfb0fcbabb3db061135c08?d=https%3a%2f%2fidenticons.github.com%2f7a70061016eba74d85c060de0f65212d.png&r=x","gravatar_id":"f6105e79dfcfb0fcbabb3db061135c08","url":"https://api.github.com/users/realrancor","html_url":"https://github.com/realrancor","followers_url":"https://api.github.com/users/realrancor/followers","following_url":"https://api.github.com/users/realrancor/following{/other_user}","gists_url":"https://api.github.com/users/realrancor/gists{/gist_id}","starred_url":"https://api.github.com/users/realrancor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realrancor/subscriptions","organizations_url":"https://api.github.com/users/realrancor/orgs","repos_url":"https://api.github.com/users/realrancor/repos","events_url":"https://api.github.com/users/realrancor/events{/privacy}","received_events_url":"https://api.github.com/users/realrancor/received_events","type":"user","site_admin":false},"created_at":"2013-07-10t16:12:25z","updated_at":"2013-10-10t06:14:49z","body":"hi and thanks for your reply.\r\n\r\n>you wrote \"some libreoffice files\", so not all libre office files are broken right?\r\n\r\nat the moment i have about 50 libreoffice files synced to my oc installation so i wasn't able to test all of them. but about 10 which i have tested are broken and can't be open after the upgrade. all other file-types like .txt or .pdf files are ok.\r\n\r\n>do you have a unencrypted copy of a broken file?\r\n\r\nyes, have a copy of the broken and the intact files in my backups. will send them to you by mail if it is ok.\r\n\r\n>what happens if you upload it to your owncloud 5.0.8 and download it again? is the file than broken too?\r\n\r\nwhen i upload the working file and redownload it it's still working. so probably something goes wrong during the upgrade process. just had an additional look at my owncloud.log and found those 5 entries:\r\n\r\n    {\"app\":\"php\",\"message\":\"imagecreatefromstring(): data is not in a recognized format at \\/var\\/www\\/owncloud\\/lib\\/image.php#477\",\"level\":2,\"time\":1373468419}\r\n    {\"app\":\"php\",\"message\":\"imagecreatefromstring(): data is not in a recognized format at \\/var\\/www\\/owncloud\\/lib\\/image.php#477\",\"level\":2,\"time\":1373468421}\r\n    {\"app\":\"php\",\"message\":\"imagecreatefromstring(): data is not in a recognized format at \\/var\\/www\\/owncloud\\/lib\\/image.php#477\",\"level\":2,\"time\":1373468424}\r\n    {\"app\":\"php\",\"message\":\"imagecreatefromstring(): data is not in a recognized format at \\/var\\/www\\/owncloud\\/lib\\/image.php#477\",\"level\":2,\"time\":1373468430}\r\n    {\"app\":\"php\",\"message\":\"imagecreatefromstring(): data is not in a recognized format at \\/var\\/www\\/owncloud\\/lib\\/image.php#477\",\"level\":2,\"time\":1373468434}\r\n\r\nbut i don't know if those messages are connected to this problem."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/20808871","html_url":"https://github.com/owncloud/core/issues/4008#issuecomment-20808871","issue_url":"https://api.github.com/repos/owncloud/core/issues/4008","id":20808871,"user":{"login":"realrancor","id":2248459,"avatar_url":"https://gravatar.com/avatar/f6105e79dfcfb0fcbabb3db061135c08?d=https%3a%2f%2fidenticons.github.com%2f7a70061016eba74d85c060de0f65212d.png&r=x","gravatar_id":"f6105e79dfcfb0fcbabb3db061135c08","url":"https://api.github.com/users/realrancor","html_url":"https://github.com/realrancor","followers_url":"https://api.github.com/users/realrancor/followers","following_url":"https://api.github.com/users/realrancor/following{/other_user}","gists_url":"https://api.github.com/users/realrancor/gists{/gist_id}","starred_url":"https://api.github.com/users/realrancor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realrancor/subscriptions","organizations_url":"https://api.github.com/users/realrancor/orgs","repos_url":"https://api.github.com/users/realrancor/repos","events_url":"https://api.github.com/users/realrancor/events{/privacy}","received_events_url":"https://api.github.com/users/realrancor/received_events","type":"user","site_admin":false},"created_at":"2013-07-11t12:57:42z","updated_at":"2013-07-11t12:57:42z","body":"hi,\r\n\r\njust some more infos. did a complete fresh installation at a testing machine to test this behavior and to make sure its not a problem at my installation:\r\n\r\n1. install oc 4.5.13\r\n2. logging in, enable the encryption app and logged out.\r\n3. logged in again and upload the isms.odg which i've sent to you via mail\r\n4. logged out\r\n5. upgrade installation to oc 5.0.8\r\n6. logged in to start migration process from the old to the new encryption\r\n7. download the isms.odg again\r\n\r\nafter downloading this single file its broken again and the last few chars are missing in this file."}]