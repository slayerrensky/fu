[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/24960339","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-24960339","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":24960339,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-09-23t22:22:23z","updated_at":"2013-09-23t22:22:23z","body":"@ser72 please install xdebug on the server and have a look at the apache error log - thx\r\n\r\ngenerally speaking the server setup appears pretty messed up and internal server error seems legit"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25005288","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25005288","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25005288,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-09-24t13:54:26z","updated_at":"2013-09-24t13:54:26z","body":"@deepdiver1975 :  customer enabled xdebug and captured apache error log, however it doesn't show anything.\r\n\r\nhow can we determine if xdebug is in fact enabled?  what type of logs should we expect to see in the error log?\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25537779","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25537779","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25537779,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-02t13:25:26z","updated_at":"2013-10-02t13:25:26z","body":"@deepdiver1975 :  customer has xdebug enabled.  when the sync happens, nothing is written to the error.log apache log file?\r\n\r\ncustomer asks the question:\r\n\r\n does atime matters?\r\nthe folder containing pubblicacloud and esentinelcloud is mounted with 'noatime'..\r\n\r\n\r\n\r\nwhat else can we collect in order to resolve this issue if the xdebug doesn't generate any logs?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25538264","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25538264","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25538264,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-10-02t13:31:50z","updated_at":"2013-10-02t13:31:50z","body":"an internal server error has a reason - generally speaking there is a php error related which is written to the logs.\r\n\r\nthe only thing coming to my mind now finally is to fire up some network analyser like wireshark to see what's going back and forth ...."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25611921","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25611921","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25611921,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-03t11:10:35z","updated_at":"2013-10-03t11:10:35z","body":"here is the wireshark capture of the sync. (emailed to @deepdiver1975 )\r\n\r\n\r\n\r\n192.168.2.151 is the client\r\n93.62.114.114 is the server.\r\n\r\ncustomer also states the following:\r\n1)\tthis is a production setup\r\n2)\the has a lab setup which does not see the issue\r\n3)\the will copy the files from the production setup to the lab setup, and attempt to sync – so he is using the exact same files.  this will take him some time though.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25621482","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25621482","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25621482,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-03t13:46:50z","updated_at":"2013-10-03t13:46:50z","body":"customer reports that he copied all the files from production environment to the test environment and performed a sync which was successful and did not repeat.\r\n\r\nrequested following information from customer:\r\n\r\n\r\njust to verify, you are using the same laptop for both sync attempts (production and test)? \r\nalso, can you please give me the following for both test and production\r\n    *owncloud version\r\n    *operating system\r\n    *php version\r\n\r\n\r\nand in production, it is only this one user having issues with the sync?  does that user have issue syncing to any other directory?  or just this one directory structure?\r\n\r\n\r\n\r\nseems the issue is related purely to the production environment,"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25629452","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25629452","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25629452,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-03t15:18:07z","updated_at":"2013-10-03t15:18:07z","body":"customer reports the production client is debian wheezy and fails.\r\ntest client is windows.\r\n\r\nalso notes:\r\n\r\nproduction client, created a new folder in /home/extensys, sync to production server: works!!!!\r\nproduction client, a new folder in data folder/partiton /mnt/dati, sync to production server: it repeats the sync!\r\n\r\nform mount\r\n/dev/mapper/vg00-dati on /mnt/dati type xfs (rw,relatime,attr2,delaylog,noquota)\r\n/dev/disk/by-uuid/3dad419c-ab70-4ff6-ac73-a29cb57f2aa1 on / type ext3 (rw,relatime,errors=remount-ro,barrier=1,data=ordered)\r\n\r\nmay owncloud have some issue with xfs?\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25696124","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25696124","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25696124,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-04t12:51:46z","updated_at":"2013-10-04t12:51:46z","body":"customer sent logs which show sync being performed every 30 seconds. this is normal and by design.\r\n------------------------------------\r\n\r\nupdate:  the issue is not that the sync runs every 30 seconds.  the issue is that files that have not been updated are still synced…\r\n\r\nif you search the attached logs, you can see the following:\r\n\r\n10-04 11:17:41:030 _csync_detect_update: file: vmcliconf/guests/verona/template.conf, instruction: instruction_none <<=\r\n10-04 11:17:41:190 _csync_merge_algorithm_visitor: instruction_sync     file: vmcliconf/guests/verona/template.conf\r\n10-04 11:17:41:193 _csync_merge_algorithm_visitor: instruction_none     file: vmcliconf/guests/verona/template.conf\r\n\r\n\r\nthe file then syncs\r\n\r\n10-04 11:19:13:703 _csync_detect_update: file: vmcliconf/guests/verona/template.conf, instruction: instruction_eval <<=\r\n10-04 11:19:14:401 _csync_detect_update: file: vmcliconf/guests/verona/template.conf, instruction: instruction_none <<=\r\n10-04 11:19:14:565 _csync_merge_algorithm_visitor: instruction_sync     file: vmcliconf/guests/verona/template.conf\r\n10-04 11:19:14:571 _csync_merge_algorithm_visitor: instruction_none     file: vmcliconf/guests/verona/template.conf\r\n\r\nthe file then syncs\r\n\r\n----------------\r\n10-04 11:17:41:029 _csync_detect_update: file: vmcliconf/guests/verona/zimbra_backup.conf, instruction: instruction_none <<=\r\n10-04 11:17:41:191 _csync_merge_algorithm_visitor: instruction_sync     file: vmcliconf/guests/verona/zimbra_backup.conf\r\n10-04 11:17:41:193 _csync_merge_algorithm_visitor: instruction_none     file: vmcliconf/guests/verona/zimbra_backup.conf\r\n\r\nfile then syncs\r\n\r\n10-04 11:19:13:701 _csync_detect_update: file: vmcliconf/guests/verona/zimbra_backup.conf, instruction: instruction_eval <<=10-04 11:19:14:399 _csync_detect_update: file: vmcliconf/guests/verona/zimbra_backup.conf, instruction: instruction_none <<=\r\n10-04 11:19:14:566 _csync_merge_algorithm_visitor: instruction_sync     file: vmcliconf/guests/verona/zimbra_backup.conf\r\n10-04 11:19:14:572 _csync_merge_algorithm_visitor: instruction_none     file: vmcliconf/guests/verona/zimbra_backup.conf\r\n\r\n\r\nfile then syncs\r\n\r\n\r\nthose are just 2 files that i looked at.  the questions are:\r\n\r\n1)\twhy does it come up with instruction_sync when it originally said instruction_none\r\n2)\twhy does it switch back to instruction_none\r\n3)\twhy does it sync anyway?\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25698001","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25698001","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25698001,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-10-04t13:23:35z","updated_at":"2013-10-04t13:23:35z","body":"the algorithm has to investigate both the remote and local side which you see in the log. if you see sync for one repo and none for the other it means that the file needs to be updated on the none side. that is the first two questions.\r\n\r\nquestion 3: it still detects that the file has to be synced and tries it. that seem to fail later, so its tried next time. it is not as easy as stopping after a couple of attempts otherwise we loose track on syncing and it would not be syncing any more at all. the question is: if we stop syncing because of a permanent problem, how does the client realise if it should again take it into account? "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25698391","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25698391","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25698391,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-04t13:29:45z","updated_at":"2013-10-04t13:29:45z","body":"that makes sense @dragotin .  so that leaves 2 questions.  \r\n1) why does the sync fail each time?\r\n2) as you said, if we stop syncing because of a permanent problem (which may be a good idea -- if we fail x times, stop syncing), how do we determine when to restart?  "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/25699193","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-25699193","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":25699193,"user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"created_at":"2013-10-04t13:42:15z","updated_at":"2013-10-04t13:42:15z","body":"unless i am reading this wrong.  the first sync attempt shows the file sync complete successfully:\r\n\r\nline 1100: 10-04 11:17:41:369 oc_module: chunk upload completed for 'owncloud://cloud.extensys.it/remote.php/webdav/productiontest3/vmcliconf/guests/verona/template.conf' (448 bytes out of 448)\r\n\tline 1101: 10-04 11:17:41:586 oc_module:  * upload finished owncloud://cloud.extensys.it/remote.php/webdav/productiontest3/vmcliconf/guests/verona/template.conf\r\n\r\n\r\nthen it still syncs again and completes successfully a second time\r\n\r\n\tline 2988: 10-04 11:19:14:732 oc_module: chunk upload completed for 'owncloud://cloud.extensys.it/remote.php/webdav/productiontest3/vmcliconf/guests/verona/template.conf' (448 bytes out of 448)\r\n\tline 2991: 10-04 11:19:14:962 oc_module:  * upload finished owncloud://cloud.extensys.it/remote.php/webdav/productiontest3/vmcliconf/guests/verona/template.conf\r\n\r\n\r\nso, if this is true -- and it syncs successfully the first time at 11:17, then why is it doing another sync at 11:19?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26046130","html_url":"https://github.com/owncloud/core/issues/4953#issuecomment-26046130","issue_url":"https://api.github.com/repos/owncloud/core/issues/4953","id":26046130,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-10-10t11:34:34z","updated_at":"2013-10-10t11:34:34z","body":"...after lengthy analysis of logfiles: removing the inode check in updater will solve that."}]