[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21930207","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21930207","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21930207,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t11:27:13z","updated_at":"2013-08-01t11:27:13z","body":":+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21930428","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21930428","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21930428,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t11:32:44z","updated_at":"2013-08-01t11:32:44z","body":"test **failed**.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/301/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21933621","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21933621","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21933621,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t12:44:30z","updated_at":"2013-08-01t12:44:30z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/305/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21935976","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21935976","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21935976,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t13:28:20z","updated_at":"2013-08-01t13:28:20z","body":"can't you do the encryption of the shared files after the user has logged in for the first time? you do it for all of their existing files anyways."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21936674","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21936674","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21936674,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t13:39:25z","updated_at":"2013-08-01t13:41:16z","body":"@mtgap no, because the keyfile needs to be decrypted by a user with access to the file and than encrypted again with the public-keys of all users which should have access to the file. so this is different from encrypting existing _users_ files"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21936875","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21936875","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21936875,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t13:42:15z","updated_at":"2013-08-01t13:42:15z","body":"how do you encrypt existing shared files when encryption is first enabled then?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21938044","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21938044","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21938044,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t14:00:45z","updated_at":"2013-08-01t14:00:45z","body":"> how do you encrypt existing shared files when encryption is first enabled then?\r\n\r\nthan the files aren't encrypted, so we take the public-keys and encrypt them to all recipients. but in this case the file is already encrypted. in order to encrypt it to additional users we have to decrypt it first. but obviously this can only de done by a users to whom the file was already encrypted."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21938551","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21938551","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21938551,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t14:07:37z","updated_at":"2013-08-01t14:10:20z","body":"some additional notes: of course even in the case of initial encryption it can happen that not all recipients will have a working encryption set-up. in this case they will be skipped. which means that they will no longer be able to access the shared files. same is true if you add new people to a group later on. the files of the group share will show up in their shared folder but they will not be able to decrypt it. there is nothing we can do about it. this problem needs to be solved on the human level: \"hey, i'm new in your group and i want to work on document x can you please re-share it to me\" or \"hey, i just set up my owncloud, can you please re-share the file with me\"."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21939262","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21939262","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21939262,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t14:17:27z","updated_at":"2013-08-01t14:19:11z","body":"i tihnk i got it now. i don't like code execution being stopped via hooks, but it's fine for now. in the future the encryption app should throw an exception, i won't be including a run parameter in the hooks for the next iteration of sharing. \r\n\r\nshould the files app show files that can't be decrypted? \r\n\r\n> this problem needs to be solved on the human level: \"hey, i'm new in your group and i want to work on document x can you please re-share it to me\" or \"hey, i just set up my owncloud, can you please re-share the file to me\".\r\n\r\ni doubt anyone will figure out that. there are going to be issues created for this unless there is a different work flow.\r\n\r\nand :+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21941026","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21941026","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21941026,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t14:42:28z","updated_at":"2013-08-01t14:43:24z","body":"> i tihnk i got it now. i don't like code execution being stopped via hooks, but it's fine for now. in the future the encryption app should throw an exception\r\n\r\ni tried to throw the exception directly in the encryption app, actually this is also what i would prefer. but than the exception will bet caught by the hook handler which prints it to the owncloud.log and let the sharing app continue. so this will neither stop the sharing process nor provide a output for the user. that's probably the reason why the run parameter for all the standard hooks was introduced. so if you don't want to support the run parameter in the future we have to come up with a different solution which allows hocks to intercept the execution. please keep this in mind during your wok on the sharing api.\r\n\r\n> should the files app show files that can't be decrypted? \r\n\r\ncould be a good idea not to show these files. we can think about it.\r\n\r\n> i doubt anyone will figure out that. there are going to be issues created for this unless there is a different work flow.\r\n\r\nyes, if it comes to security you always have to make a trade-off between security and convenience."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21941423","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21941423","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21941423,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t14:48:14z","updated_at":"2013-08-01t14:48:14z","body":"backported to stable5: https://github.com/owncloud/core/compare/3b30bb23d7...399c1f9a2c"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21941890","html_url":"https://github.com/owncloud/core/pull/4270#issuecomment-21941890","issue_url":"https://api.github.com/repos/owncloud/core/issues/4270","id":21941890,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t14:54:23z","updated_at":"2013-08-01t14:54:23z","body":"> i tried to throw the exception directly in the encryption app, actually this is also what i would prefer. but than the exception will bet caught by the hook handler which prints it to the owncloud.log and let the sharing app continue.\r\n\r\nfrom a quick search i found: https://bugs.php.net/bug.php?id=25038 it looks like it was fixed and is exactly what you're experiencing."}]