[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10948205","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-10948205","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":10948205,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t10:41:25z","updated_at":"2012-12-03t10:41:25z","body":"summoning all involved devs .....\r\n@danimo @bartv2 @tomneedham \r\ncan you please have a look? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10948972","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-10948972","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":10948972,"user":{"login":"danimo","id":1315934,"avatar_url":"https://gravatar.com/avatar/9467db6bbeaac42484603e0788aec39d?d=https%3a%2f%2fidenticons.github.com%2f296ab09e5a31dcf357f4d4784453db99.png&r=x","gravatar_id":"9467db6bbeaac42484603e0788aec39d","url":"https://api.github.com/users/danimo","html_url":"https://github.com/danimo","followers_url":"https://api.github.com/users/danimo/followers","following_url":"https://api.github.com/users/danimo/following{/other_user}","gists_url":"https://api.github.com/users/danimo/gists{/gist_id}","starred_url":"https://api.github.com/users/danimo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danimo/subscriptions","organizations_url":"https://api.github.com/users/danimo/orgs","repos_url":"https://api.github.com/users/danimo/repos","events_url":"https://api.github.com/users/danimo/events{/privacy}","received_events_url":"https://api.github.com/users/danimo/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t11:10:06z","updated_at":"2012-12-03t11:31:39z","body":"notepad saves its files in ansi encoding. it can alternatively also save as unicode (utf16le, utf16be, and utf8). detecting utf16 is (usually) easy: check for the byte order mark (bom). unfortunately, not all utf16 documents have boms. utf-8 usually has no bom, but can. see http://en.wikipedia.org/wiki/byte_order_mark for details.\r\n\r\nfor the rest: there is no good way to know if a text file is encoded in ansi, iso-8859-x or bom-less unicode.\r\n\r\nproposal: provide a drop-down box  to allow choosing the encoding, and pick the default based on sensible heuristics like the bom. probably there should also be a default encoding setting."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10961695","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-10961695","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":10961695,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t17:07:40z","updated_at":"2012-12-03t17:07:40z","body":"is it possible someone could send me a test file which causes this problem? the editor uses iconv to convert to utf8 before displaying the file, but it seems to fail to detect the correct encoding, or just fail at converting. \r\n\r\nif i can get a test file i'll see at what stage it fails and see about adding in an option to select the encoding."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10966311","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-10966311","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":10966311,"user":{"login":"yececiwk","id":2938046,"avatar_url":"https://gravatar.com/avatar/0eaabe2a8a6864808c26749b2f37d9db?d=https%3a%2f%2fidenticons.github.com%2f6cc7b0d50790778188a273c37386e6f5.png&r=x","gravatar_id":"0eaabe2a8a6864808c26749b2f37d9db","url":"https://api.github.com/users/yececiwk","html_url":"https://github.com/yececiwk","followers_url":"https://api.github.com/users/yececiwk/followers","following_url":"https://api.github.com/users/yececiwk/following{/other_user}","gists_url":"https://api.github.com/users/yececiwk/gists{/gist_id}","starred_url":"https://api.github.com/users/yececiwk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yececiwk/subscriptions","organizations_url":"https://api.github.com/users/yececiwk/orgs","repos_url":"https://api.github.com/users/yececiwk/repos","events_url":"https://api.github.com/users/yececiwk/events{/privacy}","received_events_url":"https://api.github.com/users/yececiwk/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t19:02:37z","updated_at":"2013-01-18t11:24:51z","body":"hi, please find attached a file created with notepad. in the inline\r\neditor of owncloud, only the text up to the first \"umlaut\" is displayed.\r\n\r\nbye\r\nstefan hammes\r\nkarlsruhe, germany\r\n\r\nam 03.12.2012 18:07, schrieb tomneedham:\r\n>\r\n> is it possible someone could send me a test file which causes this\r\n> problem? the editor uses iconv to convert to utf8 before displaying\r\n> the file, but it seems to fail to detect the correct encoding, or just\r\n> fail at converting.\r\n>\r\n> if i can get a test file i'll see at what stage it fails and see about\r\n> adding in an option to select the encoding.\r\n>\r\n> ã¢â‚¬â€?\r\n> reply to this email directly or view it on github\r\n> <https://github.com/owncloud/core/issues/666#issuecomment-10961695>.\r\n>\r\nmo | 10. dez. 2012 \t\r\nkammerkonzert\r\n \r\n\r\nschloss gottesaue\r\nvelte-saal\r\n19.30 uhr\r\n\r\n\t  \t\r\n\r\npreis des deutschen akademischen austauschdiensts (daad)\r\nklavierkonzert\r\n\r\ndie daad-preistrã¤gerinnen stellen sich vor.\r\nregina chernychko (preistrã¤gerin) und gryta tatoryte (fã¶rderpreis), klavier\r\neintritt: 5 â‚¬ / erm. 2,50 â‚¬"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11040817","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-11040817","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":11040817,"user":{"login":"tomneedham","id":660805,"avatar_url":"https://gravatar.com/avatar/98a42832b8f4832b1c784ffa7f352fda?d=https%3a%2f%2fidenticons.github.com%2ffe1b32abfb874b40ff22b83626d58073.png&r=x","gravatar_id":"98a42832b8f4832b1c784ffa7f352fda","url":"https://api.github.com/users/tomneedham","html_url":"https://github.com/tomneedham","followers_url":"https://api.github.com/users/tomneedham/followers","following_url":"https://api.github.com/users/tomneedham/following{/other_user}","gists_url":"https://api.github.com/users/tomneedham/gists{/gist_id}","starred_url":"https://api.github.com/users/tomneedham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomneedham/subscriptions","organizations_url":"https://api.github.com/users/tomneedham/orgs","repos_url":"https://api.github.com/users/tomneedham/repos","events_url":"https://api.github.com/users/tomneedham/events{/privacy}","received_events_url":"https://api.github.com/users/tomneedham/received_events","type":"user","site_admin":false},"created_at":"2012-12-05t13:15:16z","updated_at":"2012-12-05t13:15:16z","body":"is it possible to upload the file somewhere? github merges in the attachments when you reply via email."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12418026","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-12418026","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":12418026,"user":{"login":"yececiwk","id":2938046,"avatar_url":"https://gravatar.com/avatar/0eaabe2a8a6864808c26749b2f37d9db?d=https%3a%2f%2fidenticons.github.com%2f6cc7b0d50790778188a273c37386e6f5.png&r=x","gravatar_id":"0eaabe2a8a6864808c26749b2f37d9db","url":"https://api.github.com/users/yececiwk","html_url":"https://github.com/yececiwk","followers_url":"https://api.github.com/users/yececiwk/followers","following_url":"https://api.github.com/users/yececiwk/following{/other_user}","gists_url":"https://api.github.com/users/yececiwk/gists{/gist_id}","starred_url":"https://api.github.com/users/yececiwk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yececiwk/subscriptions","organizations_url":"https://api.github.com/users/yececiwk/orgs","repos_url":"https://api.github.com/users/yececiwk/repos","events_url":"https://api.github.com/users/yececiwk/events{/privacy}","received_events_url":"https://api.github.com/users/yececiwk/received_events","type":"user","site_admin":false},"created_at":"2013-01-18t11:23:47z","updated_at":"2013-01-18t11:40:05z","body":"i fixed the bug. i have sent a pull request to the author.\r\n\r\ni have checked the bug fix with files of:\r\n\r\nansi / iso-8859-1\r\nutf-8 with bom\r\nutf-8 without bom\r\n\r\nand it worked fine also in owncloud 4.5.5\r\n\r\nbest wishes from germany\r\nstefan hammes\r\n\r\nproblem with the editor was, that it did not correctly display non-utf-files\r\n\r\nreason:\r\nthe php function mb_detect_encoding has a bug with utf-8 without bom\r\n\r\nfix:\r\nuse the function detectutf8 below from chris at w3style.co dot uk:\r\nhttp://de2.php.net/manual/de/function.mb-detect-encoding.php#68607\r\n\r\ni checked many detection functions, but only this one works\r\n\r\nfunction detectutf8($string)\r\n{\r\n        return preg_match('%(?:\r\n        [\\xc2-\\xdf][\\x80-\\xbf]        # non-overlong 2-byte\r\n        |\\xe0[\\xa0-\\xbf][\\x80-\\xbf]               # excluding overlongs\r\n        |[\\xe1-\\xec\\xee\\xef][\\x80-\\xbf]{2}      # straight 3-byte\r\n        |\\xed[\\x80-\\x9f][\\x80-\\xbf]               # excluding surrogates\r\n        |\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2}    # planes 1-3\r\n        |[\\xf1-\\xf3][\\x80-\\xbf]{3}                  # planes 4-15\r\n        |\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2}    # plane 16\r\n        )+%xs', $string);\r\n}\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13329024","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-13329024","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":13329024,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-02-09t10:13:09z","updated_at":"2013-02-09t10:13:09z","body":"@deepdiver1975 you are working on that, right? :-) "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22102432","html_url":"https://github.com/owncloud/core/issues/666#issuecomment-22102432","issue_url":"https://api.github.com/repos/owncloud/core/issues/666","id":22102432,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-08-05t12:19:06z","updated_at":"2013-08-05t12:19:06z","body":"iâ€™m closing this bug because it has been inactive for a few months. this probably means itâ€™s not reproducible or it has been fixed.\r\n\r\nplease reopen if the error still persists with owncloud 5.0.9 (the latest stable version) and then please use the [issue template](https://raw.github.com/owncloud/core/master/issue_template.md). you an also contribute directly by providing a patch â€“ see the [developer manual](http://doc.owncloud.org/server/5.0/developer_manual/). :)\r\n\r\nthank you!"}]