[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17778005","html_url":"https://github.com/owncloud/core/pull/3318#issuecomment-17778005","issue_url":"https://api.github.com/repos/owncloud/core/issues/3318","id":17778005,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-05-12t13:34:17z","updated_at":"2013-05-12t13:34:17z","body":"@infoneo you are spamming the developers here with constantly opening and closing pull requests. is there something where you need help from someone? "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17778075","html_url":"https://github.com/owncloud/core/pull/3318#issuecomment-17778075","issue_url":"https://api.github.com/repos/owncloud/core/issues/3318","id":17778075,"user":{"login":"infoneo","id":4140590,"avatar_url":"https://gravatar.com/avatar/bc0a26326f8748680a48ed4ccc64a15b?d=https%3a%2f%2fidenticons.github.com%2ffbb06d5e5e769ae263f1c887fd5eadff.png&r=x","gravatar_id":"bc0a26326f8748680a48ed4ccc64a15b","url":"https://api.github.com/users/infoneo","html_url":"https://github.com/infoneo","followers_url":"https://api.github.com/users/infoneo/followers","following_url":"https://api.github.com/users/infoneo/following{/other_user}","gists_url":"https://api.github.com/users/infoneo/gists{/gist_id}","starred_url":"https://api.github.com/users/infoneo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/infoneo/subscriptions","organizations_url":"https://api.github.com/users/infoneo/orgs","repos_url":"https://api.github.com/users/infoneo/repos","events_url":"https://api.github.com/users/infoneo/events{/privacy}","received_events_url":"https://api.github.com/users/infoneo/received_events","type":"user","site_admin":false},"created_at":"2013-05-12t13:40:23z","updated_at":"2013-05-12t13:40:23z","body":"sorry, i have a problem with merging.\r\n\r\ntest\\files\\mapper::testslugifypath\r\nfailed asserting that two strings are equal.\r\n--- expected\r\n+++ actual\r\n@@ @@\r\n-'d:/text-text.txt'\r\n+'d:/text.text.txt'\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17778103","html_url":"https://github.com/owncloud/core/pull/3318#issuecomment-17778103","issue_url":"https://api.github.com/repos/owncloud/core/issues/3318","id":17778103,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-12t13:42:38z","updated_at":"2013-05-12t13:42:38z","body":"@infoneo run the tests locally instead of opening new pull requests."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17779097","html_url":"https://github.com/owncloud/core/pull/3318#issuecomment-17779097","issue_url":"https://api.github.com/repos/owncloud/core/issues/3318","id":17779097,"user":{"login":"infoneo","id":4140590,"avatar_url":"https://gravatar.com/avatar/bc0a26326f8748680a48ed4ccc64a15b?d=https%3a%2f%2fidenticons.github.com%2ffbb06d5e5e769ae263f1c887fd5eadff.png&r=x","gravatar_id":"bc0a26326f8748680a48ed4ccc64a15b","url":"https://api.github.com/users/infoneo","html_url":"https://github.com/infoneo","followers_url":"https://api.github.com/users/infoneo/followers","following_url":"https://api.github.com/users/infoneo/following{/other_user}","gists_url":"https://api.github.com/users/infoneo/gists{/gist_id}","starred_url":"https://api.github.com/users/infoneo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/infoneo/subscriptions","organizations_url":"https://api.github.com/users/infoneo/orgs","repos_url":"https://api.github.com/users/infoneo/repos","events_url":"https://api.github.com/users/infoneo/events{/privacy}","received_events_url":"https://api.github.com/users/infoneo/received_events","type":"user","site_admin":false},"created_at":"2013-05-12t14:52:18z","updated_at":"2013-05-12t14:52:18z","body":"please consider changing of general slugify rules (core / tests / lib / files / mapper.php). slugify function is executed just on strings (without folder/file recognition).\r\n\r\nfor example:\r\n\r\n$this->assertequals('d:/a/b/text-text.txt', $this->mapper->slugifypath('d:/a/b/text.text.txt'));\r\n\r\nit looks ok when text.text.txt is a file, but not ok when it is a folder. real folders path on the disk is \"d:/a/b/text-text.txt\", but when you try to create something inside it, lik \"d:/a/b/text-text.txt/something.txt\" the path is sligufied again results is of \"d:/a/b/text-text_txt/something.txt\" so on windows something.txt can't be created because parent folder (\"d:/a/b/text-text_txt\") hasn't been created before.\r\n\r\nmy proposal is (like in my pull request #3318) is to allow dots in the real paths in general, except parts of paths (foldernames or filenames) with ends with a dosts:\r\n\r\n$text = preg_replace('~.+$~', '', $text);\r\n\r\nit will prevent creation of \"..\", \".\", \"filename..\", \"filename.\", filename...\" etc.\r\n\r\nbefore operations on the file with an extension i've added condition of checking wheather filename and extension are not empty. because usually names \".something\" or \"..something\" are names of folders not files with empty filename with the extension like \"something\"."}]