[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14569771","html_url":"https://github.com/owncloud/core/issues/2170#issuecomment-14569771","issue_url":"https://api.github.com/repos/owncloud/core/issues/2170","id":14569771,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-07t16:15:32z","updated_at":"2013-03-07t16:15:32z","body":"@icewind1991 i'm suspecting the file id is changing during the rename. why is this happening?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15455849","html_url":"https://github.com/owncloud/core/issues/2170#issuecomment-15455849","issue_url":"https://api.github.com/repos/owncloud/core/issues/2170","id":15455849,"user":{"login":"rperezb","id":1846927,"avatar_url":"https://gravatar.com/avatar/b4ad2bf83a0aabe434d87d674a6a01c0?d=https%3a%2f%2fidenticons.github.com%2f726ebac89cf4616e7506f7abfd8bc43d.png&r=x","gravatar_id":"b4ad2bf83a0aabe434d87d674a6a01c0","url":"https://api.github.com/users/rperezb","html_url":"https://github.com/rperezb","followers_url":"https://api.github.com/users/rperezb/followers","following_url":"https://api.github.com/users/rperezb/following{/other_user}","gists_url":"https://api.github.com/users/rperezb/gists{/gist_id}","starred_url":"https://api.github.com/users/rperezb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rperezb/subscriptions","organizations_url":"https://api.github.com/users/rperezb/orgs","repos_url":"https://api.github.com/users/rperezb/repos","events_url":"https://api.github.com/users/rperezb/events{/privacy}","received_events_url":"https://api.github.com/users/rperezb/received_events","type":"user","site_admin":false},"created_at":"2013-03-26t12:46:51z","updated_at":"2013-03-26t12:46:51z","body":"it does not work.\r\n\r\nchecked on:\r\n### server configuration \r\nversion\":\"4.97.10\",\"versionstring\":\"5.0 rc 3\r\nopen suse 12.2\r\n\r\n### logs\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\nwarning\tphp\tfilemtime(): stat failed for /srv/www/htdocs/owncloud/data/user1/files/ã¼ser& at /srv/www/htdocs/owncloud/lib/files/storage/local.php#92\tmarch 26, 2013 13:43\r\n```\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16027742","html_url":"https://github.com/owncloud/core/issues/2170#issuecomment-16027742","issue_url":"https://api.github.com/repos/owncloud/core/issues/2170","id":16027742,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-04-08t00:30:26z","updated_at":"2013-04-08t00:32:12z","body":"@icewind1991 i was able to track down the problem. \r\n\r\nthe file updater listens to the rename hook and correctly renames the file to the new name without changing the id. the shared updater also listens to the rename hook and it calls getfileinfo on the new path as well as the old path's folder to get the file id. this causes the cleanfolder to be called in the file watcher which removes the renamed row from the file cache and then the file gets scanned again. i'm not sure how to fix this.\r\n\r\nby the way, all files are getting rescanned in the folder that a file is renamed in. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16573687","html_url":"https://github.com/owncloud/core/issues/2170#issuecomment-16573687","issue_url":"https://api.github.com/repos/owncloud/core/issues/2170","id":16573687,"user":{"login":"rperezb","id":1846927,"avatar_url":"https://gravatar.com/avatar/b4ad2bf83a0aabe434d87d674a6a01c0?d=https%3a%2f%2fidenticons.github.com%2f726ebac89cf4616e7506f7abfd8bc43d.png&r=x","gravatar_id":"b4ad2bf83a0aabe434d87d674a6a01c0","url":"https://api.github.com/users/rperezb","html_url":"https://github.com/rperezb","followers_url":"https://api.github.com/users/rperezb/followers","following_url":"https://api.github.com/users/rperezb/following{/other_user}","gists_url":"https://api.github.com/users/rperezb/gists{/gist_id}","starred_url":"https://api.github.com/users/rperezb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rperezb/subscriptions","organizations_url":"https://api.github.com/users/rperezb/orgs","repos_url":"https://api.github.com/users/rperezb/repos","events_url":"https://api.github.com/users/rperezb/events{/privacy}","received_events_url":"https://api.github.com/users/rperezb/received_events","type":"user","site_admin":false},"created_at":"2013-04-18t12:33:18z","updated_at":"2013-04-18t12:33:18z","body":"fixed, checked with \"version\":\"5.0.6\",\"versionstring\":\"5.0.5 rc1\"\r\n\r\nbrowsers:\r\n\r\n- firefox\r\n- chrome\r\n- ie9"}]