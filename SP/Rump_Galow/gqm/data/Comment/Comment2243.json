[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14761276","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14761276","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14761276,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t06:58:37z","updated_at":"2013-03-12t06:58:37z","body":"@mtgap @schiesbn "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14766697","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14766697","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14766697,"user":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t09:52:46z","updated_at":"2013-03-12t09:52:46z","body":":+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14768564","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14768564","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14768564,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t10:44:34z","updated_at":"2013-03-12t10:52:55z","body":"i would be careful here. @tanghus does this changes fix a actual bug? if not i would vote for keep it as it is. never change something which is not broken.\r\n\r\nit seems like @mtgap added this by purpose: https://github.com/owncloud/core/commit/316eef3ded233c53ccb1f40aa339372ed9c644d9 therefore i would at least wait until he commented on this issue.\r\n\r\ni remember that a few weeks ago i tracked  a bug/behaviour which leads me to this if-statement which took care that at the end the result was correct. i would be really careful here.\r\n\r\nbtw:\r\n\r\n>for collections which are not folders it boiled down to: if(!true||true). a condition it's had to argue against ;) \r\n\r\nthis means that for collections which are not a folder the current if statement would evaluate to true and after your changes to false. why do we want to change it? what bug gets fixed by the change?\r\n\r\nfor now and until @mtgap commented on it: :-1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14769256","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14769256","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14769256,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t11:03:49z","updated_at":"2013-03-12t11:03:49z","body":"of course @mtgap should have his say, i can only assume there was a reason for it. to me the logic just looks wrong, and was effectively stopping listing of non-folder collections. so i wanted to point attention to it.\r\n\r\nit only leads a quarter of the way to fixing a bug, which i actually think is unfixable in the current implementation.\r\n\r\ni'm currently splitting up the contacts backend into addressbook backends. for now just of type datebase and shared. for the shared backend i wanted to utilize the getchildren() method which is implemented by collections using:\r\n\r\n```\r\n$addressbook = \\ocp\\share::getitemsharedwithbysource(\r\n\t'addressbook',\r\n\t$addressbookid,\r\n\tcontacts\\share_backend_addressbook::format_addressbooks,\r\n\tnull, // parameters\r\n\ttrue // includecollection\r\n);\r\n```\r\nbut since getitems() is hardcoded to using current user, it's impossible to list a collection that you don't own. admirable from a security perspective, but not very useful in the backend.\r\ni can easily work around it by querying the db directly (using the database backend), but that kinda defeats the purpose imho."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14785486","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14785486","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14785486,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t16:20:54z","updated_at":"2013-03-12t16:20:54z","body":"@tanghus you approved it: https://github.com/owncloud/core/pull/1234/files\r\n\r\nread the comment, we want to unset the collection because most collections are not collections of themselves. folders can be inside folders...\r\n\r\ni'm planning on moving some of the code out into their own classes so it is a little easier to understand the process of sharing. i'll also be making the fetching of items more customizable."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14792929","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14792929","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14792929,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t18:12:23z","updated_at":"2013-03-12t18:12:23z","body":"@mtgap so i did in a i-have-no-idea-how-sharing-works-but-if-it-fixes-a-bug-it-must-be-ok way - i didn't recognize it ;)\r\n\r\n> i'm planning on moving some of the code out into their own classes\r\n\r\nthat would be **really** great. the 350 loc getitems() is not the easiest to understand - or debug for that matter.\r\n\r\nbut am i right in my assumption that it's impossible to list a collection that you don't own?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14793169","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14793169","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14793169,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t18:15:48z","updated_at":"2013-03-12t18:15:48z","body":"no, you should be able to get the children of a collection shared with you. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14793448","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14793448","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14793448,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t18:20:07z","updated_at":"2013-03-12t18:20:07z","body":"i know, but that wasn't my question ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14793499","html_url":"https://github.com/owncloud/core/pull/2243#issuecomment-14793499","issue_url":"https://api.github.com/repos/owncloud/core/issues/2243","id":14793499,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-03-12t18:20:59z","updated_at":"2013-03-12t18:20:59z","body":"ah sorry, misread your answer :-p\r\n\r\ni'm guessing you know my next question by now? ;)"}]