[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15002658","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15002658","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15002658,"user":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t10:27:02z","updated_at":"2013-03-16t10:27:02z","body":"@icewind1991 maybe?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15003185","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15003185","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15003185,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t11:19:30z","updated_at":"2013-03-16t11:19:30z","body":"it's very fast for me. this sounds like a timeout issue somehow. can you check if this apache process as allowed to access the internet? or can it reach itself via http? can you please check if you have a firewall running or other network restrictions? does this also happen with a new installed owncloud 5 or do you have 3rd party apps installed or do you have some special configuration?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15004765","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15004765","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15004765,"user":{"login":"flemaitr","id":3882276,"avatar_url":"https://gravatar.com/avatar/4ddcc701d9176359f059d3df64d9cebb?d=https%3a%2f%2fidenticons.github.com%2f74ede93aa511b5a4e5abc39fcaff6ec6.png&r=x","gravatar_id":"4ddcc701d9176359f059d3df64d9cebb","url":"https://api.github.com/users/flemaitr","html_url":"https://github.com/flemaitr","followers_url":"https://api.github.com/users/flemaitr/followers","following_url":"https://api.github.com/users/flemaitr/following{/other_user}","gists_url":"https://api.github.com/users/flemaitr/gists{/gist_id}","starred_url":"https://api.github.com/users/flemaitr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flemaitr/subscriptions","organizations_url":"https://api.github.com/users/flemaitr/orgs","repos_url":"https://api.github.com/users/flemaitr/repos","events_url":"https://api.github.com/users/flemaitr/events{/privacy}","received_events_url":"https://api.github.com/users/flemaitr/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t13:24:51z","updated_at":"2013-03-16t13:24:51z","body":"i read this: http://konrness.com/php5/how-to-prevent-blocking-php-requests/ and checked with xdebug that the session_start function was indeed taking way too long (something like 2s on average)\r\n\r\nso i simply added session_write_close(); at the end of  the function initsession() in base.php, and this solved the problem. i hope this does not break anything, so far it works much faster. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15006957","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15006957","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15006957,"user":{"login":"timmeey","id":1174542,"avatar_url":"https://gravatar.com/avatar/49f624722584a5153175a50070e4a5df?d=https%3a%2f%2fidenticons.github.com%2fe3d2bfed638714e81e2ff99941f0823b.png&r=x","gravatar_id":"49f624722584a5153175a50070e4a5df","url":"https://api.github.com/users/timmeey","html_url":"https://github.com/timmeey","followers_url":"https://api.github.com/users/timmeey/followers","following_url":"https://api.github.com/users/timmeey/following{/other_user}","gists_url":"https://api.github.com/users/timmeey/gists{/gist_id}","starred_url":"https://api.github.com/users/timmeey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timmeey/subscriptions","organizations_url":"https://api.github.com/users/timmeey/orgs","repos_url":"https://api.github.com/users/timmeey/repos","events_url":"https://api.github.com/users/timmeey/events{/privacy}","received_events_url":"https://api.github.com/users/timmeey/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t15:51:26z","updated_at":"2013-03-16t15:51:26z","body":"@flemaitr this is not a good idea.\r\n\r\nif you close the session by session_write_close(), you are not able to log-in/out anymore. if you are logged in everything works fine, but try to logout, it won't work. same with login. once logged out, you won't be able to login.\r\n\r\njust tried this at my 2 fresh oc5 installations."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15013651","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15013651","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15013651,"user":{"login":"flemaitr","id":3882276,"avatar_url":"https://gravatar.com/avatar/4ddcc701d9176359f059d3df64d9cebb?d=https%3a%2f%2fidenticons.github.com%2f74ede93aa511b5a4e5abc39fcaff6ec6.png&r=x","gravatar_id":"4ddcc701d9176359f059d3df64d9cebb","url":"https://api.github.com/users/flemaitr","html_url":"https://github.com/flemaitr","followers_url":"https://api.github.com/users/flemaitr/followers","following_url":"https://api.github.com/users/flemaitr/following{/other_user}","gists_url":"https://api.github.com/users/flemaitr/gists{/gist_id}","starred_url":"https://api.github.com/users/flemaitr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flemaitr/subscriptions","organizations_url":"https://api.github.com/users/flemaitr/orgs","repos_url":"https://api.github.com/users/flemaitr/repos","events_url":"https://api.github.com/users/flemaitr/events{/privacy}","received_events_url":"https://api.github.com/users/flemaitr/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t22:49:08z","updated_at":"2013-03-16t22:49:08z","body":"indeed this was a bad idea. i have much better performances when the owncloud client (1.2.1) is off; by the way the client runs more slowly than with 4.5.7. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15014397","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15014397","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15014397,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-03-16t23:51:04z","updated_at":"2013-03-16t23:51:04z","body":"can you try applying #2387 and #2386"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15019122","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15019122","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15019122,"user":{"login":"flemaitr","id":3882276,"avatar_url":"https://gravatar.com/avatar/4ddcc701d9176359f059d3df64d9cebb?d=https%3a%2f%2fidenticons.github.com%2f74ede93aa511b5a4e5abc39fcaff6ec6.png&r=x","gravatar_id":"4ddcc701d9176359f059d3df64d9cebb","url":"https://api.github.com/users/flemaitr","html_url":"https://github.com/flemaitr","followers_url":"https://api.github.com/users/flemaitr/followers","following_url":"https://api.github.com/users/flemaitr/following{/other_user}","gists_url":"https://api.github.com/users/flemaitr/gists{/gist_id}","starred_url":"https://api.github.com/users/flemaitr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flemaitr/subscriptions","organizations_url":"https://api.github.com/users/flemaitr/orgs","repos_url":"https://api.github.com/users/flemaitr/repos","events_url":"https://api.github.com/users/flemaitr/events{/privacy}","received_events_url":"https://api.github.com/users/flemaitr/received_events","type":"user","site_admin":false},"created_at":"2013-03-17t08:16:37z","updated_at":"2013-03-17t11:14:04z","body":"i havent tried the patches yet; i think i found a simple way to make my previous hack work: afaik when you have a session_start(); after a session_write_close(); , php just sets the variables in $_session to be writable again in the filesystem (cf. the first user post on http://php.net/manual/en/function.session-start.php). so you have to edit base.php and do the following\r\n\r\n1. add \"session_write_close();\" at the end of the function initsession();\r\n2. after the line \"if (isset($_get['logout']) and ($_get['logout']))\", add \"session_start();\"\r\n3. after the comment line \"// not handled and not logged in\", add \"session_start();\"\r\n\r\nthis sped everything up for me, and now i can login/logout, and sync is not broken.\r\n\r\nedit: i could not upload files or change settings, so the following had to be added in the function callregister, in util.php:\r\n\r\n1. add \"session_start();\" after the line \"// no valid token found, generate a new one\"\r\n2. add \"session_write_close();\" after \"$_session['requesttoken']=$requesttoken;\"\r\n\r\nnow everything seems fine (fingers crossed!)\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15022330","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-15022330","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":15022330,"user":{"login":"timmeey","id":1174542,"avatar_url":"https://gravatar.com/avatar/49f624722584a5153175a50070e4a5df?d=https%3a%2f%2fidenticons.github.com%2fe3d2bfed638714e81e2ff99941f0823b.png&r=x","gravatar_id":"49f624722584a5153175a50070e4a5df","url":"https://api.github.com/users/timmeey","html_url":"https://github.com/timmeey","followers_url":"https://api.github.com/users/timmeey/followers","following_url":"https://api.github.com/users/timmeey/following{/other_user}","gists_url":"https://api.github.com/users/timmeey/gists{/gist_id}","starred_url":"https://api.github.com/users/timmeey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timmeey/subscriptions","organizations_url":"https://api.github.com/users/timmeey/orgs","repos_url":"https://api.github.com/users/timmeey/repos","events_url":"https://api.github.com/users/timmeey/events{/privacy}","received_events_url":"https://api.github.com/users/timmeey/received_events","type":"user","site_admin":false},"created_at":"2013-03-17t13:03:24z","updated_at":"2013-03-17t13:03:24z","body":"@flemaitr \r\nthis seems to me like you try to figure out every function where a session_start(); is needed. this seems like the wrong way, because you will find a new function where it is needed every now an then.\r\n\r\ni think it would be better to close/do not open- a session where you know it is not needed. (maintain a switch-case list in initsession() function, when not to call session_start() )\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22217615","html_url":"https://github.com/owncloud/core/issues/2372#issuecomment-22217615","issue_url":"https://api.github.com/repos/owncloud/core/issues/2372","id":22217615,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-08-06t22:43:55z","updated_at":"2013-08-06t22:43:55z","body":"i’m closing this issue because it has been inactive for a few months. this probably means it’s not reproducible, or it’s not a priority enough so that someone works on it, or it has been fixed in a newer version.\r\n\r\nplease reopen if the error still persists with the [latest stable version](http://owncloud.org/install/) (currently owncloud 5.0.9) and then please use the [issue template](https://raw.github.com/owncloud/core/master/issue_template.md). you an also contribute directly by providing a patch – see the [developer manual](http://doc.owncloud.org/server/5.0/developer_manual/). :)\r\n\r\nthank you!"}]