[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21634653","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-21634653","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":21634653,"user":{"login":"binxboll","id":5064916,"avatar_url":"https://gravatar.com/avatar/1c2b6fe37ed500f4b72c105e42e81ba9?d=https%3a%2f%2fidenticons.github.com%2ff3d8105a4cc6d8e0e702c7981d925bc4.png&r=x","gravatar_id":"1c2b6fe37ed500f4b72c105e42e81ba9","url":"https://api.github.com/users/binxboll","html_url":"https://github.com/binxboll","followers_url":"https://api.github.com/users/binxboll/followers","following_url":"https://api.github.com/users/binxboll/following{/other_user}","gists_url":"https://api.github.com/users/binxboll/gists{/gist_id}","starred_url":"https://api.github.com/users/binxboll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binxboll/subscriptions","organizations_url":"https://api.github.com/users/binxboll/orgs","repos_url":"https://api.github.com/users/binxboll/repos","events_url":"https://api.github.com/users/binxboll/events{/privacy}","received_events_url":"https://api.github.com/users/binxboll/received_events","type":"user","site_admin":false},"created_at":"2013-07-26t17:12:04z","updated_at":"2013-07-26t17:12:04z","body":"so even after detaching my dropbox from oc, and then reattaching it, i still do not see any changes to files in the org subfolder. i am guessing that this might be caused by problems with oc metadata caching or external file locking. perhaps oc was left in a bad state after a crash. how can i go about diagnosing where the problem is?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21739750","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-21739750","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":21739750,"user":{"login":"binxboll","id":5064916,"avatar_url":"https://gravatar.com/avatar/1c2b6fe37ed500f4b72c105e42e81ba9?d=https%3a%2f%2fidenticons.github.com%2ff3d8105a4cc6d8e0e702c7981d925bc4.png&r=x","gravatar_id":"1c2b6fe37ed500f4b72c105e42e81ba9","url":"https://api.github.com/users/binxboll","html_url":"https://github.com/binxboll","followers_url":"https://api.github.com/users/binxboll/followers","following_url":"https://api.github.com/users/binxboll/following{/other_user}","gists_url":"https://api.github.com/users/binxboll/gists{/gist_id}","starred_url":"https://api.github.com/users/binxboll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binxboll/subscriptions","organizations_url":"https://api.github.com/users/binxboll/orgs","repos_url":"https://api.github.com/users/binxboll/repos","events_url":"https://api.github.com/users/binxboll/events{/privacy}","received_events_url":"https://api.github.com/users/binxboll/received_events","type":"user","site_admin":false},"created_at":"2013-07-29t18:16:37z","updated_at":"2013-07-29t18:16:37z","body":"there are some logged warnings that look like this: \r\n\r\n    undefined variable: contents at /var/lib/openshift/blah/app-root/runtime/repo/php/apps/files_external/lib/dropbox.php#76\r\n\r\nthis is occurring in dropbox.php in the getmetadata function. if anyone can help me further debug the problem, i would be grateful. @mtgap "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28782862","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-28782862","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":28782862,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-19t11:29:48z","updated_at":"2013-11-19t11:29:48z","body":"still happens in oc 6 beta 4"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29277684","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-29277684","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":29277684,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t09:22:50z","updated_at":"2013-11-26t09:22:50z","body":"it looks like dropbox doesn't update its directories' mtime when the directory content changed, which makes it hard to detect when rescanning is needed. might need a workaround."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29278050","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-29278050","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":29278050,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t09:29:13z","updated_at":"2013-11-26t09:29:13z","body":"it looks like it's possible to detect changes if we store the \"hash\" value from the metadata. when calling hasupdate(), we'd need to pass that hash to the call. if dropbox returns 304, it means there was no changes.\r\nsee https://www.dropbox.com/developers/core/docs#metadata\r\n\r\nthe trouble here is where to store that hash.\r\n\r\nany idea @icewind1991 @deepdiver1975 ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29278128","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-29278128","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":29278128,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t09:30:44z","updated_at":"2013-11-26t09:30:44z","body":"how about adding a new column \"extstorage_hash\" in the oc_filecache ? but that would be specific to dropbox.\r\nnot sure, but if other ext storages also provide such hashses it could be reused."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29285570","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-29285570","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":29285570,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t11:38:23z","updated_at":"2013-11-26t11:38:23z","body":"we can overwrite the `getetag` for dropbox to return the \"hash\" value which we can then use for `hasupdated` and gives us a free *correct* etag"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29311579","html_url":"https://github.com/owncloud/core/issues/4153#issuecomment-29311579","issue_url":"https://api.github.com/repos/owncloud/core/issues/4153","id":29311579,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t17:14:27z","updated_at":"2013-11-26t17:14:27z","body":"started working on a pr: https://github.com/owncloud/core/pull/6069"}]