[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30363435","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30363435","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30363435,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-12-11t20:59:39z","updated_at":"2013-12-11t20:59:39z","body":"@schiesbn @pvince81 any idea?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30401526","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30401526","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30401526,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t09:34:37z","updated_at":"2013-12-12t09:35:19z","body":"does this only happen for some files/folders or for all files/folders of the given user? also create/upload a new file and try to open the dialog.\r\n\r\ndo you see anything in your owncloud.log or apache error log if you try to open the share dialog? looking at the code i don't see how data.reshare can be undefined."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30412803","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30412803","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30412803,"user":{"login":"davidstaron","id":1530401,"avatar_url":"https://gravatar.com/avatar/e2da5105fdbc518f1fbbe77e19eb5bb9?d=https%3a%2f%2fidenticons.github.com%2f776ee308467338c7b2a514f877a90d6a.png&r=x","gravatar_id":"e2da5105fdbc518f1fbbe77e19eb5bb9","url":"https://api.github.com/users/davidstaron","html_url":"https://github.com/davidstaron","followers_url":"https://api.github.com/users/davidstaron/followers","following_url":"https://api.github.com/users/davidstaron/following{/other_user}","gists_url":"https://api.github.com/users/davidstaron/gists{/gist_id}","starred_url":"https://api.github.com/users/davidstaron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidstaron/subscriptions","organizations_url":"https://api.github.com/users/davidstaron/orgs","repos_url":"https://api.github.com/users/davidstaron/repos","events_url":"https://api.github.com/users/davidstaron/events{/privacy}","received_events_url":"https://api.github.com/users/davidstaron/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t11:55:49z","updated_at":"2013-12-12t11:57:49z","body":"it happens for all files and folders, and it also happens to new files and folders.\r\n\r\ni just did a diff on the owncloud folder and a freshly downloaded owncloud tar, and the only differences are:\r\n*   apps/search_lucene/appinfo/preupdate.php (which i created as described in the comments of bug 6313 to fix..)\r\n*   apps/shorty/*\r\n*   apps/shorty_tracking/*\r\n*   config/config.php\r\n\r\ni've deleted shorty, but the problem persists.\r\n\r\nthere are no errors in the apache log.\r\nthis are the errors in the owncloud log:\r\n\r\n```\r\n{\"app\":\"hook\",\"message\":\"error while running hook (\\\\oc\\\\files\\\\cache\\\\shared_updater::writehook): could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":3,\"time\":\"2013-12-11t19:35:22+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t19:35:30+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t19:39:57+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t19:41:44+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t19:41:49+00:00\"}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (\\\\oc\\\\files\\\\cache\\\\shared_updater::writehook): could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":3,\"time\":\"2013-12-11t19:42:25+00:00\"}\r\n{\"app\":\"hook\",\"message\":\"error while running hook (\\\\oc\\\\files\\\\cache\\\\shared_updater::writehook): could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":3,\"time\":\"2013-12-11t19:42:32+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t19:42:40+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t20:29:23+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t20:29:27+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t20:29:31+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-11t20:29:41+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:43+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:44+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:46+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:46+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:47+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:48+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:48+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-11t22:25:49+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t04:44:39+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t04:44:40+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t04:44:40+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t04:44:41+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:11+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:11+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:13+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:13+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:14+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:15+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:15+00:00\"}\r\n{\"app\":\"ocp\\\\share\",\"message\":\"sharing backend oca\\\\contacts\\\\share\\\\addressbook not registered, oca\\\\contacts\\\\share\\\\addressbook is already registered for addressbook\",\"level\":2,\"time\":\"2013-12-12t10:32:16+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t10:37:14+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t10:39:54+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t10:41:10+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t11:09:15+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t11:09:18+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t11:09:20+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t11:09:21+00:00\"}\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30414884","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30414884","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30414884,"user":{"login":"davidstaron","id":1530401,"avatar_url":"https://gravatar.com/avatar/e2da5105fdbc518f1fbbe77e19eb5bb9?d=https%3a%2f%2fidenticons.github.com%2f776ee308467338c7b2a514f877a90d6a.png&r=x","gravatar_id":"e2da5105fdbc518f1fbbe77e19eb5bb9","url":"https://api.github.com/users/davidstaron","html_url":"https://github.com/davidstaron","followers_url":"https://api.github.com/users/davidstaron/followers","following_url":"https://api.github.com/users/davidstaron/following{/other_user}","gists_url":"https://api.github.com/users/davidstaron/gists{/gist_id}","starred_url":"https://api.github.com/users/davidstaron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidstaron/subscriptions","organizations_url":"https://api.github.com/users/davidstaron/orgs","repos_url":"https://api.github.com/users/davidstaron/repos","events_url":"https://api.github.com/users/davidstaron/events{/privacy}","received_events_url":"https://api.github.com/users/davidstaron/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t12:13:20z","updated_at":"2013-12-12t12:13:20z","body":"to be more precise, i've deleted the log, and then click the 'share' button, and it indeed generates this error:\r\n\r\n```\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t12:11:37+00:00\"}\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30417227","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30417227","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30417227,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t12:38:44z","updated_at":"2013-12-12t12:38:44z","body":"seems to be a doctrine migration issue... who is our doctrine expert? @bartv2 @butonic any idea?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30417362","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30417362","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30417362,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t12:41:21z","updated_at":"2013-12-12t12:41:21z","body":"@davidstaron  if you don't mind losing the expire dates for your shares you could try to remove them in the database as a quick solution."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30417754","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30417754","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30417754,"user":{"login":"davidstaron","id":1530401,"avatar_url":"https://gravatar.com/avatar/e2da5105fdbc518f1fbbe77e19eb5bb9?d=https%3a%2f%2fidenticons.github.com%2f776ee308467338c7b2a514f877a90d6a.png&r=x","gravatar_id":"e2da5105fdbc518f1fbbe77e19eb5bb9","url":"https://api.github.com/users/davidstaron","html_url":"https://github.com/davidstaron","followers_url":"https://api.github.com/users/davidstaron/followers","following_url":"https://api.github.com/users/davidstaron/following{/other_user}","gists_url":"https://api.github.com/users/davidstaron/gists{/gist_id}","starred_url":"https://api.github.com/users/davidstaron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidstaron/subscriptions","organizations_url":"https://api.github.com/users/davidstaron/orgs","repos_url":"https://api.github.com/users/davidstaron/repos","events_url":"https://api.github.com/users/davidstaron/events{/privacy}","received_events_url":"https://api.github.com/users/davidstaron/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t12:48:06z","updated_at":"2013-12-12t12:48:06z","body":"okay, how? can you provide a query or something?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30418000","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30418000","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30418000,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t12:53:15z","updated_at":"2013-12-12t12:53:15z","body":"linking this here https://github.com/owncloud/core/issues/6330"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30418636","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30418636","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30418636,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t13:04:19z","updated_at":"2013-12-12t13:04:41z","body":"@davidstaron you could remove the expire date with ```update oc_share set expiration='';```\r\n\r\nbut maybe you want to make a backup from your owncloud.db first so that you can copy the expire dates back when the general issue is solved"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30419740","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30419740","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30419740,"user":{"login":"davidstaron","id":1530401,"avatar_url":"https://gravatar.com/avatar/e2da5105fdbc518f1fbbe77e19eb5bb9?d=https%3a%2f%2fidenticons.github.com%2f776ee308467338c7b2a514f877a90d6a.png&r=x","gravatar_id":"e2da5105fdbc518f1fbbe77e19eb5bb9","url":"https://api.github.com/users/davidstaron","html_url":"https://github.com/davidstaron","followers_url":"https://api.github.com/users/davidstaron/followers","following_url":"https://api.github.com/users/davidstaron/following{/other_user}","gists_url":"https://api.github.com/users/davidstaron/gists{/gist_id}","starred_url":"https://api.github.com/users/davidstaron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidstaron/subscriptions","organizations_url":"https://api.github.com/users/davidstaron/orgs","repos_url":"https://api.github.com/users/davidstaron/repos","events_url":"https://api.github.com/users/davidstaron/events{/privacy}","received_events_url":"https://api.github.com/users/davidstaron/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t13:23:16z","updated_at":"2013-12-12t13:23:16z","body":"@schiesbn alright, thanks for your assistance that fixed the problem :+1:"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30441546","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30441546","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30441546,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t17:11:10z","updated_at":"2013-12-12t17:31:24z","body":"### steps to reproduce\r\n1. setup oc 5.0.13\r\n2. create a file\r\n3. share the file and set an expiration date (for ex: 2 days later)\r\n4. upgrade to oc 6.0.0\r\n5. try and open the \"share\" dialog for the file\r\n\r\n- [x] sqlite: :x: \r\n- [x] mysql: :white_check_mark: work\r\n- [x] postgresql: even though the migration fails (separate issue), i can see that the date in the \"oc_share\" table was migrated correctly :white_check_mark: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30443414","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30443414","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30443414,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t17:31:45z","updated_at":"2013-12-12t17:31:45z","body":"based on my above tests, this issue is specific to sqlite when having an expiration date in the db."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30443599","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30443599","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30443599,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t17:33:48z","updated_at":"2013-12-12t17:33:48z","body":"@pvince81 i assume mysql and postgres already store the seconds?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30443784","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30443784","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30443784,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t17:35:50z","updated_at":"2013-12-12t17:35:50z","body":"@butonic i see the seconds appearing as \"00:00:00\" in both mariadb (it wasn't mysql actually...) and postgresql"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30445207","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30445207","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30445207,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t17:51:58z","updated_at":"2013-12-12t17:53:08z","body":"debug log:\r\n```json\r\n{\"app\":\"index\",\"message\":\"exception: could not convert database value \\\"2013-12-31 00:00\\\" to doctrine type datetime. expected format: y-m-d h:i:s\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 0 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/3rdparty\\/doctrine\\/dbal\\/lib\\/doctrine\\/dbal\\/types\\/datetimetype.php(55): doctrine\\\\dbal\\\\types\\\\conversionexception::conversionfailedformat('2013-12-31 00:0...', 'datetime', 'y-m-d h:i:s')\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 1 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/lib\\/public\\/share.php(854): doctrine\\\\dbal\\\\types\\\\datetimetype->converttophpvalue('2013-12-31 00:0...', object(doctrine\\\\dbal\\\\platforms\\\\sqliteplatform))\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 2 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/lib\\/public\\/share.php(1243): ocp\\\\share::expireitem(array)\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 3 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/lib\\/public\\/share.php(417): ocp\\\\share::getitems('file', '3', null, null, 'admin', -1, null, -1, true)\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 4 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/core\\/ajax\\/share.php(257): ocp\\\\share::getitemshared('file', '3', -1, null, true)\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 5 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/lib\\/private\\/route.php(121) : runtime-created function(1): require_once('\\/home\\/jfd\\/repos...')\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 6 [internal function]: __lambda_func(array)\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 7 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/lib\\/private\\/router.php(127): call_user_func('?lambda_325', array)\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 8 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/lib\\/base.php(692): oc_router->match('\\/core\\/ajax\\/shar...')\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 9 \\/home\\/jfd\\/repositories\\/oc\\/core-stable6\\/index.php(30): oc::handlerequest()\\n\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n{\"app\":\"index\",\"message\":\"exception: 10 {main}\",\"level\":4,\"time\":\"2013-12-12t17:51:26+00:00\"}\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30445789","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30445789","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30445789,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t17:58:48z","updated_at":"2013-12-12t17:58:48z","body":"@pvince81 instead of passing the raw string we can pass in a datetime object at https://github.com/owncloud/core/blob/master/lib/public/share.php#l854\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30446499","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30446499","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30446499,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-12-12t18:08:06z","updated_at":"2013-12-12t18:08:06z","body":"the whole conversion to a datetime object via doctrine seems unneccessary because only sqlserver uses a different datetime format. the default assumed by doctrine is `y-m-d h:i:s` and sqlserver / sqlserver2008 uses `y-m-d h:i:s.000` / `y-m-d h:i:s.u`. phps datetime very well understands any of these formats. so why bother using doctrine and not write the whole thing as:\r\n```php\r\n\tprotected static function expireitem(array $item) {\r\n\t\tif (!empty($item['expiration'])) {\r\n\t\t\t$now = new \\datetime();\r\n\t\t\t$expires = new \\datetime($item['expiration']);\r\n\t\t\tif ($now > $expires) {\r\n\t\t\t\tself::unshareitem($item);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30518192","html_url":"https://github.com/owncloud/core/issues/6327#issuecomment-30518192","issue_url":"https://api.github.com/repos/owncloud/core/issues/6327","id":30518192,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-12-13t15:39:32z","updated_at":"2013-12-13t15:39:32z","body":"fix will be released with oc6.0.1"}]