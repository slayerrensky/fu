[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30679314","html_url":"https://github.com/owncloud/core/issues/6451#issuecomment-30679314","issue_url":"https://api.github.com/repos/owncloud/core/issues/6451","id":30679314,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-12-16t17:12:52z","updated_at":"2013-12-16t17:12:52z","body":"i've been thinking about this recently as well.\r\n\r\ndatabases have the bad habit that schema changes cannot be rolled back.\r\nand even if we add a hell of checks some errors might still slip through.\r\n\r\nwhat about removing the ability for apps to change the database?\r\n\r\nwe can provide a higher level storage api which will allow the app developers to store and retrieve data.\r\nonly the core will have it's own set of tables where the data will be stored.\r\n\r\ni'm thinking about something like dropbox datastore api https://www.dropbox.com/developers/datastore/tutorial/js\r\n\r\nfrom an implementation point of view we will transfer this to generic data structures which we can manage properly within our own isolated database schema.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30841684","html_url":"https://github.com/owncloud/core/issues/6451#issuecomment-30841684","issue_url":"https://api.github.com/repos/owncloud/core/issues/6451","id":30841684,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-12-18t13:36:09z","updated_at":"2013-12-18t13:36:09z","body":"one more idea. if there is no way to simulate alter tables then we can first copy every single table into test tables and try the alter tables there. we only start the migration if this is successful.\r\n\r\na second idea ist use a transactions around the full alter tables. not sure if this is supported in all databases."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/30842100","html_url":"https://github.com/owncloud/core/issues/6451#issuecomment-30842100","issue_url":"https://api.github.com/repos/owncloud/core/issues/6451","id":30842100,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-12-18t13:42:46z","updated_at":"2013-12-18t13:42:46z","body":"> a second idea ist use a transactions around the full alter tables. not sure if this is supported in all databases.\r\n\r\nlooks like only mysql has issue with this - others support such an approach: http://stackoverflow.com/a/4736346\r\n\r\n\r\n"}]