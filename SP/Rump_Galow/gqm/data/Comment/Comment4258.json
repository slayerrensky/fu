[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21930295","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-21930295","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":21930295,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t11:29:38z","updated_at":"2013-08-01t11:29:38z","body":"> probably happens, because the imagetype is set once and then never updated …\r\n\r\nlol, seems i never got around to that ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21930644","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-21930644","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":21930644,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t11:37:38z","updated_at":"2013-08-01t11:37:38z","body":"well it is actually also updated in [loadfromfile](https://github.com/owncloud/core/blob/master/lib/image.php#l483)\r\n\r\nbtw, in your example image/png would be correct, wouldn't it? ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21931471","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-21931471","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":21931471,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t11:58:45z","updated_at":"2013-08-01t11:58:45z","body":"just tested and when using loadfromfile() - which automatically gets called by the ctor if the first arg is a filename - the correct mime type is returned. when using other load methods image/png is returned, and data() show() etc will use imagepng() so it works fine.\r\ni'd say this is a non-issue. the phpdocs probably needs a general cleanup, but that's another matter.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21948223","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-21948223","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":21948223,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t16:10:33z","updated_at":"2013-08-01t16:10:33z","body":"the issue still persists when loading from data or base64.\r\n\r\nthe issue doesn't appear when loading from a file, yes …"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21954541","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-21954541","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":21954541,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-01t17:27:33z","updated_at":"2013-08-01t17:27:33z","body":"updated code (there are no jpeg images in the owncloud repo :frowning:):\r\n```php\r\n<?php\r\nrequire_once 'lib/base.php';\r\n$img = new oc_image(file_get_contents(oc::$serverroot.'/core/img/loading.gif'));\r\nvar_dump($img->mimetype());\r\n?>\r\n```\r\n\r\nputs:\r\n```\r\nstring(9) \"image/png\"\r\n```\r\n\r\nif you have a filename, with a fileextension which tells you the filetype, you don't really need the mimetype() function either …"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22000494","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22000494","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22000494,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t11:36:41z","updated_at":"2013-08-02t11:36:41z","body":"> puts:\r\n> \r\n> string(9) \"image/png\"\r\n\r\nyes, but  show(), __call(), data() will output the image as png, so in context of the oc_image object it's correct.\r\n\r\nafaik the imagecreatefrom* functions internally converts the image to raw, so the original image format is irrelevant (if not from file).\r\n\r\n> if you have a filename, with a fileextension which tells you the filetype, you don't really need the mimetype() function either …\r\n\r\nthen you would need another function to translate it into a mimetype. and i need it for my custom imageresponse https://github.com/owncloud/contacts/blob/master/lib/imageresponse.php"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22000950","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22000950","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22000950,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t11:48:32z","updated_at":"2013-08-02t11:48:32z","body":"well, then the issue is \"oc_image converts everything to png\" … resize an animated gif → unanimated png …\r\n\r\nimo it's confusing and wrong to just transcode your image into a png, without even saying it …\r\n\r\nin my case i want to get the filetype from an uploaded file (data), but i can't (except to use the fileextension, but that's not best) …"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002016","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002016","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002016,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:15:22z","updated_at":"2013-08-02t12:15:22z","body":"when i upload a jpeg or gif for contact pics, load the uploaded file and call $image->mimetype() on the object, i get the correct mimetype.\r\nanyways resizing an animated gif is not that simple, and oc_image doesn't support it.\r\n\r\nhttp://stackoverflow.com/questions/2164061/scale-down-animated-gif-with-php-gd/9657951#9657951"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002218","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002218","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002218,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:20:50z","updated_at":"2013-08-02t12:20:50z","body":"also see this http://stackoverflow.com/questions/7175883/php-gd-imagecreatefromstring-and-image-mime-type"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002247","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002247","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002247,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:21:32z","updated_at":"2013-08-02t12:21:32z","body":"https://github.com/owncloud/core/pull/4283/files#l3r107\r\n\r\nso all-in-all `\\oc_image->data()` converts the image to png and then dumps the data?\r\nvery obvious i say!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002307","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002307","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002307,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:23:02z","updated_at":"2013-08-02t12:23:02z","body":"you may get the point on `imagecreate()`, but not on raw data, or base64, as these have magic numbers in front of them …"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002354","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002354","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002354,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:24:01z","updated_at":"2013-08-02t12:24:01z","body":"> so all-in-all \\oc_image->data() converts the image to png and then dumps the data?\r\n\r\nthere's no (easy) way to get the correct mime type if not loaded from file. you could save it to a temporary file, but that's not very convenient."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002417","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002417","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002417,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:25:24z","updated_at":"2013-08-02t12:25:24z","body":"it's also possible to read the raw byte markers, but that would be a huge job for very little gain, unless you can find a library that does it."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002465","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002465","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002465,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:26:45z","updated_at":"2013-08-02t12:26:45z","body":"> well, then the issue is \"oc_image converts everything to png\" \r\n\r\nif not loaded from file!!! we could add that to the docs."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002612","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002612","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002612,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:30:02z","updated_at":"2013-08-02t12:30:02z","body":">it's also possible to read the raw byte markers, but that would be a huge job for very little gain, unless you can find a library that does it.\r\n\r\n[fileinfo](http://php.net/manual/en/function.finfo-buffer.php)?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002690","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002690","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002690,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:32:27z","updated_at":"2013-08-02t12:32:27z","body":"> you may get the point on imagecreate(), but not on raw data, or base64, as these have magic numbers in front of them …\r\n\r\nwe could see if i could make if work for base64.\r\n\r\n> fileinfo?\r\n\r\ncould maybe work"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002793","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002793","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002793,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:34:55z","updated_at":"2013-08-02t12:34:55z","body":"but that's yet another dependency"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002851","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002851","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002851,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:36:21z","updated_at":"2013-08-02t12:36:21z","body":"or we could add a `setmimetype()` :d"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002884","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002884","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002884,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:36:56z","updated_at":"2013-08-02t12:36:56z","body":"uuh no, we already [\"depend\"](https://github.com/owncloud/core/blob/master/settings/templates/admin.php#l41) on fileinfo. if it isn't loaded just do the usual image/png-everything."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22002938","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22002938","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22002938,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:38:11z","updated_at":"2013-08-02t12:38:11z","body":"> uuh no, we already \"depend\" on fileinfo.\r\n\r\nah, didn't know"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22003281","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22003281","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22003281,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:45:23z","updated_at":"2013-08-02t12:45:23z","body":"but frankly, it hasn't been an issue until now. just assert image/png when loading from string/data and make a junior job issue for it. unless you feel compelled to implement it ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22003502","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22003502","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22003502,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t12:49:37z","updated_at":"2013-08-02t12:49:37z","body":"https://github.com/owncloud/core/blob/oc_avatars/lib/avatar.php#l59 :cry: \r\ni think i'll do it the sloppy way then, and assert, that fileextensions are right …"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22005789","html_url":"https://github.com/owncloud/core/issues/4258#issuecomment-22005789","issue_url":"https://api.github.com/repos/owncloud/core/issues/4258","id":22005789,"user":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false},"created_at":"2013-08-02t13:34:59z","updated_at":"2013-08-02t13:34:59z","body":"neat! i wasn't aware you were developing an avatar lib."}]