[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12587391","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12587391","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12587391,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-01-23t09:17:54z","updated_at":"2013-01-23t10:24:46z","body":"adding: following errors occur (report from oc loggon as admin), after trying to logon /logoff from different machines and browsers concurrently\r\n\r\n```\r\nwarning \t php \t undefined index: \\oc\\files\\storage\\local at /mnt/www/owncloud/apps/files_external/lib/config.php#132\r\nwarning \t php \tmkdir(): permission denied at /mnt/www/owncloud/lib/cache/fileglobal.php#14\r\nwarning \t php \tmkdir(): permission denied at /mnt/www/owncloud/lib/cache/fileglobal.php#14\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nfatal\tphp\tsqlstate[hy000]: general error: 5 database is locked at /mnt/www/owncloud/lib/db.php#847\r\nwarning\tphp\tundefined index: \\oc\\files\\storage\\local at /mnt/www/owncloud/apps/files_external/lib/config.php#132\r\nwarning\tphp\tmkdir(): permission denied at /mnt/www/owncloud/lib/cache/fileglobal.php#14\r\n```\r\n\r\nfor the warnings (mkdir) i already filed a issue, please see: #1256 \tphp warning: mkdir(): permission denied"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12587469","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12587469","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12587469,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-01-23t09:20:31z","updated_at":"2013-01-23t09:20:31z","body":"after logging in as user and after oc has finalized itâ´s automated rescan of the drives assigned to the user, logging off and logging on again just shows one drive instead of all drives which have been assigned. tested on all users, admin user works."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12588193","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12588193","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12588193,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-01-23t09:45:09z","updated_at":"2013-01-23t09:45:09z","body":"pressing as user in tab media the rescan button on the top upper right of oc, i get in the apache error log following more or less running log entries:\r\n\r\n--> php fatal error:  call to a member function searchbymime() on a non-object in /mnt/www/owncloud/lib/files/filesystem.php on line 575, referer: https://www.xxxxxxx/owncloud/index.php/apps/media\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12661513","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12661513","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12661513,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-01-24t17:08:21z","updated_at":"2013-01-24t17:08:21z","body":"i did a complete clean reinstall of oc4.5.6 and the upgraded to the prealpha from today.\r\nnothing was leftover from my past test, due to reverting the os and the mount paths to a base install inside vmâ´s)\r\n\r\nafter the install, i added users, mounted local drives as described on top and granted access via user/groups to these drives.\r\n\r\nin general i have to say, that the original behavior as described in my first \"rescan drives on first logon\" post is still the same.\r\n\r\ni logged of as admin, logged on as user -  this took due to the drives granted and sizes 15min. now logging on a admin again, oc rescans <all> the drives again. i am waiting now since 20min to get logged on...\r\n\r\nthere is enough memory available (used <300 of 750m), and i have 1 processor with 4 cores which is used during oc automated rescan by 20-50%\r\n\r\noc rescan just finished. added as admin a new drive, complete rescan of all drives has started...\r\n\r\nthis is not usable in this way!\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12667414","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12667414","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12667414,"user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"created_at":"2013-01-24t19:05:46z","updated_at":"2013-01-24t19:05:46z","body":"> oc rescan just finished. added as admin a new drive, complete rescan of all drives has started...\r\nthis is not usable in this way!\r\n\r\ni see similar behavior, and the rescan not only happens when changing the mounts, but also on each (or at least most of the) updates, see this other issue: https://github.com/owncloud/core/issues/96\r\nbut there might be help, i think this issue should alleviate the problem: https://github.com/owncloud/core/issues/903. but i think it will only be included in the upcoming oc5; oc5 might include a few more improvements in that direction - custom mounts which apply for multiple users will then only be scanned once if i understood correctly, see here: https://github.com/owncloud/core/pull/673"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12668557","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12668557","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12668557,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-01-24t19:28:02z","updated_at":"2013-01-24t19:28:02z","body":"i used for the test oc 5 pre alpha from yesterday night. let me know if there are any updates of the code available i can download and install, respectively any advices i should proceed. as my drives are relatively big with many files, we can see code improvements pretty fast."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12678696","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12678696","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12678696,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-01-24t22:57:16z","updated_at":"2013-01-24t22:57:16z","body":"@icewind1991 a few bugs appearing in this issue."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12691141","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12691141","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12691141,"user":{"login":"mmattel","id":3321281,"avatar_url":"https://gravatar.com/avatar/2d576241f3ac901ec52f1ec4a9c3b77b?d=https%3a%2f%2fidenticons.github.com%2f62fba4fe6711d41fdbfc7ccc04efb8f4.png&r=x","gravatar_id":"2d576241f3ac901ec52f1ec4a9c3b77b","url":"https://api.github.com/users/mmattel","html_url":"https://github.com/mmattel","followers_url":"https://api.github.com/users/mmattel/followers","following_url":"https://api.github.com/users/mmattel/following{/other_user}","gists_url":"https://api.github.com/users/mmattel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmattel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmattel/subscriptions","organizations_url":"https://api.github.com/users/mmattel/orgs","repos_url":"https://api.github.com/users/mmattel/repos","events_url":"https://api.github.com/users/mmattel/events{/privacy}","received_events_url":"https://api.github.com/users/mmattel/received_events","type":"user","site_admin":false},"created_at":"2013-01-25t07:47:58z","updated_at":"2013-01-25t07:47:58z","body":"may i add some notes / ideas:\r\n\r\n1.) scanning a drive should be a background process not blocking the rest of the instance (if possible).\r\n2.) a mechanism of possible parallel searches due to user logon's must be present, not blocking the instance.\r\n2.) the view that and what is being scanned should be moved to a separate popup, unique for each logged on user, which can be opened and closed via eg the personal administration and/or a \"identifyer\" next beside search on top right.\r\n3.) during a search, a small \"identifyer\" that a search is running should appear, maybe on top right next beside search. this identifyer should disappear automatically when finished. via this identifyer, the popup can be opened/closed.\r\n4.) during a scan, search can be disabled if this is a necessary condition\r\n5.) there should be a difference in the scanning behaviour if a drive is a assigned to a single user only or to a group or multiple users.\r\n\r\ni do not know if, but for me it looks like, that the search index is written to the database for each user separately. maybe it would help to have the drive index independent and grant user access to the drive index avoiding multiple rescans. but i maybe wrong in my thinking."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12691330","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12691330","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12691330,"user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"created_at":"2013-01-25t07:56:50z","updated_at":"2013-01-25t07:56:56z","body":"> i do not know if, but for me it looks like, that the search index is written to the database for each user separately.\r\n\r\nas far as i understood, this is implemented already with the filecache rewrite for oc5."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12742510","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-12742510","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":12742510,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-01-26t21:22:05z","updated_at":"2013-01-26t21:22:05z","body":"i think this should fix the mount points getting scanned when in the root directory. https://github.com/owncloud/core/commit/03b947e3ece28325d3bc64319a228d66d493d182"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/22101113","html_url":"https://github.com/owncloud/core/issues/1273#issuecomment-22101113","issue_url":"https://api.github.com/repos/owncloud/core/issues/1273","id":22101113,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-08-05t11:48:01z","updated_at":"2013-08-05t11:48:01z","body":"iâ€™m closing this bug because it has been inactive for a few months. this probably means itâ€™s not reproducible or it has been fixed.\r\n\r\nplease reopen if the error still persists with owncloud 5.0.9 (the latest stable version) and then please use the [issue template](https://raw.github.com/owncloud/core/master/issue_template.md). or even better, join us and contribute code! see the [developer manual](http://doc.owncloud.org/server/5.0/developer_manual/). :)\r\n\r\nthank you!"}]