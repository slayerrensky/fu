[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/9796943","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-9796943","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":9796943,"user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"created_at":"2012-10-25t22:36:18z","updated_at":"2012-10-25t22:36:18z","body":"yes, #100 and #105 are related, but not the same. both features were actually already there in 4.0.x, but are gone again in 4.5..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/9958405","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-9958405","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":9958405,"user":{"login":"wikinaut","id":1151915,"avatar_url":"https://gravatar.com/avatar/44fe3e62650a2bda315bf7ad8ab5aa8a?d=https%3a%2f%2fidenticons.github.com%2fd9f4ac434d00bf8bdf746d923216dfea.png&r=x","gravatar_id":"44fe3e62650a2bda315bf7ad8ab5aa8a","url":"https://api.github.com/users/wikinaut","html_url":"https://github.com/wikinaut","followers_url":"https://api.github.com/users/wikinaut/followers","following_url":"https://api.github.com/users/wikinaut/following{/other_user}","gists_url":"https://api.github.com/users/wikinaut/gists{/gist_id}","starred_url":"https://api.github.com/users/wikinaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikinaut/subscriptions","organizations_url":"https://api.github.com/users/wikinaut/orgs","repos_url":"https://api.github.com/users/wikinaut/repos","events_url":"https://api.github.com/users/wikinaut/events{/privacy}","received_events_url":"https://api.github.com/users/wikinaut/received_events","type":"user","site_admin":false},"created_at":"2012-10-31t19:22:47z","updated_at":"2012-10-31t19:22:47z","body":"actually this was called \"share with private link\""},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10015206","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10015206","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10015206,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2012-11-02t14:03:23z","updated_at":"2012-11-02t14:03:36z","body":"sharing with link should always use a token to identify the parent to the shared file or directory:\r\nif i have the following path in my owncloud files:\r\n\r\n    /images/events/2012/developer meeting\r\nand i share the \"developer meeting\" folder the link should look like\r\n\r\n    http://localhost/owncloud/public.php?service=files&token=gtx3gew7yy7oxujq35t5fbcnadhnqgaf&file=/developer meeting\r\nthis way my folder structure is not exposed. the token should work like a chroot.\r\n\r\nwe can set a password for the token and even use it to identify contacts. this would allow us to use individual passwords for contacts. the token should even be used for public links to not reveal any other information of my folder structure.\r\n\r\n@mtgap what dou you think? i need this and if you think this is ok i'll start implementing it. just checking that you haven't started anything here or have other plans..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10024579","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10024579","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10024579,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2012-11-02t18:33:49z","updated_at":"2012-11-02t18:33:49z","body":"@jancborchardt how does dropbox handle this? do they use a token? do they show the filename in the url?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10024762","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10024762","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10024762,"user":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"created_at":"2012-11-02t18:38:45z","updated_at":"2012-11-02t18:38:45z","body":"@butonic token.\r\n\r\nhttps://www.dropbox.com/sh/fsfkqd4kjflcuj2/wge9kxducu"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10026344","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10026344","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10026344,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2012-11-02t19:08:51z","updated_at":"2012-11-02t19:08:51z","body":"yeah, previously i cared about the cleartext filename being in the link somewhere, now i donâ€™t even anymore.\r\n\r\njust for the record: when i said the filename should be shown in the link, i never suggested to expose the whole path of a shared file. :)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10037710","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10037710","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10037710,"user":{"login":"wikinaut","id":1151915,"avatar_url":"https://gravatar.com/avatar/44fe3e62650a2bda315bf7ad8ab5aa8a?d=https%3a%2f%2fidenticons.github.com%2fd9f4ac434d00bf8bdf746d923216dfea.png&r=x","gravatar_id":"44fe3e62650a2bda315bf7ad8ab5aa8a","url":"https://api.github.com/users/wikinaut","html_url":"https://github.com/wikinaut","followers_url":"https://api.github.com/users/wikinaut/followers","following_url":"https://api.github.com/users/wikinaut/following{/other_user}","gists_url":"https://api.github.com/users/wikinaut/gists{/gist_id}","starred_url":"https://api.github.com/users/wikinaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikinaut/subscriptions","organizations_url":"https://api.github.com/users/wikinaut/orgs","repos_url":"https://api.github.com/users/wikinaut/repos","events_url":"https://api.github.com/users/wikinaut/events{/privacy}","received_events_url":"https://api.github.com/users/wikinaut/received_events","type":"user","site_admin":false},"created_at":"2012-11-03t09:28:28z","updated_at":"2012-11-03t09:28:28z","body":"for security reasons, i rather suggest _never_ to have file- oder directory names in the hash and to construct links like (only the extension is preserved)\r\n\r\n* https://example.org/owncloud/public.php?service=files&file=gtx3gew7yy7oxujq35t5fbcnadhnqgaf.jpg"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10038877","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10038877","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10038877,"user":{"login":"philippefx","id":2714267,"avatar_url":"https://gravatar.com/avatar/d403b85d5c1fb62d6fa151a3d5c50f51?d=https%3a%2f%2fidenticons.github.com%2f2108cee177105c0ec77ddc0cfb99327a.png&r=x","gravatar_id":"d403b85d5c1fb62d6fa151a3d5c50f51","url":"https://api.github.com/users/philippefx","html_url":"https://github.com/philippefx","followers_url":"https://api.github.com/users/philippefx/followers","following_url":"https://api.github.com/users/philippefx/following{/other_user}","gists_url":"https://api.github.com/users/philippefx/gists{/gist_id}","starred_url":"https://api.github.com/users/philippefx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philippefx/subscriptions","organizations_url":"https://api.github.com/users/philippefx/orgs","repos_url":"https://api.github.com/users/philippefx/repos","events_url":"https://api.github.com/users/philippefx/events{/privacy}","received_events_url":"https://api.github.com/users/philippefx/received_events","type":"user","site_admin":false},"created_at":"2012-11-03t12:30:25z","updated_at":"2012-11-03t12:30:25z","body":"supporting this,\r\n- current system is a security issue (it disclose the files and directory structure) (and this is an bad thingâ©)\r\n- in case the file is renamed, the link won't work anymore (and this is an bad thingâ©)\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10057647","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10057647","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10057647,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t00:10:04z","updated_at":"2012-11-05t00:10:04z","body":"right, the file renaming issue is a dealbreaker. then letâ€™s just fully tokenize it â€“ including the extension, because that also is a security issue when sharing a password-protected file (because others would know itâ€™s an image or text)."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10062085","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10062085","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10062085,"user":{"login":"wikinaut","id":1151915,"avatar_url":"https://gravatar.com/avatar/44fe3e62650a2bda315bf7ad8ab5aa8a?d=https%3a%2f%2fidenticons.github.com%2fd9f4ac434d00bf8bdf746d923216dfea.png&r=x","gravatar_id":"44fe3e62650a2bda315bf7ad8ab5aa8a","url":"https://api.github.com/users/wikinaut","html_url":"https://github.com/wikinaut","followers_url":"https://api.github.com/users/wikinaut/followers","following_url":"https://api.github.com/users/wikinaut/following{/other_user}","gists_url":"https://api.github.com/users/wikinaut/gists{/gist_id}","starred_url":"https://api.github.com/users/wikinaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikinaut/subscriptions","organizations_url":"https://api.github.com/users/wikinaut/orgs","repos_url":"https://api.github.com/users/wikinaut/repos","events_url":"https://api.github.com/users/wikinaut/events{/privacy}","received_events_url":"https://api.github.com/users/wikinaut/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t07:05:30z","updated_at":"2012-11-05t07:05:47z","body":"@jancborchardt i think the extension must stay intact like in my example \r\n\r\n* https://example.org/owncloud/public.php?service=files&file=gtx3gew7yy7oxujq35t5fbcnadhnqgaf.jpg\r\n\r\nto allow extension-based clients and servers and operating systems to auto-detect the correct handler for that file (text editor, image viewer, mp3 player ...)\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10062792","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10062792","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10062792,"user":{"login":"wikinaut","id":1151915,"avatar_url":"https://gravatar.com/avatar/44fe3e62650a2bda315bf7ad8ab5aa8a?d=https%3a%2f%2fidenticons.github.com%2fd9f4ac434d00bf8bdf746d923216dfea.png&r=x","gravatar_id":"44fe3e62650a2bda315bf7ad8ab5aa8a","url":"https://api.github.com/users/wikinaut","html_url":"https://github.com/wikinaut","followers_url":"https://api.github.com/users/wikinaut/followers","following_url":"https://api.github.com/users/wikinaut/following{/other_user}","gists_url":"https://api.github.com/users/wikinaut/gists{/gist_id}","starred_url":"https://api.github.com/users/wikinaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikinaut/subscriptions","organizations_url":"https://api.github.com/users/wikinaut/orgs","repos_url":"https://api.github.com/users/wikinaut/repos","events_url":"https://api.github.com/users/wikinaut/events{/privacy}","received_events_url":"https://api.github.com/users/wikinaut/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t07:55:28z","updated_at":"2012-11-05t07:55:28z","body":"addition:\r\n\r\na subdirectory\r\n* https://example.org/owncloud/public.php?service=files&file=gtx3gew7yy7oxujq35t5fbcnadhnqgaf\r\n\r\nan mp3 file in a subdirectory\r\n* https://example.org/owncloud/public.php?service=files&file=gtx3gew7yy7oxujq35t5fbcnadhnqgaf/bytikxjncj9xgdskykaixrej8w2nze9o.mp3\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10063915","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10063915","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10063915,"user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t09:01:29z","updated_at":"2012-11-05t09:04:17z","body":">an mp3 file in a subdirectory\r\n> https://example.org/owncloud/public.php?service=files&file=gtx3gew7yy7oxujq35t5fbcnadhnqgaf/bytikxjncj9xgdskykaixrej8w2nze9o.mp3\r\n\r\nthat is not how it's supposed to work in my opinion - that way, you're not only leaking the file extension, but also how deep the directory structure is! and you will most probably have the same problems when directories are renamed... the only proper solution in my eyes is to use a single hash value, like this:\r\nhttps://example.org/owncloud/public.php?service=files&file=gtx3gew7yy7oxujq35t5fbcnadhnqgaf\r\nno matter in how deep a subdirectory the actual file is. no extension should be necessary - the file type should be sent via mime type header as far as i know; it would have to be tested if every browser and os is capable of determining the type from that, though.\r\n\r\nthe hash value is stored in whatever table the share is stored in, mapping to the proper location of the file; and when a directory is moved/renamed while owncloud is watching, this share's location can be simply adapted by changing the table with the mapping!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10064273","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10064273","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10064273,"user":{"login":"philippefx","id":2714267,"avatar_url":"https://gravatar.com/avatar/d403b85d5c1fb62d6fa151a3d5c50f51?d=https%3a%2f%2fidenticons.github.com%2f2108cee177105c0ec77ddc0cfb99327a.png&r=x","gravatar_id":"d403b85d5c1fb62d6fa151a3d5c50f51","url":"https://api.github.com/users/philippefx","html_url":"https://github.com/philippefx","followers_url":"https://api.github.com/users/philippefx/followers","following_url":"https://api.github.com/users/philippefx/following{/other_user}","gists_url":"https://api.github.com/users/philippefx/gists{/gist_id}","starred_url":"https://api.github.com/users/philippefx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philippefx/subscriptions","organizations_url":"https://api.github.com/users/philippefx/orgs","repos_url":"https://api.github.com/users/philippefx/repos","events_url":"https://api.github.com/users/philippefx/events{/privacy}","received_events_url":"https://api.github.com/users/philippefx/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t09:18:30z","updated_at":"2012-11-05t09:18:30z","body":"> i don't even think the extension is necessary - that should be sent via mime type header as far as i know; it would have to be determined if every browser and os is capable of doing so, though.\r\n\r\nyes, i think providing the link with hash but keep the extention seems a bad idea. \r\nand every browser is able to deal with with mime types."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10064510","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10064510","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10064510,"user":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"created_at":"2012-11-05t09:29:12z","updated_at":"2012-11-05t09:32:12z","body":"we should also remove the \"foo shared the folder bar with you\", i don't see a reason to disclose the owner of the file.\r\n\r\n\\cc @jancborchardt \r\n\r\nedit: i opened a new issue for this #247"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10146904","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10146904","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10146904,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2012-11-07t12:37:50z","updated_at":"2012-11-07t12:37:50z","body":"* i think we all agree that using a tokenized url is needed to handle file renames correctly.\r\n** while a token is only needed when sending links, i can imagine a \"notify via email\" button for owncloud users that would use a token as well to directly open the shared item when the user is logged in. \r\n* apart from browsers being responsible to hande mimetype, using file extensions is not necessary, as the current sharing implementation presents an authorized guest an html page with a preview for images and a download button.\r\n** nevertheless using a raw=true parameter like github uses to directly link to a file should be possible. see this image url: ![favicon](https://github.com/owncloud/core/blob/master/core/img/favicon.png?raw=true) something like https://example.tld/owncloud/public.php?service=files&t=gtx3gew7yy7oxujq35t5fbcnadhnqgaf?raw=true to be able to directly link to public files\r\n* the \"foo shared the folder bar with you\" is a matter of preference of the owncloud administrator. we can move this decision to the theme. it should however be possible to greet e.g. contacts with their name.\r\n\r\n@mtgap i have been trying to figure out the best way how to re add tokenized urls to the sharing api. basically a token is used to lookup the correct row in the oc_share table. everyting else can then be read from there. i could store the token in the oc_share table by adding a column there and passing a random token to oc_share::put(). put() does some magic for groups and i haven't had the time to understand generatetarget(). so i'm a little bit reluctant to touch that code. i could then use a token to lookup a share in public.php and load the parameters before using getsharewithbylink ... at least thats the plan. any insight from you would be helpful. thx!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10167874","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10167874","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10167874,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2012-11-07t22:24:58z","updated_at":"2012-11-07t22:24:58z","body":"ok ... i have a version running for one of our customers. will test more tomorrow and port to core closing some project issues."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10280927","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10280927","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10280927,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-11-12t09:19:13z","updated_at":"2012-11-12t09:19:13z","body":"@butonic cool - awaiting your pull request ;-)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10422636","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10422636","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10422636,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2012-11-15t19:51:50z","updated_at":"2012-11-15t19:51:50z","body":"on thu, nov 15, 2012 at 7:03 pm, randolfcarter <notifications@github.com>wrote:\r\n\r\n> do i see correctly that there is still the possibility to set a password?\r\n> why is that needed? in my opinion it provides no additional security. the\r\n> token is such that it can't be guessed in reasonable time anyway, and if\r\n> someone should get hold of the link he or she will by all chances also get\r\n> the password (since they are distributed in the same email)...\r\n>\r\n> â€”\r\n> reply to this email directly or view it on github<https://github.com/owncloud/core/issues/105#issuecomment-10418550>.\r\n>\r\n>\r\n\r\n(did you delete your comment?)\r\n\r\niâ€™d agree that an additional password is not needed. iâ€™d prefer we remove\r\nit, but i guess it was a customer request."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10422771","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10422771","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10422771,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2012-11-15t19:55:03z","updated_at":"2012-11-15t19:55:03z","body":"> iâ€™d agree that an additional password is not needed. iâ€™d prefer we remove\r\nit, but i guess it was a customer request.\r\n\r\nwhat are you talking about? we both discussed this for a long time and agreed on it... \r\n\r\nthe point is that normal users don't understand that it is secured because of the token and it is only security through obscurity. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10438925","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10438925","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10438925,"user":{"login":"wikinaut","id":1151915,"avatar_url":"https://gravatar.com/avatar/44fe3e62650a2bda315bf7ad8ab5aa8a?d=https%3a%2f%2fidenticons.github.com%2fd9f4ac434d00bf8bdf746d923216dfea.png&r=x","gravatar_id":"44fe3e62650a2bda315bf7ad8ab5aa8a","url":"https://api.github.com/users/wikinaut","html_url":"https://github.com/wikinaut","followers_url":"https://api.github.com/users/wikinaut/followers","following_url":"https://api.github.com/users/wikinaut/following{/other_user}","gists_url":"https://api.github.com/users/wikinaut/gists{/gist_id}","starred_url":"https://api.github.com/users/wikinaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikinaut/subscriptions","organizations_url":"https://api.github.com/users/wikinaut/orgs","repos_url":"https://api.github.com/users/wikinaut/repos","events_url":"https://api.github.com/users/wikinaut/events{/privacy}","received_events_url":"https://api.github.com/users/wikinaut/received_events","type":"user","site_admin":false},"created_at":"2012-11-16t07:43:24z","updated_at":"2012-11-16t07:43:24z","body":"@jancborchardt wrote \"iâ€™d agree that an additional password is not needed. iâ€™d prefer we remove it, but i guess it was a customer request\"\r\n\r\nin cases where someone revealed the \"shared link\" (e.g. published that, or used a link shortener like tinyurl), the shared link is not \"secret\" anymore. \r\n\r\nthe alternative method to set a password adds a layer of security to any link, wether it is a shared link (hash) or a plain link to a fil.\r\n\r\nthis is why i like to have both possibilities in owncloud.\r\n\r\ni) shared link (hashed link)\r\nii) optional: a password needed for this file\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10439948","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10439948","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10439948,"user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"created_at":"2012-11-16t08:35:15z","updated_at":"2012-11-16t08:35:22z","body":">(did you delete your comment?) iâ€™d agree that an additional password is not needed. iâ€™d prefer we remove it, but i guess it was a customer request.\r\n\r\nyes i removed the comment, sorry for the confusion. i did so because after adding it i came up with two reasons why the password could be left in:\r\n- \"subjective\" security (users feeling more secure because there is a password, as described by mtgap\r\n- it could make things more secure if the password is transmitted via a separate channel (e.g. the link via email and the password via telephone)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10451663","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-10451663","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":10451663,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2012-11-16t15:58:54z","updated_at":"2012-11-16t15:58:54z","body":"yeah, sorry for the confusion @mtgap â€“ the password should of course stay because it provides more perceived security and more actual security as well. so nevermind my comment."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11001366","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-11001366","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":11001366,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2012-12-04t15:32:30z","updated_at":"2012-12-04t15:32:30z","body":"this was fixed by @butonic in #380. wohoo!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12538657","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-12538657","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":12538657,"user":{"login":"srednax","id":3184467,"avatar_url":"https://gravatar.com/avatar/27925c862af8ac0da70cb7433a46b638?d=https%3a%2f%2fidenticons.github.com%2f321d091c539510f71a8b22b0a9bebd12.png&r=x","gravatar_id":"27925c862af8ac0da70cb7433a46b638","url":"https://api.github.com/users/srednax","html_url":"https://github.com/srednax","followers_url":"https://api.github.com/users/srednax/followers","following_url":"https://api.github.com/users/srednax/following{/other_user}","gists_url":"https://api.github.com/users/srednax/gists{/gist_id}","starred_url":"https://api.github.com/users/srednax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srednax/subscriptions","organizations_url":"https://api.github.com/users/srednax/orgs","repos_url":"https://api.github.com/users/srednax/repos","events_url":"https://api.github.com/users/srednax/events{/privacy}","received_events_url":"https://api.github.com/users/srednax/received_events","type":"user","site_admin":false},"created_at":"2013-01-22t10:33:18z","updated_at":"2013-01-22t10:33:18z","body":"i wonder if it is possible for an outsider to see an unshared file if one knows the path? silly probably, but is it stored/checked if a file is  shared?\r\n\r\ni do not understand why sharing a file should mean sharing a webpage with access to that file. i'd rather see the direct link as the default, and if i really thought a webpage presenting the file could make sense, there'd be an excedption for that - \"&raw=false\" or stlt ;)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12540954","html_url":"https://github.com/owncloud/core/issues/105#issuecomment-12540954","issue_url":"https://api.github.com/repos/owncloud/core/issues/105","id":12540954,"user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"created_at":"2013-01-22t11:43:32z","updated_at":"2013-01-22t11:43:32z","body":"> i wonder if it is possible for an outsider to see an unshared file if one knows the path?\r\nwith the current share by link, there shouldn't be any path in the share link, and therefore no chance to just change the path...\r\n\r\n> i do not understand why sharing a file should mean sharing a webpage with access to that file. i'd rather see the direct link as the default, and if i really thought a webpage presenting the file could make sense, there'd be an excedption for that - \"&raw=false\" or stlt ;)\r\n\r\nfor a single file i tend to a agree with the direct file access, but for a directory, viewing the files (as it currently is) is the way to go ;)"}]