[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29166196","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29166196","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29166196,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-11-24t21:11:54z","updated_at":"2013-11-24t21:11:54z","body":"looks good. not tested :+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29183423","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29183423","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29183423,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t08:07:15z","updated_at":"2013-11-25t08:07:15z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2111/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29184839","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29184839","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29184839,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t08:40:05z","updated_at":"2013-11-25t08:40:05z","body":"@ringmaster @bartv2 @bantu can you please have a look? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29185127","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29185127","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29185127,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t08:45:38z","updated_at":"2013-11-25t08:47:06z","body":"@deepdiver1975 this patch is very likely not a good idea. at least we do expect \"y-m-d h:i:s\" to be an acceptable date when performing inserts. we probably also expect \"y-m-d h:i:s\" to be the output format. i would suggest to always tell mssql that we do want \"y-m-d h:i:s\" as the output format instead. we do the same for other dbmses afair."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29185681","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29185681","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29185681,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t08:55:15z","updated_at":"2013-11-25t08:55:15z","body":"we register the listener for oracle here: https://github.com/owncloud/core/blob/master/lib/private/db.php#l131"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29185723","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29185723","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29185723,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t08:55:58z","updated_at":"2013-11-25t08:55:58z","body":"there does not seem to be a listener for mssql in doctrine. can you explain why this change is necessary? does this actually cause any issues? is this fixing a specific ticket?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29186167","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29186167","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29186167,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t09:04:46z","updated_at":"2013-11-25t09:04:46z","body":"@bantu without this change the unit test is failing on mssql because mssql uses a different date time format.\r\n\r\nhttps://github.com/doctrine/dbal/blob/master/lib/doctrine/dbal/platforms/sqlserverplatform.php#l958\r\n\r\nwhile all other databases seem to support 'y-m-d h:i:s' - mssql doesn't"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29246631","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29246631","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29246631,"user":{"login":"ringmaster","id":127738,"avatar_url":"https://gravatar.com/avatar/2e4c262dd7f74a26b28f905c0fa15048?d=https%3a%2f%2fidenticons.github.com%2f968ec2eda9ddfebb1b5a00c05b9cc674.png&r=x","gravatar_id":"2e4c262dd7f74a26b28f905c0fa15048","url":"https://api.github.com/users/ringmaster","html_url":"https://github.com/ringmaster","followers_url":"https://api.github.com/users/ringmaster/followers","following_url":"https://api.github.com/users/ringmaster/following{/other_user}","gists_url":"https://api.github.com/users/ringmaster/gists{/gist_id}","starred_url":"https://api.github.com/users/ringmaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ringmaster/subscriptions","organizations_url":"https://api.github.com/users/ringmaster/orgs","repos_url":"https://api.github.com/users/ringmaster/repos","events_url":"https://api.github.com/users/ringmaster/events{/privacy}","received_events_url":"https://api.github.com/users/ringmaster/received_events","type":"user","site_admin":false},"created_at":"2013-11-25t21:58:46z","updated_at":"2013-11-25t21:58:46z","body":"this change fixes the test ok, but it doesn't address the handling of dates internally.  if some code inside owncloud passed a date to mssql in an unexpected (say, mysql-style) format, there's nothing there to convert it or prevent an error condition.\r\n\r\nwhat it seems like @bantu is suggesting is implementing a listener for mssql (doctrine doesn't seem to come with one) that can either set the date format on the mssql server to something common to all owncloud dbs, or somehow convert dates into the correct format before queries are executed.  this could prevent these errors, such that the test could pass without the change provided in this pr.\r\n\r\nso this corrects the test, but does danger remain within owncloud that a date will be improperly formatted for mssql?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29275180","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29275180","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29275180,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t08:38:09z","updated_at":"2013-11-26t08:38:09z","body":"@bantu @ringmaster @bartv2 \r\nhonestly speaking i think this test is a left over from the mdb2 times.\r\n\r\nproper date and datetime input/output should be tested not internal formating or do i get something wring here?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29275863","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29275863","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29275863,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t08:51:14z","updated_at":"2013-11-26t08:51:14z","body":"@deepdiver1975 i intentionally added this test so we see dbmses where \"y-m-d h:i:s\" is not the default date format. see https://github.com/owncloud/core/blob/043c3529ce4cedd6e0027b9b273ef157fbeba40a/tests/lib/db.php#l149\r\nafter oracle tests were added this test showed us that we need to enforce the date format on oracle, which we did using the listener. now we just have to do the same for mssql. i'll be looking into that. please create a new pull request for 043c3529ce4cedd6e0027b9b273ef157fbeba40a which does not seem to be directly related to what this pr claims to fix. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29279310","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29279310","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29279310,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t09:50:49z","updated_at":"2013-11-26t09:50:49z","body":"@deepdiver1975 can you provide the error messages for this test on mssql?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29285053","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29285053","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29285053,"user":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t11:28:22z","updated_at":"2013-11-26t11:28:22z","body":"@deepdiver1975 with #6052 we should no longer rely on specific date string formats."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29285065","html_url":"https://github.com/owncloud/core/pull/6023#issuecomment-29285065","issue_url":"https://api.github.com/repos/owncloud/core/issues/6023","id":29285065,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-11-26t11:28:36z","updated_at":"2013-11-26t11:28:36z","body":"> @deepdiver1975 can you provide the error messages for this test on mssql?\r\n\r\nthere is no error message itself - the test is failing on https://github.com/owncloud/core/blob/master/tests/lib/db.php#l174\r\n\r\nthis call is returning false because the format doesn't match the value:\r\n````\r\n                $actual = \\datetime::createfromformat($expectedformat, $row[$column]);\r\n\r\n````\r\n\r\n"}]