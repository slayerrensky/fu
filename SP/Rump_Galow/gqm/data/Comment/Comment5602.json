[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27305107","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27305107","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27305107,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-10-29t14:05:41z","updated_at":"2013-10-29t14:05:41z","body":"nice :+1: \r\nis this in stable5 too?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27306260","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27306260","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27306260,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-10-29t14:18:10z","updated_at":"2013-10-29t14:18:10z","body":"i believe so"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27306719","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27306719","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27306719,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-10-29t14:23:13z","updated_at":"2013-10-29t14:23:13z","body":"test **failed**.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/1829/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27306897","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27306897","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27306897,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-10-29t14:25:15z","updated_at":"2013-10-29t14:25:15z","body":"failed tests unrelated to pr"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27356271","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27356271","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27356271,"user":{"login":"japaol","id":5690341,"avatar_url":"https://gravatar.com/avatar/86d681599f54a665e4b68f126f5f5f54?d=https%3a%2f%2fidenticons.github.com%2f98e14b83c87cf7ae2bfbf3e01ea7a25a.png&r=x","gravatar_id":"86d681599f54a665e4b68f126f5f5f54","url":"https://api.github.com/users/japaol","html_url":"https://github.com/japaol","followers_url":"https://api.github.com/users/japaol/followers","following_url":"https://api.github.com/users/japaol/following{/other_user}","gists_url":"https://api.github.com/users/japaol/gists{/gist_id}","starred_url":"https://api.github.com/users/japaol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/japaol/subscriptions","organizations_url":"https://api.github.com/users/japaol/orgs","repos_url":"https://api.github.com/users/japaol/repos","events_url":"https://api.github.com/users/japaol/events{/privacy}","received_events_url":"https://api.github.com/users/japaol/received_events","type":"user","site_admin":false},"created_at":"2013-10-30t00:28:37z","updated_at":"2013-10-30t00:28:37z","body":"@icewind1991 works! it fixes #3118 (tested on master)\r\n\r\nfor stable5 the problem is the same, but this pr cannot be applied easily as in stable5 there isn't distinction between <code>mtime</code> and <code>storage mtime</code>."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27385476","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27385476","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27385476,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-10-30t12:42:35z","updated_at":"2013-10-30t12:42:35z","body":"@deepdiver1975 can this be merged?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27388368","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27388368","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27388368,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-10-30t13:27:07z","updated_at":"2013-10-30t13:27:07z","body":"test **failed**.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/1849/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27391230","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27391230","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27391230,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-10-30t14:03:35z","updated_at":"2013-10-30t14:03:35z","body":":+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27502720","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27502720","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27502720,"user":{"login":"jacekz","id":4143712,"avatar_url":"https://gravatar.com/avatar/e65df528b7329c8acc027fd9cbc852e4?d=https%3a%2f%2fidenticons.github.com%2f6c773e5435907698bc57d3addbdc6b40.png&r=x","gravatar_id":"e65df528b7329c8acc027fd9cbc852e4","url":"https://api.github.com/users/jacekz","html_url":"https://github.com/jacekz","followers_url":"https://api.github.com/users/jacekz/followers","following_url":"https://api.github.com/users/jacekz/following{/other_user}","gists_url":"https://api.github.com/users/jacekz/gists{/gist_id}","starred_url":"https://api.github.com/users/jacekz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacekz/subscriptions","organizations_url":"https://api.github.com/users/jacekz/orgs","repos_url":"https://api.github.com/users/jacekz/repos","events_url":"https://api.github.com/users/jacekz/events{/privacy}","received_events_url":"https://api.github.com/users/jacekz/received_events","type":"user","site_admin":false},"created_at":"2013-10-31t16:41:05z","updated_at":"2013-10-31t16:41:05z","body":"does exist chance to introduce similar improvments to stable5? i am aware of lack of storage_mtime."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27506845","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27506845","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27506845,"user":{"login":"japaol","id":5690341,"avatar_url":"https://gravatar.com/avatar/86d681599f54a665e4b68f126f5f5f54?d=https%3a%2f%2fidenticons.github.com%2f98e14b83c87cf7ae2bfbf3e01ea7a25a.png&r=x","gravatar_id":"86d681599f54a665e4b68f126f5f5f54","url":"https://api.github.com/users/japaol","html_url":"https://github.com/japaol","followers_url":"https://api.github.com/users/japaol/followers","following_url":"https://api.github.com/users/japaol/following{/other_user}","gists_url":"https://api.github.com/users/japaol/gists{/gist_id}","starred_url":"https://api.github.com/users/japaol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/japaol/subscriptions","organizations_url":"https://api.github.com/users/japaol/orgs","repos_url":"https://api.github.com/users/japaol/repos","events_url":"https://api.github.com/users/japaol/events{/privacy}","received_events_url":"https://api.github.com/users/japaol/received_events","type":"user","site_admin":false},"created_at":"2013-10-31t17:25:23z","updated_at":"2013-10-31t17:25:23z","body":"@jacekz yes, but it's not so elegant, and only works with php >= 5.3.0 under windows.\r\n\r\nthere are two options: modify the mtime cached to match the current mtime of the folder, or modify the current mtime of the folder to match the value of mtime cached, so that both values match.\r\n\r\nthe first option is not valid, as owncloud manages the mtime value for various things (<a href=\"https://github.com/owncloud/core/issues/3118#issuecomment-26408062\">comment from @icewind1991</a>).\r\n\r\nthe second option works only on windows, as php function 'touch()' only works for directories under windows (<a href=\"http://www.php.net/manual/en/function.touch.php\">see manual</a>). if you wanna try, just add the line:\r\n<code>$storage->touch($internalpath, $time);</code>\r\nbelow:\r\n<code>$cache->update($id, array('mtime' => $time, 'etag' => $storage->getetag($internalpath)));</code>\r\nin the function <code>correctfolder()</code> in <code>lib\\files\\cache\\updater.php</code>.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27674851","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27674851","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27674851,"user":{"login":"jacekz","id":4143712,"avatar_url":"https://gravatar.com/avatar/e65df528b7329c8acc027fd9cbc852e4?d=https%3a%2f%2fidenticons.github.com%2f6c773e5435907698bc57d3addbdc6b40.png&r=x","gravatar_id":"e65df528b7329c8acc027fd9cbc852e4","url":"https://api.github.com/users/jacekz","html_url":"https://github.com/jacekz","followers_url":"https://api.github.com/users/jacekz/followers","following_url":"https://api.github.com/users/jacekz/following{/other_user}","gists_url":"https://api.github.com/users/jacekz/gists{/gist_id}","starred_url":"https://api.github.com/users/jacekz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacekz/subscriptions","organizations_url":"https://api.github.com/users/jacekz/orgs","repos_url":"https://api.github.com/users/jacekz/repos","events_url":"https://api.github.com/users/jacekz/events{/privacy}","received_events_url":"https://api.github.com/users/jacekz/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t10:11:24z","updated_at":"2013-11-04t10:11:24z","body":"ok, are you sure second option doesn't work on linux for directories? \r\ni've made test:\r\n```\r\n<?php\r\n// this is the touch time, we'll set it to one hour in the past.\r\n$time = time() - 3600;\r\n$filename = 'dir1';\r\nclearstatcache();\r\nprintf(\"mtime#1: %s\", date(\"f d y h:i:s.\", filemtime($filename)));\r\ntouch($filename, $time);\r\nsleep(10);\r\nclearstatcache();\r\nprintf(\"mtime#2: %s\", date(\"f d y h:i:s.\", filemtime($filename)));\r\n?>\r\n```\r\noutput of above code shows that directorie's mtime was modified by touch function.\r\n```\r\nmtime#1: november 04 2013 10:08:14.\r\nmtime#2: november 04 2013 10:09:03.\r\n```"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27675151","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27675151","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27675151,"user":{"login":"japaol","id":5690341,"avatar_url":"https://gravatar.com/avatar/86d681599f54a665e4b68f126f5f5f54?d=https%3a%2f%2fidenticons.github.com%2f98e14b83c87cf7ae2bfbf3e01ea7a25a.png&r=x","gravatar_id":"86d681599f54a665e4b68f126f5f5f54","url":"https://api.github.com/users/japaol","html_url":"https://github.com/japaol","followers_url":"https://api.github.com/users/japaol/followers","following_url":"https://api.github.com/users/japaol/following{/other_user}","gists_url":"https://api.github.com/users/japaol/gists{/gist_id}","starred_url":"https://api.github.com/users/japaol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/japaol/subscriptions","organizations_url":"https://api.github.com/users/japaol/orgs","repos_url":"https://api.github.com/users/japaol/repos","events_url":"https://api.github.com/users/japaol/events{/privacy}","received_events_url":"https://api.github.com/users/japaol/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t10:17:53z","updated_at":"2013-11-04t10:17:53z","body":"@jacekz it's that php manual says, i haven't tested on linux"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27675643","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27675643","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27675643,"user":{"login":"jacekz","id":4143712,"avatar_url":"https://gravatar.com/avatar/e65df528b7329c8acc027fd9cbc852e4?d=https%3a%2f%2fidenticons.github.com%2f6c773e5435907698bc57d3addbdc6b40.png&r=x","gravatar_id":"e65df528b7329c8acc027fd9cbc852e4","url":"https://api.github.com/users/jacekz","html_url":"https://github.com/jacekz","followers_url":"https://api.github.com/users/jacekz/followers","following_url":"https://api.github.com/users/jacekz/following{/other_user}","gists_url":"https://api.github.com/users/jacekz/gists{/gist_id}","starred_url":"https://api.github.com/users/jacekz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacekz/subscriptions","organizations_url":"https://api.github.com/users/jacekz/orgs","repos_url":"https://api.github.com/users/jacekz/repos","events_url":"https://api.github.com/users/jacekz/events{/privacy}","received_events_url":"https://api.github.com/users/jacekz/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t10:26:50z","updated_at":"2013-11-04t10:27:12z","body":"@japaol, if someone else would test it on linux (and confirm my observation), there will be opportunity to backport this fix to stable5. am i right? :)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27678297","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-27678297","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":27678297,"user":{"login":"japaol","id":5690341,"avatar_url":"https://gravatar.com/avatar/86d681599f54a665e4b68f126f5f5f54?d=https%3a%2f%2fidenticons.github.com%2f98e14b83c87cf7ae2bfbf3e01ea7a25a.png&r=x","gravatar_id":"86d681599f54a665e4b68f126f5f5f54","url":"https://api.github.com/users/japaol","html_url":"https://github.com/japaol","followers_url":"https://api.github.com/users/japaol/followers","following_url":"https://api.github.com/users/japaol/following{/other_user}","gists_url":"https://api.github.com/users/japaol/gists{/gist_id}","starred_url":"https://api.github.com/users/japaol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/japaol/subscriptions","organizations_url":"https://api.github.com/users/japaol/orgs","repos_url":"https://api.github.com/users/japaol/repos","events_url":"https://api.github.com/users/japaol/events{/privacy}","received_events_url":"https://api.github.com/users/japaol/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t11:15:56z","updated_at":"2013-11-04t11:15:56z","body":"@jacekz sorry, but i don't have access to a linux machine to test it right now."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29053582","html_url":"https://github.com/owncloud/core/pull/5602#issuecomment-29053582","issue_url":"https://api.github.com/repos/owncloud/core/issues/5602","id":29053582,"user":{"login":"jacekz","id":4143712,"avatar_url":"https://gravatar.com/avatar/e65df528b7329c8acc027fd9cbc852e4?d=https%3a%2f%2fidenticons.github.com%2f6c773e5435907698bc57d3addbdc6b40.png&r=x","gravatar_id":"e65df528b7329c8acc027fd9cbc852e4","url":"https://api.github.com/users/jacekz","html_url":"https://github.com/jacekz","followers_url":"https://api.github.com/users/jacekz/followers","following_url":"https://api.github.com/users/jacekz/following{/other_user}","gists_url":"https://api.github.com/users/jacekz/gists{/gist_id}","starred_url":"https://api.github.com/users/jacekz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacekz/subscriptions","organizations_url":"https://api.github.com/users/jacekz/orgs","repos_url":"https://api.github.com/users/jacekz/repos","events_url":"https://api.github.com/users/jacekz/events{/privacy}","received_events_url":"https://api.github.com/users/jacekz/received_events","type":"user","site_admin":false},"created_at":"2013-11-22t07:33:45z","updated_at":"2013-11-22t07:33:45z","body":"does commit https://github.com/owncloud/core/commit/64b484e32e2d16736a8bacc86980026deefcf42a fix this issue in stable5 ?"}]