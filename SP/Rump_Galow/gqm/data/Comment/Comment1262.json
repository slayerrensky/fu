[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12790813","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-12790813","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":12790813,"user":{"login":"warcode","id":1085298,"avatar_url":"https://gravatar.com/avatar/7c1be76d29177dfd395e60f7496306fd?d=https%3a%2f%2fidenticons.github.com%2f449f4ec59a82d5c354012cdaa9596af9.png&r=x","gravatar_id":"7c1be76d29177dfd395e60f7496306fd","url":"https://api.github.com/users/warcode","html_url":"https://github.com/warcode","followers_url":"https://api.github.com/users/warcode/followers","following_url":"https://api.github.com/users/warcode/following{/other_user}","gists_url":"https://api.github.com/users/warcode/gists{/gist_id}","starred_url":"https://api.github.com/users/warcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/warcode/subscriptions","organizations_url":"https://api.github.com/users/warcode/orgs","repos_url":"https://api.github.com/users/warcode/repos","events_url":"https://api.github.com/users/warcode/events{/privacy}","received_events_url":"https://api.github.com/users/warcode/received_events","type":"user","site_admin":false},"created_at":"2013-01-28t16:42:53z","updated_at":"2013-01-28t16:42:53z","body":"this has also happened to me.\r\n\r\nserver: debian 6, nginx/1.2.6, owncloud 4.5.6\r\nsync client: windows 7 / 1.2.0\r\n\r\nsync client has been uploading a 1.3 gig folder and has spent at least 10 gigs of bandwidth. cpu usage on the server has been slowly rising to 60% and instantly went back down to normal levels after shutting off the only connected sync client."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14285379","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-14285379","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":14285379,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-03-01t11:44:23z","updated_at":"2013-03-01t11:44:23z","body":"maybe a client issue, can you check it out @dragotin @danimo "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14285536","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-14285536","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":14285536,"user":{"login":"danimo","id":1315934,"avatar_url":"https://gravatar.com/avatar/9467db6bbeaac42484603e0788aec39d?d=https%3a%2f%2fidenticons.github.com%2f296ab09e5a31dcf357f4d4784453db99.png&r=x","gravatar_id":"9467db6bbeaac42484603e0788aec39d","url":"https://api.github.com/users/danimo","html_url":"https://github.com/danimo","followers_url":"https://api.github.com/users/danimo/followers","following_url":"https://api.github.com/users/danimo/following{/other_user}","gists_url":"https://api.github.com/users/danimo/gists{/gist_id}","starred_url":"https://api.github.com/users/danimo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danimo/subscriptions","organizations_url":"https://api.github.com/users/danimo/orgs","repos_url":"https://api.github.com/users/danimo/repos","events_url":"https://api.github.com/users/danimo/events{/privacy}","received_events_url":"https://api.github.com/users/danimo/received_events","type":"user","site_admin":false},"created_at":"2013-03-01t11:49:18z","updated_at":"2013-03-01t11:49:18z","body":"known issue, see owncloud/mirall#362 and owncloud/mirall#173."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/14286459","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-14286459","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":14286459,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2013-03-01t12:12:15z","updated_at":"2013-03-01t12:12:15z","body":"ok, closing this then. @kunitake @warcode client issues can be reported at http://github.com/owncloud/mirall/issues"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17423050","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-17423050","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":17423050,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-05-03t23:10:25z","updated_at":"2013-05-03t23:10:25z","body":"@icewind1991 do we actually check the free space before saving the file? i think we could fail earlier with a matching error message ..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17423433","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-17423433","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":17423433,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-05-03t23:24:49z","updated_at":"2013-05-03t23:24:49z","body":"looking at https://github.com/owncloud/core/blob/master/lib/connector/sabre/file.php#l51 we seem to just try writing the file. i might have overseen a pre write proxy in the filecache or a put file contents implementation that does a free quota check, or a place somewhere in the sabred connector where the free space is checked, but the open issues in the mirall client tell my guts otherwise. @icewind1991 where would you put such a check? are the pre proxies meant for that? what should they be used for anyway? i would put them into the views put file contents. then again there might be a good reason not to have such low level apis do sanity checks ... @bartv2 @deepdiver1975  @mtgap @karlitschek opinions? "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17424530","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-17424530","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":17424530,"user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"created_at":"2013-05-04t00:12:05z","updated_at":"2013-05-04t00:12:05z","body":"quota proxy check ran here: https://github.com/owncloud/core/blob/master/lib/files/view.php#l265"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/17436588","html_url":"https://github.com/owncloud/core/issues/1262#issuecomment-17436588","issue_url":"https://api.github.com/repos/owncloud/core/issues/1262","id":17436588,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2013-05-04t16:02:37z","updated_at":"2013-05-04t16:02:37z","body":"just had a look at the connector. quota is actually handled by https://github.com/owncloud/core/blob/master/lib/connector/sabre/quotaplugin.php#l45 for webdav uploads. i can now confirm that the server definitely returns a \"507 insufficient storage\" after the whole file is uploaded. this is a limitation of php < 5.4 which introduced http://php.net/manual/en/session.upload-progress.php but i have not been able to get any session information when using put in webdav, $_post and $_request are completely empty. maybe because every request starts a new session when using cadaver to put files ..."}]