[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16657495","html_url":"https://github.com/owncloud/core/issues/3027#issuecomment-16657495","issue_url":"https://api.github.com/repos/owncloud/core/issues/3027","id":16657495,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-04-19t14:52:12z","updated_at":"2013-04-19t14:52:12z","body":"1. reopen this in https://github.com/owncloud/apps as the media app lives there.\r\n2. make a pull request with this, as you already seem to fix this. if you need help with this you may ask me in #owncloud-dev\r\n\r\nclosing this, because it belongs into the apps repo."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16658959","html_url":"https://github.com/owncloud/core/issues/3027#issuecomment-16658959","issue_url":"https://api.github.com/repos/owncloud/core/issues/3027","id":16658959,"user":{"login":"vicdeo","id":991300,"avatar_url":"https://gravatar.com/avatar/57b8c1e26d502d5414e4b2fb875d2994?d=https%3a%2f%2fidenticons.github.com%2fe8357fefe8bad5436de368fa5a419461.png&r=x","gravatar_id":"57b8c1e26d502d5414e4b2fb875d2994","url":"https://api.github.com/users/vicdeo","html_url":"https://github.com/vicdeo","followers_url":"https://api.github.com/users/vicdeo/followers","following_url":"https://api.github.com/users/vicdeo/following{/other_user}","gists_url":"https://api.github.com/users/vicdeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vicdeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicdeo/subscriptions","organizations_url":"https://api.github.com/users/vicdeo/orgs","repos_url":"https://api.github.com/users/vicdeo/repos","events_url":"https://api.github.com/users/vicdeo/events{/privacy}","received_events_url":"https://api.github.com/users/vicdeo/received_events","type":"user","site_admin":false},"created_at":"2013-04-19t15:11:55z","updated_at":"2013-04-19t15:11:55z","body":"don't think this solution to be acceptable since it's mysql-specific"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16659547","html_url":"https://github.com/owncloud/core/issues/3027#issuecomment-16659547","issue_url":"https://api.github.com/repos/owncloud/core/issues/3027","id":16659547,"user":{"login":"kondou-ger","id":1410802,"avatar_url":"https://gravatar.com/avatar/917dab919ae812f8252b2f501c514b19?d=https%3a%2f%2fidenticons.github.com%2fd07869ed62cb1b7f88b731956ab913ee.png&r=x","gravatar_id":"917dab919ae812f8252b2f501c514b19","url":"https://api.github.com/users/kondou-ger","html_url":"https://github.com/kondou-ger","followers_url":"https://api.github.com/users/kondou-ger/followers","following_url":"https://api.github.com/users/kondou-ger/following{/other_user}","gists_url":"https://api.github.com/users/kondou-ger/gists{/gist_id}","starred_url":"https://api.github.com/users/kondou-ger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kondou-ger/subscriptions","organizations_url":"https://api.github.com/users/kondou-ger/orgs","repos_url":"https://api.github.com/users/kondou-ger/repos","events_url":"https://api.github.com/users/kondou-ger/events{/privacy}","received_events_url":"https://api.github.com/users/kondou-ger/received_events","type":"user","site_admin":false},"created_at":"2013-04-19t15:22:19z","updated_at":"2013-04-19t15:28:55z","body":"@vicdeo it does work in postgresql:\r\n```\r\npostgres=# select (now() - interval '600' second);\r\n           ?column?            \r\n-------------------------------\r\n 2013-04-19 17:07:50.054918+02\r\n(1 line)\r\n```\r\n\r\nbut `now()` doesn't exist in sqlite …\r\n```\r\nsqlite> select now();\r\nerror: no such function: now\r\n```\r\n\r\n`date('now')` does though … sql, the most standardized language ever …\r\n\r\n\r\nthe query in question is made for mysql whatsoever, see the not existing quotes around `$interval`, combined with `now()` not existing in sqlite."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16661238","html_url":"https://github.com/owncloud/core/issues/3027#issuecomment-16661238","issue_url":"https://api.github.com/repos/owncloud/core/issues/3027","id":16661238,"user":{"login":"evil2000","id":697191,"avatar_url":"https://gravatar.com/avatar/d87ecd1d4af33f0c9d917e86fc0077a3?d=https%3a%2f%2fidenticons.github.com%2ff19cda2baa6a1669331d38a5996ee88b.png&r=x","gravatar_id":"d87ecd1d4af33f0c9d917e86fc0077a3","url":"https://api.github.com/users/evil2000","html_url":"https://github.com/evil2000","followers_url":"https://api.github.com/users/evil2000/followers","following_url":"https://api.github.com/users/evil2000/following{/other_user}","gists_url":"https://api.github.com/users/evil2000/gists{/gist_id}","starred_url":"https://api.github.com/users/evil2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evil2000/subscriptions","organizations_url":"https://api.github.com/users/evil2000/orgs","repos_url":"https://api.github.com/users/evil2000/repos","events_url":"https://api.github.com/users/evil2000/events{/privacy}","received_events_url":"https://api.github.com/users/evil2000/received_events","type":"user","site_admin":false},"created_at":"2013-04-19t15:51:05z","updated_at":"2013-04-19t15:51:05z","body":"i think the most flexible way is to calculate the timestamp outside the sql.\r\n```\r\n\"delete from `*prefix*media_sessions` where `start`< '\".(time()-$interval).\"' \"\r\n```\r\nwould this work in postgresql, mysql and sqlite?\r\n\r\nor even better: store the unix timestamp not as datetime format in the table but as bigint?\r\n\r\nwhat do you think about this solution?"}]