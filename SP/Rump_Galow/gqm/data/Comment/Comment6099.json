[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29461089","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29461089","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29461089,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t12:42:30z","updated_at":"2013-11-28t12:42:30z","body":"does it mean that before this fix shares weren't deleted when a file had multiple versions and that file was obliterated (with its versions) from the trash ?\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29461726","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29461726","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29461726,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t12:55:20z","updated_at":"2013-11-28t12:55:20z","body":"yes, before this fix and after our fix yesterday shares weren't removed from the shares table.\r\nsame is true for versions, but this only happened if the trash bin was disabled because otherwise the trash takes care of the version. that's probably the reasons why nobody noticed yet"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29469222","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29469222","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29469222,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t15:08:02z","updated_at":"2013-11-28t15:08:02z","body":"@schiesbn there seem to be test errors related to testdelete"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29475599","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29475599","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29475599,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t16:54:12z","updated_at":"2013-11-28t16:54:12z","body":"tested steps:\r\n1. starting with a newly setup owncloud and default apps\r\n2. disable trashbin app\r\n3. make sure the versions app and sharing apps are enabled\r\n4. create a text file\r\n5. edit text file with \"contents one\", save\r\n6. edit text file with \"contents two\", save\r\n7. edit text file with \"contents three\", save\r\n8. close editor\r\n9. check versions in dropdown (ouch, no versions previews any more :frowning:)\r\n10. create user2\r\n11. share text file with user2\r\n12. delete text file and check the logs\r\n\r\nbefore the fix: no warnings ? (except one about thumbnails, probably unrelated)\r\nafter the fix: no warnings ? (except one about thumbnails, probably unrelated)\r\n\r\n@schiesbn am i testing this correctly ?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29475702","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29475702","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29475702,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t16:56:03z","updated_at":"2013-11-28t16:56:03z","body":"raised https://github.com/owncloud/core/issues/6105 for the missing previews."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29476464","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29476464","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29476464,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t17:10:50z","updated_at":"2013-11-28t17:10:50z","body":"- i kept the trash bin enabled.\r\n- created a file\r\n- shared it with user2\r\n- log-in as user2\r\n- delete as user2 the shared file\r\n\r\nwithout the patch i got 9 times the warning. with the patch all warnings are gone."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29478327","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29478327","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29478327,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t17:51:43z","updated_at":"2013-11-28t17:51:43z","body":"ok i retested with your hints and i got warnings before the fix, and they were gone after the fix.\r\ni'll look at the code again, now that i understand the case better."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29479287","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29479287","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29479287,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t18:14:47z","updated_at":"2013-11-28t18:14:47z","body":"you may want to fix the code constructs mentioned above. aside from that, here is my :+1: "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29479316","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29479316","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29479316,"user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t18:15:33z","updated_at":"2013-11-28t18:15:33z","body":"tests failed:\r\n    test\\files\\cache\\updater::testdeletewithmountpoints\r\n    failed asserting that '52976ae19ff87' is not equal to <string:52976ae19ff87>.\r\n\r\nwhaaa !?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29479775","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29479775","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29479775,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t18:27:40z","updated_at":"2013-11-28t18:27:40z","body":"tests should pass now, my previews fix was broken... for correctfolder() i should have gone back to $path instead of $internalpath... let's see what jenkins says"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29483128","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29483128","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29483128,"user":{"login":"owncloud-bot","id":2709266,"avatar_url":"https://gravatar.com/avatar/6e9c466b35bb113112f7401859d614f6?d=https%3a%2f%2fidenticons.github.com%2ffb9254ba3a207c96653361df97807914.png&r=x","gravatar_id":"6e9c466b35bb113112f7401859d614f6","url":"https://api.github.com/users/owncloud-bot","html_url":"https://github.com/owncloud-bot","followers_url":"https://api.github.com/users/owncloud-bot/followers","following_url":"https://api.github.com/users/owncloud-bot/following{/other_user}","gists_url":"https://api.github.com/users/owncloud-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/owncloud-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owncloud-bot/subscriptions","organizations_url":"https://api.github.com/users/owncloud-bot/orgs","repos_url":"https://api.github.com/users/owncloud-bot/repos","events_url":"https://api.github.com/users/owncloud-bot/events{/privacy}","received_events_url":"https://api.github.com/users/owncloud-bot/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t20:04:45z","updated_at":"2013-11-28t20:04:45z","body":"test passed.\nrefer to this link for build results: https://ci.owncloud.org/job/pull-request-analyser/2207/"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/29485060","html_url":"https://github.com/owncloud/core/pull/6099#issuecomment-29485060","issue_url":"https://api.github.com/repos/owncloud/core/issues/6099","id":29485060,"user":{"login":"kabum","id":245432,"avatar_url":"https://gravatar.com/avatar/a1dea19f88f38ea0b5b5b4d19d5b3107?d=https%3a%2f%2fidenticons.github.com%2f53d8cbb3dbc087a02951dec47438ccdf.png&r=x","gravatar_id":"a1dea19f88f38ea0b5b5b4d19d5b3107","url":"https://api.github.com/users/kabum","html_url":"https://github.com/kabum","followers_url":"https://api.github.com/users/kabum/followers","following_url":"https://api.github.com/users/kabum/following{/other_user}","gists_url":"https://api.github.com/users/kabum/gists{/gist_id}","starred_url":"https://api.github.com/users/kabum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabum/subscriptions","organizations_url":"https://api.github.com/users/kabum/orgs","repos_url":"https://api.github.com/users/kabum/repos","events_url":"https://api.github.com/users/kabum/events{/privacy}","received_events_url":"https://api.github.com/users/kabum/received_events","type":"user","site_admin":false},"created_at":"2013-11-28t20:59:21z","updated_at":"2013-11-28t20:59:21z","body":"i tested like @schiesbn stated and the messages are gone. :+1:"}]