[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10990055","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-10990055","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":10990055,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-04t09:39:09z","updated_at":"2012-12-04t09:39:09z","body":"@jancborchardt can you please answer this? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11015173","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11015173","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11015173,"user":{"login":"andryxy","id":1040136,"avatar_url":"https://gravatar.com/avatar/337d43a042cd8ae859983837f19889c9?d=https%3a%2f%2fidenticons.github.com%2f2dda3e3b2ff1ad339c885b40d6e6e3a8.png&r=x","gravatar_id":"337d43a042cd8ae859983837f19889c9","url":"https://api.github.com/users/andryxy","html_url":"https://github.com/andryxy","followers_url":"https://api.github.com/users/andryxy/followers","following_url":"https://api.github.com/users/andryxy/following{/other_user}","gists_url":"https://api.github.com/users/andryxy/gists{/gist_id}","starred_url":"https://api.github.com/users/andryxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andryxy/subscriptions","organizations_url":"https://api.github.com/users/andryxy/orgs","repos_url":"https://api.github.com/users/andryxy/repos","events_url":"https://api.github.com/users/andryxy/events{/privacy}","received_events_url":"https://api.github.com/users/andryxy/received_events","type":"user","site_admin":false},"created_at":"2012-12-04t20:52:23z","updated_at":"2012-12-04t20:52:23z","body":"same problem in owncloud 4.5.4"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11022618","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11022618","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11022618,"user":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false},"created_at":"2012-12-05t00:39:20z","updated_at":"2012-12-05t00:39:20z","body":"itâ€™s not intended, good catch! the containing directory (also further levels up) should get the modified date propagated.\r\n\r\nmaybe @icewind1991 knows how that would need to be done?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11038756","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11038756","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11038756,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-05t11:59:34z","updated_at":"2012-12-05t11:59:34z","body":"is this happening only when uploading via external applications (android, iphone, desktop client, webdav in general)?\r\nis the behavior the same when uploading via the web? "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11039631","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11039631","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11039631,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2012-12-05t12:30:28z","updated_at":"2012-12-05t12:30:28z","body":"the change in mtime of the folders is done in the underlying filesystem, we don't change the mtime of the folder ourself"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11044057","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11044057","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11044057,"user":{"login":"andryxy","id":1040136,"avatar_url":"https://gravatar.com/avatar/337d43a042cd8ae859983837f19889c9?d=https%3a%2f%2fidenticons.github.com%2f2dda3e3b2ff1ad339c885b40d6e6e3a8.png&r=x","gravatar_id":"337d43a042cd8ae859983837f19889c9","url":"https://api.github.com/users/andryxy","html_url":"https://github.com/andryxy","followers_url":"https://api.github.com/users/andryxy/followers","following_url":"https://api.github.com/users/andryxy/following{/other_user}","gists_url":"https://api.github.com/users/andryxy/gists{/gist_id}","starred_url":"https://api.github.com/users/andryxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andryxy/subscriptions","organizations_url":"https://api.github.com/users/andryxy/orgs","repos_url":"https://api.github.com/users/andryxy/repos","events_url":"https://api.github.com/users/andryxy/events{/privacy}","received_events_url":"https://api.github.com/users/andryxy/received_events","type":"user","site_admin":false},"created_at":"2012-12-05t14:51:59z","updated_at":"2012-12-05t14:51:59z","body":"@deepdiver1975 it's happening when uploading via web too.\r\n@icewind1991 i don't know if i correctly understand but if you can't change the mtime of up-lying filesystems in normal way, i have an idea. changing the mtime is possible when you rename the folder in something different and rename it back immediately. or maybe creat a dummy-file in every top-level and delet it immediately. it's not a neat solution but it should work..."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11048818","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11048818","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11048818,"user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"created_at":"2012-12-05t16:36:48z","updated_at":"2012-12-05t16:36:48z","body":"i just tested this on my development environment. the mtine of the parent folders gets updated properly in the filesystem. but owncloud uses the mtime stored in the db. there, the parent folders mtime does not get updated when a file is written. when refreshing the filecache the file will have the correct mtime again. @icewind1991 will you adress this in the new filecache?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11068303","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11068303","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11068303,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2012-12-06t00:39:00z","updated_at":"2012-12-06t00:39:00z","body":"it should already change the mtime of the folder when it's accessed again since it will detect that the folder has changed.\r\n\r\nbut that doesn't solve the main issue here that changes don't propagate up the filesystem three more then one step, and even the first step is only done if a file is created, renamed or removed. this is because the mtime of a folder is the mtime of the inode in the filesystem that lists the content of the folder. as far as i know this is the case on all operating system.\r\n\r\nwhile it is possible to implement the mtime propagation inside owncloud itself it's not as simple as it might seem. only changing the mtime in the filecache can cause inconsistencies between the cache and the underlying file system. changing the mtime of the underlying filesystem (using touch()) only works on the local filesystem and working around the touch() limitations on external file system would cause more overhead then i'm willing to have."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11447057","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11447057","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11447057,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-17t15:54:29z","updated_at":"2012-12-17t15:54:29z","body":"@icewind1991 the file size is already propagated up the tree - updating the mtime within this recursive function should do the job - right?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11447365","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11447365","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11447365,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2012-12-17t16:01:11z","updated_at":"2012-12-17t16:01:11z","body":"with sizes it doesn't give any issues since folders don't have a proper size in the first place so it doesn't have to change anything in the underlying filesystem.\r\n\r\nchanging mtime in the cache but not on the underlying filesystem has a potential of breaking things"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11447979","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11447979","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11447979,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-17t16:16:42z","updated_at":"2012-12-17t16:16:42z","body":"hmmm - but the underlying filesystem is only accessed via the owncloud code. \r\nwe can store the right mtime in the database and use only that one.\r\nmight that be a solution?\r\n\r\nif we have to rely on the filesystem at this point maybe we simply have to state that we cannot fulfill this requirement.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/11649590","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-11649590","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":11649590,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2012-12-23t19:25:15z","updated_at":"2012-12-23t19:25:15z","body":" > hmmm - but the underlying filesystem is only accessed via the owncloud code. \r\n\r\nwe have no way of knowing that, keep track of outside changes to the filesystem is hard enough as it is atm.\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16522783","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-16522783","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":16522783,"user":{"login":"bartv2","id":2227877,"avatar_url":"https://gravatar.com/avatar/c2d86a0a66a4be2c904e24034e842f44?d=https%3a%2f%2fidenticons.github.com%2f05e8b1362feb118a386dfd282b20fb84.png&r=x","gravatar_id":"c2d86a0a66a4be2c904e24034e842f44","url":"https://api.github.com/users/bartv2","html_url":"https://github.com/bartv2","followers_url":"https://api.github.com/users/bartv2/followers","following_url":"https://api.github.com/users/bartv2/following{/other_user}","gists_url":"https://api.github.com/users/bartv2/gists{/gist_id}","starred_url":"https://api.github.com/users/bartv2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bartv2/subscriptions","organizations_url":"https://api.github.com/users/bartv2/orgs","repos_url":"https://api.github.com/users/bartv2/repos","events_url":"https://api.github.com/users/bartv2/events{/privacy}","received_events_url":"https://api.github.com/users/bartv2/received_events","type":"user","site_admin":false},"created_at":"2013-04-17t18:10:14z","updated_at":"2013-04-17t18:10:14z","body":"@icewind1991 isn't this now fixed in oc5?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/16542482","html_url":"https://github.com/owncloud/core/issues/698#issuecomment-16542482","issue_url":"https://api.github.com/repos/owncloud/core/issues/698","id":16542482,"user":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"created_at":"2013-04-17t23:44:49z","updated_at":"2013-04-17t23:44:49z","body":"i think it is.\r\n\r\nplease reopen if this is still an issue with oc5"}]