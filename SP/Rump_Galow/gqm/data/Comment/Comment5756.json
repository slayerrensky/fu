[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28205039","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28205039","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28205039,"user":{"login":"wshadow","id":958589,"avatar_url":"https://gravatar.com/avatar/fbd5799c00f9bdd0e7a41ca574f970d5?d=https%3a%2f%2fidenticons.github.com%2ff6b4038ca1e6ccbf45676bc1112e3eed.png&r=x","gravatar_id":"fbd5799c00f9bdd0e7a41ca574f970d5","url":"https://api.github.com/users/wshadow","html_url":"https://github.com/wshadow","followers_url":"https://api.github.com/users/wshadow/followers","following_url":"https://api.github.com/users/wshadow/following{/other_user}","gists_url":"https://api.github.com/users/wshadow/gists{/gist_id}","starred_url":"https://api.github.com/users/wshadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wshadow/subscriptions","organizations_url":"https://api.github.com/users/wshadow/orgs","repos_url":"https://api.github.com/users/wshadow/repos","events_url":"https://api.github.com/users/wshadow/events{/privacy}","received_events_url":"https://api.github.com/users/wshadow/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t14:46:29z","updated_at":"2013-11-11t14:46:29z","body":"i don't think sqlite is the problem here. i did some reading on this, and the issue seems to be the support for myisam (if using mysql). we had some discussions about this since oc3. you can look into the mailinglist archives for more information on this.\r\n\r\nyour question is still valid though. and i'd also like to see owncloud use more powerful database features."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28210459","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28210459","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28210459,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t15:47:13z","updated_at":"2013-11-11t15:47:13z","body":"one of the design goal of owncloud is to run on as many systems as possible. we don't plan to break compatibility just for fun. and i'm still waiting to see an application that can't be implemented in a cross database compatible way"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28211365","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28211365","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28211365,"user":{"login":"vicdeo","id":991300,"avatar_url":"https://gravatar.com/avatar/57b8c1e26d502d5414e4b2fb875d2994?d=https%3a%2f%2fidenticons.github.com%2fe8357fefe8bad5436de368fa5a419461.png&r=x","gravatar_id":"57b8c1e26d502d5414e4b2fb875d2994","url":"https://api.github.com/users/vicdeo","html_url":"https://github.com/vicdeo","followers_url":"https://api.github.com/users/vicdeo/followers","following_url":"https://api.github.com/users/vicdeo/following{/other_user}","gists_url":"https://api.github.com/users/vicdeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vicdeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicdeo/subscriptions","organizations_url":"https://api.github.com/users/vicdeo/orgs","repos_url":"https://api.github.com/users/vicdeo/repos","events_url":"https://api.github.com/users/vicdeo/events{/privacy}","received_events_url":"https://api.github.com/users/vicdeo/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t15:56:13z","updated_at":"2013-11-11t15:56:13z","body":"@karlitschek foreign keys are supported with sqlite since 3.6.19 released on 14 october 2009 \r\nfor reference: php 5.3.2 was released on 4 march 2010 so i wonder too why we can't use cascade delete/update instead of  juggling with sql inside php"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28212170","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28212170","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28212170,"user":{"login":"wshadow","id":958589,"avatar_url":"https://gravatar.com/avatar/fbd5799c00f9bdd0e7a41ca574f970d5?d=https%3a%2f%2fidenticons.github.com%2ff6b4038ca1e6ccbf45676bc1112e3eed.png&r=x","gravatar_id":"fbd5799c00f9bdd0e7a41ca574f970d5","url":"https://api.github.com/users/wshadow","html_url":"https://github.com/wshadow","followers_url":"https://api.github.com/users/wshadow/followers","following_url":"https://api.github.com/users/wshadow/following{/other_user}","gists_url":"https://api.github.com/users/wshadow/gists{/gist_id}","starred_url":"https://api.github.com/users/wshadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wshadow/subscriptions","organizations_url":"https://api.github.com/users/wshadow/orgs","repos_url":"https://api.github.com/users/wshadow/repos","events_url":"https://api.github.com/users/wshadow/events{/privacy}","received_events_url":"https://api.github.com/users/wshadow/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t16:04:26z","updated_at":"2013-11-11t16:04:26z","body":"@vicdeo the problem is mysql - see http://dev.mysql.com/doc/refman/5.0/en/ansi-diff-foreign-keys.html\r\n\r\n@karlitschek what do you think about apps requiring some specific software/backends. e.g. allowing the app to check which database is used and refusing to be installed if it is incompatible? (similar to requiring an oc-core version)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28212289","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28212289","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28212289,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t16:05:26z","updated_at":"2013-11-11t16:05:26z","body":"@vicdeo we have to check if this version is shipped with all distributions that we support. it also has to work in all databases that we support in a completely compatible way. and it has to be supported by mdb2 and doctrine so that schema migration works always. and we would need tests for that. we already have more then enough unhappy users with broken databases and this woudn't make things easier. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28212382","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28212382","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28212382,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t16:06:29z","updated_at":"2013-11-11t16:06:29z","body":"@wshadow this would be a bad idea. we have to stay compatible."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28216279","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28216279","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28216279,"user":{"login":"vicdeo","id":991300,"avatar_url":"https://gravatar.com/avatar/57b8c1e26d502d5414e4b2fb875d2994?d=https%3a%2f%2fidenticons.github.com%2fe8357fefe8bad5436de368fa5a419461.png&r=x","gravatar_id":"57b8c1e26d502d5414e4b2fb875d2994","url":"https://api.github.com/users/vicdeo","html_url":"https://github.com/vicdeo","followers_url":"https://api.github.com/users/vicdeo/followers","following_url":"https://api.github.com/users/vicdeo/following{/other_user}","gists_url":"https://api.github.com/users/vicdeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vicdeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicdeo/subscriptions","organizations_url":"https://api.github.com/users/vicdeo/orgs","repos_url":"https://api.github.com/users/vicdeo/repos","events_url":"https://api.github.com/users/vicdeo/events{/privacy}","received_events_url":"https://api.github.com/users/vicdeo/received_events","type":"user","site_admin":false},"created_at":"2013-11-11t16:45:02z","updated_at":"2013-11-11t16:46:28z","body":"in reality foreign keys are designed to keep the database data consistent by means of db engine itself. just as it is stated by the link provided by @wshadow above:\r\n>assuming proper design of the relationships, foreign key constraints make it more difficult for a programmer to introduce an inconsistency into the database.\r\n\r\n@wshadow  so, mandatory innodb storage is considered to be a real stumbling block  for using constrains, correct?\r\n\r\n@karlitschek i probably would never say something like 'we need to reimplement everything using a technology x' but rather \"let's consider some x in future as it is safe and time-saving\"\r\n\r\nfrom my pov it is worth to be discussed for oc7 where mdb backward compatibility is  not essential (iirc we don't support direct migrations among nonsequential versions anyway)\r\ndoctrine supports them among a lot of other powerful things we are not using like collections and orm. \r\ngood old ubuntu 10.04 has sqlite 3.6.22"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28276249","html_url":"https://github.com/owncloud/core/issues/5756#issuecomment-28276249","issue_url":"https://api.github.com/repos/owncloud/core/issues/5756","id":28276249,"user":{"login":"wshadow","id":958589,"avatar_url":"https://gravatar.com/avatar/fbd5799c00f9bdd0e7a41ca574f970d5?d=https%3a%2f%2fidenticons.github.com%2ff6b4038ca1e6ccbf45676bc1112e3eed.png&r=x","gravatar_id":"fbd5799c00f9bdd0e7a41ca574f970d5","url":"https://api.github.com/users/wshadow","html_url":"https://github.com/wshadow","followers_url":"https://api.github.com/users/wshadow/followers","following_url":"https://api.github.com/users/wshadow/following{/other_user}","gists_url":"https://api.github.com/users/wshadow/gists{/gist_id}","starred_url":"https://api.github.com/users/wshadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wshadow/subscriptions","organizations_url":"https://api.github.com/users/wshadow/orgs","repos_url":"https://api.github.com/users/wshadow/repos","events_url":"https://api.github.com/users/wshadow/events{/privacy}","received_events_url":"https://api.github.com/users/wshadow/received_events","type":"user","site_admin":false},"created_at":"2013-11-12t08:33:16z","updated_at":"2013-11-12t08:33:16z","body":"@vicdeo you are correct. so far we allow any storage engine to be used in mysql. if we start using (and relying upon) foreign keys we force admins to switch to innodb as their storage engine, if they use mysql.\r\nin other words: if you have code that makes use of foreign keys and expects that the db supports this feature, but you still use mysql without innodb, you risk to get a corrupted database. note that this does not necessarily mean, that the code does not function anymore. it may just clutter up your db.\r\n\r\nif there is serious interest in discussing this further i'd be willing to write up some pros and cons about using foreign keys in owncloud (-apps). however, this will take a bit, as i have some other projects that i'm working on atm."}]