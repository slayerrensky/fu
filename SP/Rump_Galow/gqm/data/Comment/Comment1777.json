[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13824743","html_url":"https://github.com/owncloud/core/issues/1777#issuecomment-13824743","issue_url":"https://api.github.com/repos/owncloud/core/issues/1777","id":13824743,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-20t10:18:54z","updated_at":"2013-02-20t10:18:54z","body":"@dragotin thanks for your bug report. this was already discussed in the initiall merge request.\r\n\r\ndoing a rename has several drawbacks in other areas, see my summary here: #1785 \r\n\r\nfurther a rename would solve the problem only for the local storage. if the user uses external storages or even if he mount the trash bin on his server to another hard disk / partition, than there wouldn't be any difference between a rename and copy operation."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13825001","html_url":"https://github.com/owncloud/core/issues/1777#issuecomment-13825001","issue_url":"https://api.github.com/repos/owncloud/core/issues/1777","id":13825001,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-02-20t10:24:43z","updated_at":"2013-02-20t10:24:43z","body":"i see. still i think its a showstopper for oc5 because copying gives a very bad user experience. having the trash locally on the same partition should be the case most users, so they should benefit of a rename."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13825562","html_url":"https://github.com/owncloud/core/issues/1777#issuecomment-13825562","issue_url":"https://api.github.com/repos/owncloud/core/issues/1777","id":13825562,"user":{"login":"danimo","id":1315934,"avatar_url":"https://gravatar.com/avatar/9467db6bbeaac42484603e0788aec39d?d=https%3a%2f%2fidenticons.github.com%2f296ab09e5a31dcf357f4d4784453db99.png&r=x","gravatar_id":"9467db6bbeaac42484603e0788aec39d","url":"https://api.github.com/users/danimo","html_url":"https://github.com/danimo","followers_url":"https://api.github.com/users/danimo/followers","following_url":"https://api.github.com/users/danimo/following{/other_user}","gists_url":"https://api.github.com/users/danimo/gists{/gist_id}","starred_url":"https://api.github.com/users/danimo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danimo/subscriptions","organizations_url":"https://api.github.com/users/danimo/orgs","repos_url":"https://api.github.com/users/danimo/repos","events_url":"https://api.github.com/users/danimo/events{/privacy}","received_events_url":"https://api.github.com/users/danimo/received_events","type":"user","site_admin":false},"created_at":"2013-02-20t10:39:16z","updated_at":"2013-02-20t10:39:16z","body":"also, does this code kick in via webdav, i.e. does a file deleted via webdav end up in the trash? things like this could cause timeouts that people are reporting sometimes."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13826136","html_url":"https://github.com/owncloud/core/issues/1777#issuecomment-13826136","issue_url":"https://api.github.com/repos/owncloud/core/issues/1777","id":13826136,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-02-20t10:55:10z","updated_at":"2013-02-20t10:55:10z","body":"@danimo yes, this code gets executed for every delete operation, no matter where it comes from\r\n\r\nunfortunately just switching from copy to rename will lead to other issues as you can see in my comment at #1785. so this is not really an option.\r\n\r\ni wonder about the webdav timeout. the delete operation will still be much faster than the initial upload. are timeouts differently handled for delete operation than for uploads? probably yes because for upload it is a steady stream and delete is just one \"command\"?\r\n\r\nnot directly related to this issue but i still wonder: do we also have timeout issues if files are moved from one folder to another if both folders are on different storages? i could think about similar problems in this case.\r\n\r\nbtw. similar problems can also happen if visioning is enabled. obviously there we also use \"copy\" to create a new versions before a file gets uploaded.\r\n\r\nas more as i think about it, it seems to be a much bigger problem than just the question if we use 'copy' or 'rename' for the trash bin."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/13826473","html_url":"https://github.com/owncloud/core/issues/1777#issuecomment-13826473","issue_url":"https://api.github.com/repos/owncloud/core/issues/1777","id":13826473,"user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"created_at":"2013-02-20t11:03:26z","updated_at":"2013-02-20t11:04:05z","body":"yes. the problem is that we do this kind of operations synchronous. that's never advisable for filesystem operations influencing user feedback which we have. "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/15060262","html_url":"https://github.com/owncloud/core/issues/1777#issuecomment-15060262","issue_url":"https://api.github.com/repos/owncloud/core/issues/1777","id":15060262,"user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"created_at":"2013-03-18t15:17:16z","updated_at":"2013-03-18t15:17:16z","body":"unfortunately it is not that easy, neither in php in general nor in this special case because the copy operation needs to be completed before the file gets deleted."}]