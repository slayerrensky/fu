[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10808931","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10808931","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10808931,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2012-11-28t16:21:59z","updated_at":"2012-11-28t16:21:59z","body":"for which os?\r\n@msrex could you have a look?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10814430","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10814430","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10814430,"user":{"login":"acoward","id":2910508,"avatar_url":"https://gravatar.com/avatar/4dfefcb75787b4599f932f6c8e2db59c?d=https%3a%2f%2fidenticons.github.com%2f42ed7ee8642cd70a79a0554690698725.png&r=x","gravatar_id":"4dfefcb75787b4599f932f6c8e2db59c","url":"https://api.github.com/users/acoward","html_url":"https://github.com/acoward","followers_url":"https://api.github.com/users/acoward/followers","following_url":"https://api.github.com/users/acoward/following{/other_user}","gists_url":"https://api.github.com/users/acoward/gists{/gist_id}","starred_url":"https://api.github.com/users/acoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoward/subscriptions","organizations_url":"https://api.github.com/users/acoward/orgs","repos_url":"https://api.github.com/users/acoward/repos","events_url":"https://api.github.com/users/acoward/events{/privacy}","received_events_url":"https://api.github.com/users/acoward/received_events","type":"user","site_admin":false},"created_at":"2012-11-28t18:26:40z","updated_at":"2012-11-28t18:26:40z","body":"sorry. owncloud 4.5.2/3, the rpm for rhel6 from the opensuse build service."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10864615","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10864615","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10864615,"user":{"login":"acoward","id":2910508,"avatar_url":"https://gravatar.com/avatar/4dfefcb75787b4599f932f6c8e2db59c?d=https%3a%2f%2fidenticons.github.com%2f42ed7ee8642cd70a79a0554690698725.png&r=x","gravatar_id":"4dfefcb75787b4599f932f6c8e2db59c","url":"https://api.github.com/users/acoward","html_url":"https://github.com/acoward","followers_url":"https://api.github.com/users/acoward/followers","following_url":"https://api.github.com/users/acoward/following{/other_user}","gists_url":"https://api.github.com/users/acoward/gists{/gist_id}","starred_url":"https://api.github.com/users/acoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoward/subscriptions","organizations_url":"https://api.github.com/users/acoward/orgs","repos_url":"https://api.github.com/users/acoward/repos","events_url":"https://api.github.com/users/acoward/events{/privacy}","received_events_url":"https://api.github.com/users/acoward/received_events","type":"user","site_admin":false},"created_at":"2012-11-29t20:21:39z","updated_at":"2012-11-29t20:21:39z","body":"sorry, i have to disagree. this is not about an enhancement. it's a bug. and quite trivial to fix.\r\n\r\nthe selinux support in the packages is impressive, and way better than what i've seen from others. just fix these minor glitches."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10948155","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10948155","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10948155,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t10:39:55z","updated_at":"2012-12-03t10:39:55z","body":"@acoward can you please tell me what needs to be fixed? \r\ni have no clue on rhel/rpm/selinux - but i have access to the obs and can fix it - with your support.\r\nthx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10949801","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10949801","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10949801,"user":{"login":"acoward","id":2910508,"avatar_url":"https://gravatar.com/avatar/4dfefcb75787b4599f932f6c8e2db59c?d=https%3a%2f%2fidenticons.github.com%2f42ed7ee8642cd70a79a0554690698725.png&r=x","gravatar_id":"4dfefcb75787b4599f932f6c8e2db59c","url":"https://api.github.com/users/acoward","html_url":"https://github.com/acoward","followers_url":"https://api.github.com/users/acoward/followers","following_url":"https://api.github.com/users/acoward/following{/other_user}","gists_url":"https://api.github.com/users/acoward/gists{/gist_id}","starred_url":"https://api.github.com/users/acoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoward/subscriptions","organizations_url":"https://api.github.com/users/acoward/orgs","repos_url":"https://api.github.com/users/acoward/repos","events_url":"https://api.github.com/users/acoward/events{/privacy}","received_events_url":"https://api.github.com/users/acoward/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t11:41:32z","updated_at":"2012-12-03t11:41:32z","body":"please find a patch to apply to the spec file below. rpm updates packages by first installing the new version, and then uninstalling the old one. thus, the last scriptlet that runs is %postun in the old package. the variable $1 evaluates to the number of installed instances of the package after the transaction - that's 1 if the package is being updated, and 0 if the package is removed. only in the latter case, we want the selinux configuration to forget about  the correct labelling of owncloud related files.\r\n\r\nthe second change is really just inserting the missing \"grep\" (compare the other two similar lines ).\r\n\r\nhth\r\n\r\n--- owncloud.spec.orig  2012-12-03 12:28:23.343584410 +0100\r\n+++ owncloud.spec       2012-12-03 12:29:53.310580019 +0100\r\n@@ -144,11 +144,12 @@\r\n \r\n \r\n %postun\r\n-# remove selinux owncloud label\r\n+# remove selinux owncloud label - but only if the package is being removed\r\n+[ $1 -eq 0 ] || exit 0\r\n %if 0%{?fedora_version} || 0%{?rhel_version} || 0%{?centos_version}\r\n if [ -x /usr/sbin/sestatus ] ; then \\\r\n   sestatus | grep '^current.*enforcing' > /dev/null && {\r\n-    semanage fcontext -l | '/var/www/owncloud/data' && {\r\n+    semanage fcontext -l | grep '/var/www/owncloud/data' && {\r\n       semanage fcontext -d -t httpd_sys_rw_content_t '/var/www/html/owncloud/data'\r\n       restorecon '/var/www/html/owncloud/data'\r\n     }\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10953305","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10953305","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10953305,"user":{"login":"msrex","id":2625328,"avatar_url":"https://gravatar.com/avatar/24738c0908dad69b83af9cc534bcca80?d=https%3a%2f%2fidenticons.github.com%2ff02814cb1648a9552774c0f932619e91.png&r=x","gravatar_id":"24738c0908dad69b83af9cc534bcca80","url":"https://api.github.com/users/msrex","html_url":"https://github.com/msrex","followers_url":"https://api.github.com/users/msrex/followers","following_url":"https://api.github.com/users/msrex/following{/other_user}","gists_url":"https://api.github.com/users/msrex/gists{/gist_id}","starred_url":"https://api.github.com/users/msrex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msrex/subscriptions","organizations_url":"https://api.github.com/users/msrex/orgs","repos_url":"https://api.github.com/users/msrex/repos","events_url":"https://api.github.com/users/msrex/events{/privacy}","received_events_url":"https://api.github.com/users/msrex/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t13:52:56z","updated_at":"2012-12-03t13:52:56z","body":"packages are updated and building now. sorry about the delay and the grep :-|"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10953571","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10953571","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10953571,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t14:00:30z","updated_at":"2012-12-03t14:00:30z","body":"@acoward @msrex thanks a lot!"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/10958184","html_url":"https://github.com/owncloud/core/issues/611#issuecomment-10958184","issue_url":"https://api.github.com/repos/owncloud/core/issues/611","id":10958184,"user":{"login":"acoward","id":2910508,"avatar_url":"https://gravatar.com/avatar/4dfefcb75787b4599f932f6c8e2db59c?d=https%3a%2f%2fidenticons.github.com%2f42ed7ee8642cd70a79a0554690698725.png&r=x","gravatar_id":"4dfefcb75787b4599f932f6c8e2db59c","url":"https://api.github.com/users/acoward","html_url":"https://github.com/acoward","followers_url":"https://api.github.com/users/acoward/followers","following_url":"https://api.github.com/users/acoward/following{/other_user}","gists_url":"https://api.github.com/users/acoward/gists{/gist_id}","starred_url":"https://api.github.com/users/acoward/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoward/subscriptions","organizations_url":"https://api.github.com/users/acoward/orgs","repos_url":"https://api.github.com/users/acoward/repos","events_url":"https://api.github.com/users/acoward/events{/privacy}","received_events_url":"https://api.github.com/users/acoward/received_events","type":"user","site_admin":false},"created_at":"2012-12-03t15:48:35z","updated_at":"2012-12-03t15:48:35z","body":"just downloaded 4.5.4-66.1, and it looks ok :)\r\n\r\nthanks for fixing this so quickly!"}]