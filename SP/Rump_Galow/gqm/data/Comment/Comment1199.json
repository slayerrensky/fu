[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12344032","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-12344032","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":12344032,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-01-16t22:27:26z","updated_at":"2013-01-16t22:27:26z","body":"we miss some information - please use our issue template:\r\nhttps://github.com/owncloud/core/blob/master/issue_template.md\r\n\r\n\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12344054","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-12344054","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":12344054,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-01-16t22:27:55z","updated_at":"2013-01-16t22:27:55z","body":"according to litmus test suite locking works - i just executed litmus against a stable45 setup:\r\n```\r\n$ litmus -k  http://localhost/owncloud-phpstorm/remote.php/webdav/ admin admin\r\n-> running `basic':\r\n 0. init.................. pass\r\n 1. begin................. pass\r\n 2. options............... pass\r\n 3. put_get............... pass\r\n 4. put_get_utf8_segment.. pass\r\n 5. put_no_parent......... pass\r\n 6. mkcol_over_plain...... pass\r\n 7. delete................ pass\r\n 8. delete_null........... pass\r\n 9. delete_fragment....... pass\r\n10. mkcol................. pass\r\n11. mkcol_again........... pass\r\n12. delete_coll........... pass\r\n13. mkcol_no_parent....... pass\r\n14. mkcol_with_body....... pass\r\n15. finish................ pass\r\n<- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0%\r\n-> running `copymove':\r\n 0. init.................. pass\r\n 1. begin................. pass\r\n 2. copy_init............. pass\r\n 3. copy_simple........... pass\r\n 4. copy_overwrite........ pass\r\n 5. copy_nodestcoll....... pass\r\n 6. copy_cleanup.......... pass\r\n 7. copy_coll............. pass\r\n 8. copy_shallow.......... pass\r\n 9. move.................. pass\r\n10. move_coll............. pass\r\n11. move_cleanup.......... pass\r\n12. finish................ pass\r\n<- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0%\r\n-> running `props':\r\n 0. init.................. pass\r\n 1. begin................. pass\r\n 2. propfind_invalid...... pass\r\n 3. propfind_invalid2..... pass\r\n 4. propfind_d0........... pass\r\n 5. propinit.............. pass\r\n 6. propset............... pass\r\n 7. propget............... pass\r\n 8. propextended.......... pass\r\n 9. propmove.............. pass\r\n10. propget............... pass\r\n11. propdeletes........... pass\r\n12. propget............... pass\r\n13. propreplace........... pass\r\n14. propget............... pass\r\n15. propnullns............ pass\r\n16. propget............... pass\r\n17. prophighunicode....... pass\r\n18. propget............... pass\r\n19. propremoveset......... pass\r\n20. propget............... pass\r\n21. propsetremove......... pass\r\n22. propget............... pass\r\n23. propvalnspace......... pass\r\n24. propwformed........... pass\r\n25. propinit.............. pass\r\n26. propmanyns............ pass\r\n27. propget............... pass\r\n28. propcleanup........... pass\r\n29. finish................ pass\r\n<- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0%\r\n-> running `locks':\r\n 0. init.................. pass\r\n 1. begin................. pass\r\n 2. options............... pass\r\n 3. precond............... pass\r\n 4. init_locks............ pass\r\n 5. put................... pass\r\n 6. lock_excl............. pass\r\n 7. discover.............. pass\r\n 8. refresh............... pass\r\n 9. notowner_modify....... pass\r\n10. notowner_lock......... pass\r\n11. owner_modify.......... pass\r\n12. notowner_modify....... pass\r\n13. notowner_lock......... pass\r\n14. copy.................. pass\r\n15. cond_put.............. pass\r\n16. fail_cond_put......... pass\r\n17. cond_put_with_not..... pass\r\n18. cond_put_corrupt_token pass\r\n19. complex_cond_put...... pass\r\n20. fail_complex_cond_put. pass\r\n21. unlock................ pass\r\n22. fail_cond_put_unlocked pass\r\n23. lock_shared........... pass\r\n24. notowner_modify....... pass\r\n25. notowner_lock......... pass\r\n26. owner_modify.......... pass\r\n27. double_sharedlock..... pass\r\n28. notowner_modify....... pass\r\n29. notowner_lock......... pass\r\n30. unlock................ pass\r\n31. prep_collection....... pass\r\n32. lock_collection....... pass\r\n33. owner_modify.......... pass\r\n34. notowner_modify....... pass\r\n35. refresh............... pass\r\n36. indirect_refresh...... pass\r\n37. unlock................ pass\r\n38. unmapped_lock......... pass\r\n39. unlock................ pass\r\n40. finish................ pass\r\n<- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0%\r\n-> running `http':\r\n 0. init.................. pass\r\n 1. begin................. pass\r\n 2. expect100............. pass\r\n 3. finish................ pass\r\n<- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/12716323","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-12716323","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":12716323,"user":{"login":"feinom","id":439885,"avatar_url":"https://gravatar.com/avatar/30e03b8310d9be4ec073fcde596559c6?d=https%3a%2f%2fidenticons.github.com%2fa64cbb8581316359fdb75ffe72ab7326.png&r=x","gravatar_id":"30e03b8310d9be4ec073fcde596559c6","url":"https://api.github.com/users/feinom","html_url":"https://github.com/feinom","followers_url":"https://api.github.com/users/feinom/followers","following_url":"https://api.github.com/users/feinom/following{/other_user}","gists_url":"https://api.github.com/users/feinom/gists{/gist_id}","starred_url":"https://api.github.com/users/feinom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feinom/subscriptions","organizations_url":"https://api.github.com/users/feinom/orgs","repos_url":"https://api.github.com/users/feinom/repos","events_url":"https://api.github.com/users/feinom/events{/privacy}","received_events_url":"https://api.github.com/users/feinom/received_events","type":"user","site_admin":false},"created_at":"2013-01-25t19:20:36z","updated_at":"2013-01-25t19:22:05z","body":"hi,\r\n\r\ni got some more information about this from the developer of webdrive. since my last post, we have upgraded to owncloud 4.5.6. we're running this on centos 6.3 with apache, and a mysql cluster. php version is 5.3.3.\r\n\r\ni haven't found anything of interest in the apache logs or the owncloud logs. here is the new information i've received from the webdrive developer:\r\n\r\n```\r\nyour server returns some information however the critical lock token is not returned on subsequent propfinds. it is returned on the initial lock response but then the subsequent propfind's does not return it. i have never seen a dav server respond this way.\r\n\r\nhere is the initial response to the lock command from your server\r\n\r\n\r\n01/25/2013 18:44:43.297 (000.014) 0c78 [w:] <d:prop xmlns:d=\"dav:\">\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:lockdiscovery>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:activelock>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:lockscope>\r\n01/25/2013 18:44:43.297 (000.014) 0c78 [w:] <d:exclusive/>\r\n01/25/2013 18:44:43.297 (000.016) 0c78 [w:] </d:lockscope>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:locktype>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:write/>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] </d:locktype>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:lockroot>\r\n01/25/2013 18:44:43.297 (000.014) 0c78 [w:] <d:href>/remote.php/webdav/newglavin.docx</d:href>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] </d:lockroot>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:depth>infinity</d:depth>\r\n01/25/2013 18:44:43.297 (000.014) 0c78 [w:] <d:timeout>second-300</d:timeout>\r\n01/25/2013 18:44:43.297 (000.013) 0c78 [w:] <d:locktoken>\r\n01/25/2013 18:44:43.298 (000.017) 0c78 [w:] <d:href>opaquelocktoken:13909727-67a6-4722-8a53-d93ff7ac6ba0</d:href>\r\n01/25/2013 18:44:43.298 (000.014) 0c78 [w:] </d:locktoken>\r\n01/25/2013 18:44:43.298 (000.013) 0c78 [w:] <d:owner>john (webdrive) share=0</d:owner>\r\n01/25/2013 18:44:43.298 (000.014) 0c78 [w:] </d:activelock>\r\n01/25/2013 18:44:43.298 (000.014) 0c78 [w:] </d:lockdiscovery>\r\n01/25/2013 18:44:43.298 (000.013) 0c78 [w:] </d:prop>\r\n\r\n\r\nthis is good and contains the opaquelocktoken, the next propfind returns\r\n\r\n\r\n01/25/2013 18:44:54.969 (000.016) 0c7c [w:] <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n01/25/2013 18:44:54.969 (000.014) 0c7c [w:] <d:multistatus xmlns:d=\"dav:\" xmlns:s=\"http://sabredav.org/ns\"><d:response><d:hr\r\n01/25/2013 18:44:54.969 (000.014) 0c7c [w:] ef>/remote.php/webdav/newglavin.docx</d:href><d:propstat><d:prop><d:lockdiscover\r\n01/25/2013 18:44:54.969 (000.014) 0c7c [w:] y><d:activelock xmlns:d=\"dav:\"><d:lockscope><d:exclusive/></d:lockscope><d:lockt\r\n01/25/2013 18:44:54.969 (000.014) 0c7c [w:] ype><d:write/></d:locktype><d:lockroot><d:href>/remote.php/webdav/newglavin.docx\r\n01/25/2013 18:44:54.970 (000.020) 0c7c [w:] </d:href></d:lockroot><d:depth>infinity</d:depth><d:timeout>second-300</d:timeou\r\n01/25/2013 18:44:54.970 (000.014) 0c7c [w:] t><d:owner>john (webdrive) share=0</d:owner></d:activelock></d:lockdiscovery></d\r\n01/25/2013 18:44:54.970 (000.014) 0c7c [w:] :prop><d:status>http/1.1 200 ok</d:status></d:propstat><d:propstat><d:prop><d:cr\r\n01/25/2013 18:44:54.970 (000.014) 0c7c [w:] eatedby/></d:prop><d:status>http/1.1 404 not found</d:status></d:propstat></d:re\r\n01/25/2013 18:44:54.970 (000.013) 0c7c [w:] sponse></d:multistatus>\r\n\r\nwhich seems to contain everything except the lock token.\r\n```\r\n\r\nso the initial propfind seems to be returning everything, but for some reason the next one doesn't include the lock token. the expected behavior is that it should.\r\n\r\nsteps to reproduce is simply to lock a file and then issue several propfinds on it afterwards.\r\n\r\ni hope i managed to include all relevant information here now :-)"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21032165","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-21032165","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":21032165,"user":{"login":"hanibal8","id":4659029,"avatar_url":"https://gravatar.com/avatar/34a2130c96228f1d17fa3de96a839777?d=https%3a%2f%2fidenticons.github.com%2f5562e1007c7889b943a42ef7b0e5a283.png&r=x","gravatar_id":"34a2130c96228f1d17fa3de96a839777","url":"https://api.github.com/users/hanibal8","html_url":"https://github.com/hanibal8","followers_url":"https://api.github.com/users/hanibal8/followers","following_url":"https://api.github.com/users/hanibal8/following{/other_user}","gists_url":"https://api.github.com/users/hanibal8/gists{/gist_id}","starred_url":"https://api.github.com/users/hanibal8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanibal8/subscriptions","organizations_url":"https://api.github.com/users/hanibal8/orgs","repos_url":"https://api.github.com/users/hanibal8/repos","events_url":"https://api.github.com/users/hanibal8/events{/privacy}","received_events_url":"https://api.github.com/users/hanibal8/received_events","type":"user","site_admin":false},"created_at":"2013-07-16t09:59:54z","updated_at":"2013-07-16t09:59:54z","body":"@deepdiver1975: can you tell me if there are any news about this problem? do you think it can be solved for oc5?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21096615","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-21096615","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":21096615,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-07-17t07:34:54z","updated_at":"2013-07-17t07:34:54z","body":"@mtrichards do we have any experience regarding webdrive? does it work?\r\n@icewind1991 do you have further knowledge about dav locking? thx"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26517098","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-26517098","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":26517098,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-10-17t15:26:57z","updated_at":"2013-10-17t15:26:57z","body":"@deepdiver1975 is this fixed with your latest locking work? "},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/26517701","html_url":"https://github.com/owncloud/core/issues/1199#issuecomment-26517701","issue_url":"https://api.github.com/repos/owncloud/core/issues/1199","id":26517701,"user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"created_at":"2013-10-17t15:32:58z","updated_at":"2013-10-17t15:32:58z","body":"@karlitschek hard to tell - #5342 fixes webdav lock for shared files/folders.\r\nthis issue is related to non shared files/folders."}]