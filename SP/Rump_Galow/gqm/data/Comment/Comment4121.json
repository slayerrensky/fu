[{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21511912","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-21511912","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":21511912,"user":{"login":"k4k","id":524645,"avatar_url":"https://gravatar.com/avatar/d2370393332e368172e3c4010c60583e?d=https%3a%2f%2fidenticons.github.com%2f43224029fd81008db71a32b3d37e8c30.png&r=x","gravatar_id":"d2370393332e368172e3c4010c60583e","url":"https://api.github.com/users/k4k","html_url":"https://github.com/k4k","followers_url":"https://api.github.com/users/k4k/followers","following_url":"https://api.github.com/users/k4k/following{/other_user}","gists_url":"https://api.github.com/users/k4k/gists{/gist_id}","starred_url":"https://api.github.com/users/k4k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4k/subscriptions","organizations_url":"https://api.github.com/users/k4k/orgs","repos_url":"https://api.github.com/users/k4k/repos","events_url":"https://api.github.com/users/k4k/events{/privacy}","received_events_url":"https://api.github.com/users/k4k/received_events","type":"user","site_admin":false},"created_at":"2013-07-24t20:01:42z","updated_at":"2013-07-24t20:02:24z","body":"i recently filed a bug similar to this in which i believe i've narrowed this down to the use of ldaps on v.5.0.7 and up (#4186). could you please provide additional information using the template found [here](https://raw.github.com/owncloud/core/master/issue_template.md) and let us know if you are using ldap or ldaps.\r\n\r\nif you able to, as well, try reverting to 4.5.13 and updating to 5.0.6 instead of 5.0.9 and let me know if ldap works in that version or not.\r\n"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21627148","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-21627148","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":21627148,"user":{"login":"froster","id":2796462,"avatar_url":"https://gravatar.com/avatar/0d78f148043ce50561280dfaa026729e?d=https%3a%2f%2fidenticons.github.com%2fd8722fcd7ecd220acc22442a94b48f49.png&r=x","gravatar_id":"0d78f148043ce50561280dfaa026729e","url":"https://api.github.com/users/froster","html_url":"https://github.com/froster","followers_url":"https://api.github.com/users/froster/followers","following_url":"https://api.github.com/users/froster/following{/other_user}","gists_url":"https://api.github.com/users/froster/gists{/gist_id}","starred_url":"https://api.github.com/users/froster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/froster/subscriptions","organizations_url":"https://api.github.com/users/froster/orgs","repos_url":"https://api.github.com/users/froster/repos","events_url":"https://api.github.com/users/froster/events{/privacy}","received_events_url":"https://api.github.com/users/froster/received_events","type":"user","site_admin":false},"created_at":"2013-07-26t15:15:28z","updated_at":"2013-07-26t15:15:28z","body":"hi,\r\n\r\ni can triy i made a clone of the system. do you now where to get 5.0.6 rpm for suse?\r\n\r\nregards"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/21654933","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-21654933","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":21654933,"user":{"login":"k4k","id":524645,"avatar_url":"https://gravatar.com/avatar/d2370393332e368172e3c4010c60583e?d=https%3a%2f%2fidenticons.github.com%2f43224029fd81008db71a32b3d37e8c30.png&r=x","gravatar_id":"d2370393332e368172e3c4010c60583e","url":"https://api.github.com/users/k4k","html_url":"https://github.com/k4k","followers_url":"https://api.github.com/users/k4k/followers","following_url":"https://api.github.com/users/k4k/following{/other_user}","gists_url":"https://api.github.com/users/k4k/gists{/gist_id}","starred_url":"https://api.github.com/users/k4k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k4k/subscriptions","organizations_url":"https://api.github.com/users/k4k/orgs","repos_url":"https://api.github.com/users/k4k/repos","events_url":"https://api.github.com/users/k4k/events{/privacy}","received_events_url":"https://api.github.com/users/k4k/received_events","type":"user","site_admin":false},"created_at":"2013-07-26t23:51:56z","updated_at":"2013-07-26t23:51:56z","body":"i do not as i've got it installed using the tar.bz2 file.\r\n\r\nare you using ldap or ldaps? what port are you using?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27168325","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27168325","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27168325,"user":{"login":"aurelien-","id":5786300,"avatar_url":"https://gravatar.com/avatar/e4900cde1063d586a9d53721f6508604?d=https%3a%2f%2fidenticons.github.com%2f9753476af10a4d36cb91da7aff59e125.png&r=x","gravatar_id":"e4900cde1063d586a9d53721f6508604","url":"https://api.github.com/users/aurelien-","html_url":"https://github.com/aurelien-","followers_url":"https://api.github.com/users/aurelien-/followers","following_url":"https://api.github.com/users/aurelien-/following{/other_user}","gists_url":"https://api.github.com/users/aurelien-/gists{/gist_id}","starred_url":"https://api.github.com/users/aurelien-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aurelien-/subscriptions","organizations_url":"https://api.github.com/users/aurelien-/orgs","repos_url":"https://api.github.com/users/aurelien-/repos","events_url":"https://api.github.com/users/aurelien-/events{/privacy}","received_events_url":"https://api.github.com/users/aurelien-/received_events","type":"user","site_admin":false},"created_at":"2013-10-27t12:46:24z","updated_at":"2013-10-27t13:19:54z","body":"hello,\r\n\r\ni have the same problem...\r\n\r\nso, i tried to change the ldap ttl to -1 as seen on different posts. i was able to login again for some time but then it appends again (no more able to login). \r\nnote: my thunderbird calendar and contacts by caldav and cardav can't login too.\r\n\r\ni tried to desactivate the encryption, to delete the user folder and name in owncloud user interface but same behavior.\r\n\r\ni also force in the ldap parameters the name to display to my ldap cn because when i was using the default owncloud uuid, this uuid was sometime displayed instead of the \"name to display\" at first login.\r\n\r\nconcerning the web log and the htaccesstest.txt file (see below). this file doesn't exist in my system, however according to http://forum.owncloud.org/viewtopic.php?f=4&t=3047 this is just a test file...\r\n\r\n###\r\n\r\nworkaround: it seems by forcing owncloud to use a different uuid make things working. i forced owncloud to use as internal username attribute the ldap uid.\r\n\r\ninternal username attribute: uid\r\n\r\ni did the change last night. my calendar and contact seems to still synchronize today. i tried to login this morning but it failed at first attempt. the time to fill this form and then try again to connect to my owncloud webpage and it was working. don't know if i was still dreaming ;) (i set back last night the default ldap ttl value 600).\r\n\r\nhowever i still get the \"app\":\"core\",\"message\":\"can't get cache storage, user not logged in\",\"level\":3 in owncloud log.\r\n\r\n###\r\n\r\nso, i guess it is a problem related to the default uuid of owncloud.\r\n\r\nbest.\r\n\r\n### expected behaviour\r\nldap user should be able to log\r\n\r\n### actual behaviour\r\nldap can't login after a few minute once created in ldap and detected by owncloud\r\n\r\n### steps to reproduce\r\n1. fresh install of owncloud 5.0.12 from downloaded tarball\r\n2. set ldap parameters - test works fine\r\n3. first connect with one ldap user, it works for some time\r\n4. then after some time connection if refused.\r\n\r\n### server configuration\r\noperating system:\r\nlinux nas 3.2.0-4-686-pae #1 smp debian 3.2.46-1+deb7u1 i686 gnu/linux\r\nweb server: \r\napache 2.2.22-13\r\ndatabase:\r\nmysql  ver 14.14 distrib 5.5.31, for debian-linux-gnu (i686) using readline 6.2\r\nphp version:\r\nhp 5.4.4-14+deb7u4\r\nowncloud version:\r\n5.0.12\r\n### client configuration\r\nbrowser:\r\nfirefox 24.0\r\noperating system:\r\nmacos\r\n### logs\r\n#### web server error log\r\n[sun oct 27 13:01:26 2013] [error] [client ###.###.###.###] client denied by server configuration: ###/owncloud/data/htaccesstest.txt\r\ninsert your webserver log here\r\n-\r\n#### owncloud log (data/owncloud.log)\r\n\"app\":\"core\",\"message\":\"can't get cache storage, user not logged in\",\"level\":3\r\ninsert your owncloud log here\r\n-\r\n\r\n\r\nnote1: concerning the \"name to display\": i just reconnect to my owncloud server, no problem but the name to display is back to the user uid and not the cn as configured in my ldap settings.\r\n\r\nnote2: i just tried now to disconnect and to connect and login failed, tried again and login failed. i waited for 10mins and then i was able to login back. the name to display is now the uid and no more the cn."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27168351","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27168351","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27168351,"user":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false},"created_at":"2013-10-27t12:48:39z","updated_at":"2013-10-27t12:48:39z","body":"@blizzz do you have an idea?"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27201370","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27201370","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27201370,"user":{"login":"aurelien-","id":5786300,"avatar_url":"https://gravatar.com/avatar/e4900cde1063d586a9d53721f6508604?d=https%3a%2f%2fidenticons.github.com%2f9753476af10a4d36cb91da7aff59e125.png&r=x","gravatar_id":"e4900cde1063d586a9d53721f6508604","url":"https://api.github.com/users/aurelien-","html_url":"https://github.com/aurelien-","followers_url":"https://api.github.com/users/aurelien-/followers","following_url":"https://api.github.com/users/aurelien-/following{/other_user}","gists_url":"https://api.github.com/users/aurelien-/gists{/gist_id}","starred_url":"https://api.github.com/users/aurelien-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aurelien-/subscriptions","organizations_url":"https://api.github.com/users/aurelien-/orgs","repos_url":"https://api.github.com/users/aurelien-/repos","events_url":"https://api.github.com/users/aurelien-/events{/privacy}","received_events_url":"https://api.github.com/users/aurelien-/received_events","type":"user","site_admin":false},"created_at":"2013-10-28t10:33:17z","updated_at":"2013-10-28t12:42:55z","body":"hello,\r\n\r\ni just retested and i guess there is a critical security bug.  i have been able to log to my user account with the admin credential...\r\n\r\nthis morning, i was again unable to log in with an ldap account. i log in with the administrator account, i checked the list of users and saw the field \"display name\" empty. thinking about a bug in the cache and how information are refreshed from the ldap server, i set the ldap ttl to 1, the idea was to reset the cache and force connection to the ldap server. indeed, going back to the users, the field \"display name\" was now correct.\r\n\r\ni log off from the administrator account and try with the one of my user. log in failed. i log back with the administrator account, and surprise i was log with my user account and not the administrator one !!!\r\n\r\ni did some tests and with two successive log in tentatives, the second one succeed to connect with the first tentative user login name.\r\n\r\nexample: if i use the administrator account at first tentative i will be log in to my administrator account, but if i try with a ldap user account first, log fails, then if i try with tha admin account, log succeed with the user account.\r\n\r\nhope it can help,\r\n\r\nbest."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27207544","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27207544","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27207544,"user":{"login":"aurelien-","id":5786300,"avatar_url":"https://gravatar.com/avatar/e4900cde1063d586a9d53721f6508604?d=https%3a%2f%2fidenticons.github.com%2f9753476af10a4d36cb91da7aff59e125.png&r=x","gravatar_id":"e4900cde1063d586a9d53721f6508604","url":"https://api.github.com/users/aurelien-","html_url":"https://github.com/aurelien-","followers_url":"https://api.github.com/users/aurelien-/followers","following_url":"https://api.github.com/users/aurelien-/following{/other_user}","gists_url":"https://api.github.com/users/aurelien-/gists{/gist_id}","starred_url":"https://api.github.com/users/aurelien-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aurelien-/subscriptions","organizations_url":"https://api.github.com/users/aurelien-/orgs","repos_url":"https://api.github.com/users/aurelien-/repos","events_url":"https://api.github.com/users/aurelien-/events{/privacy}","received_events_url":"https://api.github.com/users/aurelien-/received_events","type":"user","site_admin":false},"created_at":"2013-10-28t12:39:19z","updated_at":"2013-10-28t12:43:50z","body":"i did some new tries. to make it work if i can't connect with a ldap user account, i connect as admin and change the ldap ttl making the cache to be flushed. from here, if i disconnect from admin and try to connect with my user account it won't work. however, if after setting the ttl i go to the users page and then disconnect from admin account and try to connect with my user account it will work.\r\n\r\ni guess that after flushing the cache, going to the users page force update of ldap information and allows normal connection until cache expire."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27680867","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27680867","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27680867,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t12:12:52z","updated_at":"2013-11-04t12:16:08z","body":"i have an idea what could cause it, and if i am right it will be fixed with 5.0.13.  could you please either try the 5.0.13 rc [1] or when 5.0.13 is released? thx.\r\n\r\n[1] https://download.owncloud.org/community/testing/owncloud-5.0.13rc1.tar.bz2"},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27684440","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27684440","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27684440,"user":{"login":"aurelien-","id":5786300,"avatar_url":"https://gravatar.com/avatar/e4900cde1063d586a9d53721f6508604?d=https%3a%2f%2fidenticons.github.com%2f9753476af10a4d36cb91da7aff59e125.png&r=x","gravatar_id":"e4900cde1063d586a9d53721f6508604","url":"https://api.github.com/users/aurelien-","html_url":"https://github.com/aurelien-","followers_url":"https://api.github.com/users/aurelien-/followers","following_url":"https://api.github.com/users/aurelien-/following{/other_user}","gists_url":"https://api.github.com/users/aurelien-/gists{/gist_id}","starred_url":"https://api.github.com/users/aurelien-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aurelien-/subscriptions","organizations_url":"https://api.github.com/users/aurelien-/orgs","repos_url":"https://api.github.com/users/aurelien-/repos","events_url":"https://api.github.com/users/aurelien-/events{/privacy}","received_events_url":"https://api.github.com/users/aurelien-/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t13:28:24z","updated_at":"2013-11-04t13:28:24z","body":"thanks for your answer, i will try once the release is available. by the way, should it be fixed also in owncloud 6 ? i think i will upgrade directly to it."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/27684652","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-27684652","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":27684652,"user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"created_at":"2013-11-04t13:32:22z","updated_at":"2013-11-04t13:32:22z","body":"those fixes got also into master, so future owncloud 6, yes."},{"url":"https://api.github.com/repos/owncloud/core/issues/comments/28081109","html_url":"https://github.com/owncloud/core/issues/4121#issuecomment-28081109","issue_url":"https://api.github.com/repos/owncloud/core/issues/4121","id":28081109,"user":{"login":"aurelien-","id":5786300,"avatar_url":"https://gravatar.com/avatar/e4900cde1063d586a9d53721f6508604?d=https%3a%2f%2fidenticons.github.com%2f9753476af10a4d36cb91da7aff59e125.png&r=x","gravatar_id":"e4900cde1063d586a9d53721f6508604","url":"https://api.github.com/users/aurelien-","html_url":"https://github.com/aurelien-","followers_url":"https://api.github.com/users/aurelien-/followers","following_url":"https://api.github.com/users/aurelien-/following{/other_user}","gists_url":"https://api.github.com/users/aurelien-/gists{/gist_id}","starred_url":"https://api.github.com/users/aurelien-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aurelien-/subscriptions","organizations_url":"https://api.github.com/users/aurelien-/orgs","repos_url":"https://api.github.com/users/aurelien-/repos","events_url":"https://api.github.com/users/aurelien-/events{/privacy}","received_events_url":"https://api.github.com/users/aurelien-/received_events","type":"user","site_admin":false},"created_at":"2013-11-08t17:29:22z","updated_at":"2013-11-08t17:29:22z","body":"it seems it is now fixed. works on 5.0.13 after trying different settings of ldap cache timeout.\r\n\r\nthanks !"}]