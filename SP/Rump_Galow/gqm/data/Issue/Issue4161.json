{"url":"https://api.github.com/repos/owncloud/core/issues/4161","labels_url":"https://api.github.com/repos/owncloud/core/issues/4161/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4161/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4161/events","html_url":"https://github.com/owncloud/core/issues/4161","id":17073964,"number":4161,"title":"encryption breaks compatibility to goodreader","user":{"login":"mattti","id":5068489,"avatar_url":"https://gravatar.com/avatar/a47bf07f6aba2377d11cf9fe1f6929e7?d=https%3a%2f%2fidenticons.github.com%2f90f70f369055c1bb49bf2adf24318cb8.png&r=x","gravatar_id":"a47bf07f6aba2377d11cf9fe1f6929e7","url":"https://api.github.com/users/mattti","html_url":"https://github.com/mattti","followers_url":"https://api.github.com/users/mattti/followers","following_url":"https://api.github.com/users/mattti/following{/other_user}","gists_url":"https://api.github.com/users/mattti/gists{/gist_id}","starred_url":"https://api.github.com/users/mattti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattti/subscriptions","organizations_url":"https://api.github.com/users/mattti/orgs","repos_url":"https://api.github.com/users/mattti/repos","events_url":"https://api.github.com/users/mattti/events{/privacy}","received_events_url":"https://api.github.com/users/mattti/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles_encryption","name":"app:files_encryption","color":"02d7e1"}],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-07-22t22:19:46z","updated_at":"2013-07-28t21:12:52z","closed_at":"2013-07-28t21:12:52z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nsync with goodreader, already synced files should't be synced again\r\n\r\n### actual behaviour\r\nwith every sync, goodreader redownloads all files\r\n\r\n### steps to reproduce\r\nsee explanation below\r\n\r\n### server configuration\r\noperating system:  ubuntu 13.04\r\n\r\nweb server: apache/2.2.22\r\n\r\ndatabase: mysql 5.5.31\r\n\r\nphp version: 5.4.9\r\n\r\nowncloud version: 5.0.9\r\n\r\ni use the encryption app on oc 5.0.9.\r\ni was trying to sync my files with the ipad reader goodreader via webdav.\r\ni noticed, that goodreader always redownloaded all files, even though they were in sync.\r\n\r\nafter looking at the logs, i found out that goodreader compares the file sizes of the files. the oc server sends the file size of the encrypted file rather than the decrypted one. goodreader compares the size to the previously synced decrypted file, finds a difference (of course) and tags the file for sync.\r\n\r\ni wouldn't call this a bug per se, but at least it breaks compatibility to goodreader.\r\n","closed_by":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false}}