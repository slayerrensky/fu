{"url":"https://api.github.com/repos/owncloud/core/issues/753","labels_url":"https://api.github.com/repos/owncloud/core/issues/753/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/753/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/753/events","html_url":"https://github.com/owncloud/core/pull/753","id":9060365,"number":753,"title":"fixing files external in stable45 - fixes #290","user":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":19,"created_at":"2012-12-06t17:04:31z","updated_at":"2012-12-14t23:06:25z","closed_at":"2012-12-14t20:18:05z","pull_request":{"html_url":"https://github.com/owncloud/core/pull/753","diff_url":"https://github.com/owncloud/core/pull/753.diff","patch_url":"https://github.com/owncloud/core/pull/753.patch"},"body":"this pull request mainly fixes the status 500 error described in #290\n\nbackground:\n------------------\nthe previous opendir call on a file is implemented as a smbclient call:\n```\nsmbclient -n -u 'user%******' -d 0 //server/testsmb -c 'dir \"folder/file.txt/*\"\n```\n\na samba server will return nt_status_object_path_not_found which returns false on the stream wrapper implementation.\na windows server/workstation will return  nt_status_invalid_parameter which will result in an call to trigger_error() and death :-(\n\nfix:\n-----\naccording to the stream wrapper documentation a call to filetype() will call stat() on the stream wrapper and interpret the the result correctly.\nthis has been tested with windows 7 and samba 3.4.3","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}