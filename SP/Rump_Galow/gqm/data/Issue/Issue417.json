{"url":"https://api.github.com/repos/owncloud/core/issues/417","labels_url":"https://api.github.com/repos/owncloud/core/issues/417/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/417/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/417/events","html_url":"https://github.com/owncloud/core/issues/417","id":8356143,"number":417,"title":"when creating a new file in webgui inside a folder, it works, but apache log shows php error","user":{"login":"halfgaar","id":142686,"avatar_url":"https://gravatar.com/avatar/e51f39b392cd45f42d1a090b99c6943c?d=https%3a%2f%2fidenticons.github.com%2fc93fa7287a68f2b0b2426ee8015bfbc5.png&r=x","gravatar_id":"e51f39b392cd45f42d1a090b99c6943c","url":"https://api.github.com/users/halfgaar","html_url":"https://github.com/halfgaar","followers_url":"https://api.github.com/users/halfgaar/followers","following_url":"https://api.github.com/users/halfgaar/following{/other_user}","gists_url":"https://api.github.com/users/halfgaar/gists{/gist_id}","starred_url":"https://api.github.com/users/halfgaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/halfgaar/subscriptions","organizations_url":"https://api.github.com/users/halfgaar/orgs","repos_url":"https://api.github.com/users/halfgaar/repos","events_url":"https://api.github.com/users/halfgaar/events{/privacy}","received_events_url":"https://api.github.com/users/halfgaar/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/1+-+backlog","name":"1 - backlog","color":"ededed"},{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":3,"created_at":"2012-11-14t15:00:02z","updated_at":"2013-04-09t14:47:15z","closed_at":"2013-04-09t14:47:15z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"using the webgui, when you create a folder and in it you create a test file, it works, but there is a php error in the apache logs. the filepath is missing a slash.\r\n\r\nwhen you make the file in the users root dir, it works fine.\r\n\r\nversion: 4.5.2 (or actually, latest version of stable45 branch as of nov 14 16:00 +0100).\r\n\r\nsteps to reproduce:\r\n\r\n* create user1\r\n* login with user1\r\n* create folder \"put it here\" and enter it.\r\n* create text file \"i make errors.txt\"\r\n\r\n[wed nov 14 15:56:40 2012] [error] [client 89.188.25.162] php warning:  filesize(): stat failed for /var/www/owncloud-stable45/data/allesdeler/filesput it here/i make errors.txt in /var/www/owncloud-stable45/lib/filestorage/local.php on line 45, referer: http://storagetest.curaxl.nl/?app=files&dir=//put%20it%20here\r\n\r\n[wed nov 14 15:56:40 2012] [error] [client 89.188.25.162] php warning:  copy(/var/www/owncloud-stable45/data/allesdeler/filesput it here/i make errors.txt): failed to open stream: no such file or directory in /var/www/owncloud-stable45/lib/filestorage/local.php on line 109, referer: http://storagetest.curaxl.nl/?app=files&dir=//put%20it%20here\r\n\r\nbecause a copy action fails, something breaks, but i can't see what.\r\n\r\nit's also clear what goes wrong: a slash is missing in the path:\r\n\r\n    /var/www/owncloud-stable45/data/allesdeler/filesput it here/i make errors.txt\r\n \r\nshould be \r\n\r\n    /var/www/owncloud-stable45/data/allesdeler/files/put it here/i make errors.txt\r\n","closed_by":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false}}