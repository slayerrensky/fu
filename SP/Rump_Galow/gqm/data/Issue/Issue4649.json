{"url":"https://api.github.com/repos/owncloud/core/issues/4649","labels_url":"https://api.github.com/repos/owncloud/core/issues/4649/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4649/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4649/events","html_url":"https://github.com/owncloud/core/issues/4649","id":18744421,"number":4649,"title":"[5.0.11rc1] share link -- expiration date was set to past date -- link still valid","user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/high","name":"high","color":"e11d21"},{"url":"https://api.github.com/repos/owncloud/core/labels/sharing","name":"sharing","color":"e102d8"}],"state":"open","assignee":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"milestone":null,"comments":18,"created_at":"2013-08-29t17:22:29z","updated_at":"2013-11-29t12:03:56z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"expected behavior\r\nlink is expired\r\n\r\nactual behavior\r\nlink is accessible.  owncloud shows the file as â€œsharedâ€?.  under shared tab, owncloud seems to be unshared.\r\n\r\nsteps to reproduce\r\n1. share a file via a link\r\n2. set an expiration date â€“ by accident (on purpose) set it to an already expired date as below (current date is 8/29/13).\r\n \r\n![share_1](https://f.cloud.github.com/assets/5174383/1051689/895eeafe-10cf-11e3-822c-2af2885d01ae.png)\r\n\r\n\r\n\r\n3. in another browser (simulating a different user), go to the link.  notice it is available even though it should be expired:\r\n\r\n\r\n![share_2](https://f.cloud.github.com/assets/5174383/1051676/5c028246-10cf-11e3-9290-1a6d8f48213d.png)\r\n\r\n\r\n\r\n \r\nfiles can be viewed and downloaded.\r\n4. go back to owncloud web page.  top level on files shows it is shared.  however, when you select â€œshareâ€? there are no users listed and the â€œshare as linkâ€? is not checked:\r\n \r\n\r\n\r\n![share_3](https://f.cloud.github.com/assets/5174383/1051677/64634754-10cf-11e3-9de7-55b5aaedebff.png)\r\n\r\n\r\n\r\n\r\n5. at this point, go back to the link and it has expired.\r\n\r\nsuggestions:\r\n1)\tgray out all dates prior to the current date so a user cannot accidently select a previous date\r\n2)\tmake sure the link is expired if the expiration date is passed\r\n\r\n\r\n{\"installed\":\"true\",\"version\":\"5.0.15\",\"versionstring\":\"5.0.11rc1\"}\r\nubuntu\r\napache\r\ninternet explorer 9, google chrome, mozilla firefox\r\n","closed_by":{"login":"kabum","id":245432,"avatar_url":"https://gravatar.com/avatar/a1dea19f88f38ea0b5b5b4d19d5b3107?d=https%3a%2f%2fidenticons.github.com%2f53d8cbb3dbc087a02951dec47438ccdf.png&r=x","gravatar_id":"a1dea19f88f38ea0b5b5b4d19d5b3107","url":"https://api.github.com/users/kabum","html_url":"https://github.com/kabum","followers_url":"https://api.github.com/users/kabum/followers","following_url":"https://api.github.com/users/kabum/following{/other_user}","gists_url":"https://api.github.com/users/kabum/gists{/gist_id}","starred_url":"https://api.github.com/users/kabum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kabum/subscriptions","organizations_url":"https://api.github.com/users/kabum/orgs","repos_url":"https://api.github.com/users/kabum/repos","events_url":"https://api.github.com/users/kabum/events{/privacy}","received_events_url":"https://api.github.com/users/kabum/received_events","type":"user","site_admin":false}}