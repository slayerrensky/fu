{"url":"https://api.github.com/repos/owncloud/core/issues/5250","labels_url":"https://api.github.com/repos/owncloud/core/issues/5250/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5250/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5250/events","html_url":"https://github.com/owncloud/core/issues/5250","id":20776976,"number":5250,"title":"upgrading from 4.5.7 to 5.0.12 server with 1.4.1 clients corrupts files","user":{"login":"vguna","id":3257311,"avatar_url":"https://gravatar.com/avatar/ac898490a83971b4f8af892f40de8dc0?d=https%3a%2f%2fidenticons.github.com%2ffbf5b8dcba5a5249a20b8dc78db47b84.png&r=x","gravatar_id":"ac898490a83971b4f8af892f40de8dc0","url":"https://api.github.com/users/vguna","html_url":"https://github.com/vguna","followers_url":"https://api.github.com/users/vguna/followers","following_url":"https://api.github.com/users/vguna/following{/other_user}","gists_url":"https://api.github.com/users/vguna/gists{/gist_id}","starred_url":"https://api.github.com/users/vguna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vguna/subscriptions","organizations_url":"https://api.github.com/users/vguna/orgs","repos_url":"https://api.github.com/users/vguna/repos","events_url":"https://api.github.com/users/vguna/events{/privacy}","received_events_url":"https://api.github.com/users/vguna/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":2,"created_at":"2013-10-09t22:48:55z","updated_at":"2013-10-10t08:34:48z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi.\r\n\r\ni had an existing 4.5.7 installation under ubuntu with enabled encryption plugin.\r\nafter i had some issues in the past upgrading to 5.0, i thought i would give it another try. so i updated the server to 4.5.13. after that i upgraded to 5.0.12. then i updated my windows client to 1.4.1 (from 1.4.0).\r\n\r\nafter that, syncing started. first it looked like encryption migration worked as expected. i could open files etc. without errors on the client. then i switched on another client (windows) which had 1.4.0 and upgraded it to 1.4.1 as well. syncing also started there (completely, no idea why).\r\n\r\nthen i started working with files contained in the shared folder and tried to access a certificate located in it. but trying to open it with a passphrase didn't work. \"wrong password\". lucky me, i had made a backup of the files on the client before the sync/upgrade due to my bad experience in the past with corrupted files and owncloud. i compared the files and found out, that it differed at some bytes at the end of the file.\r\n\r\nso i started checking other files. 4/6 missing null bytes at the end of .xls and .doc files, 1 missing null byte at the end of .tif files. seems that .pdf files aren't affected though. i can't say that this exact behavior applys to all my n-hundred files, but i checked a couple.\r\n\r\nthese missing bytes lead to corruption messages within excel and word and 'kills' fragile files like certificates.\r\n\r\nare there any known issues regarding this?\r\n\r\ndon't get me wrong, i like owncloud with it's free community edition a lot, but corrupted files hit me the 2nd time during an update and this is a must-not-happen scenario for me.\r\n\r\nthanks.\r\n","closed_by":null}