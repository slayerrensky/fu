{"url":"https://api.github.com/repos/owncloud/core/issues/2749","labels_url":"https://api.github.com/repos/owncloud/core/issues/2749/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2749/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2749/events","html_url":"https://github.com/owncloud/core/issues/2749","id":12851126,"number":2749,"title":"update from 5.0.0 to 5.0.3 fails on \"yum update\" (fedora 17 rpm)","user":{"login":"biggreenogre","id":3988067,"avatar_url":"https://gravatar.com/avatar/8004e5f41f88bb0d5a6d1e3d77bd79d0?d=https%3a%2f%2fidenticons.github.com%2f009ffb1423045dcda8ef833caf146f91.png&r=x","gravatar_id":"8004e5f41f88bb0d5a6d1e3d77bd79d0","url":"https://api.github.com/users/biggreenogre","html_url":"https://github.com/biggreenogre","followers_url":"https://api.github.com/users/biggreenogre/followers","following_url":"https://api.github.com/users/biggreenogre/following{/other_user}","gists_url":"https://api.github.com/users/biggreenogre/gists{/gist_id}","starred_url":"https://api.github.com/users/biggreenogre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/biggreenogre/subscriptions","organizations_url":"https://api.github.com/users/biggreenogre/orgs","repos_url":"https://api.github.com/users/biggreenogre/repos","events_url":"https://api.github.com/users/biggreenogre/events{/privacy}","received_events_url":"https://api.github.com/users/biggreenogre/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":14,"created_at":"2013-04-05t15:41:43z","updated_at":"2013-08-29t17:47:52z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nrunning \"yum update\" should update the oc install seamlessly and successfully or fail safely to existing install.\r\n\r\n### actual behaviour\r\nerror after updating oc from 5.0.0 to 5.0.3 with \"yum update\".\r\n\r\n\"updating owncloud to version 5.0.3, this may take a while.\r\n\r\nturned on maintenance mode\r\nfailed to get existing database structure for updating (mdb2 error: unknown error,\r\n<-- snip -->\r\nthe update was unsuccessful. please report this issue to the owncloud community.\"\r\n\r\nsame ( or v. similar) error occurred when upgrading from 4.x to 5.0.0 on both fedora and centos 6.4 rpm's. workaround was delete and re-install with new version.\r\n\r\nnote:  would be useful if earlier rpm builds remained available for backout of failures like this.\r\n\r\n\r\n### steps to reproduce\r\n1. install oc 5.0.0 from rpm\r\n2. run \"yum update\" to install 5.0.3\r\n3. access oc web front-end as admin for error message\r\n\r\n### server configuration\r\noperating system: fedora 17 (probably centos 6.4 too)\r\n\r\nweb server: apache 2.2.23\r\n\r\ndatabase: mysql 5.5.30\r\n\r\nphp version: php 5.4.13\r\n\r\nowncloud version: 5.0.3\r\n\r\n### client configuration\r\nbrowser: any\r\n\r\noperating system: any\r\n\r\n### logs\r\n#### web server error log\r\n```\r\nnothing of interest\r\n```\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n{\"app\":\"core\",\"message\":\"failed to get existing database structure for updating (mdb2 error: unknown error, _doquery: [error message: could not execute statement]\\n[last executed query: show columns from `oc_appconfig`]\\n[native code: 1]\\n[native message: can't create\\/write to file '\\/tmp\\/#sql_3013_0.myi' (errcode: 2)]\\n)\",\"level\":4,\"time\":1365109142}\r\n\r\n```\r\n\r\n#### browser log\r\n```\r\nn/a\r\n```","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}