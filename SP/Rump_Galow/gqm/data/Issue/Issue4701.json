{"url":"https://api.github.com/repos/owncloud/core/issues/4701","labels_url":"https://api.github.com/repos/owncloud/core/issues/4701/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4701/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4701/events","html_url":"https://github.com/owncloud/core/pull/4701","id":18873612,"number":4701,"title":"always check variable type before using readdir to avoid surprises, fixes #4667 #4658 and #4613","user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":7,"created_at":"2013-09-02t17:04:49z","updated_at":"2013-09-12t23:09:40z","closed_at":"2013-09-04t10:28:13z","pull_request":{"html_url":"https://github.com/owncloud/core/pull/4701","diff_url":"https://github.com/owncloud/core/pull/4701.diff","patch_url":"https://github.com/owncloud/core/pull/4701.patch"},"body":"[readdir](http://php.net/manual/en/function.readdir.php) is said to return false if a folder could not be opened, but if the provided variable is not a proper parameter null is passed. because since https://github.com/owncloud/core/commit/f42b69d72fd456c32380b46af38eab9ef339e141 we are (correctly!) strictly checking for a false, we can end up in an infinite loop that kills the web server, as reported in #4667 #4658 and #4613 \r\n\r\nplease review @icewind1991 @karlitschek @schiesbn or others\r\n\r\np.s.: includes also fix a wrong var name.","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}