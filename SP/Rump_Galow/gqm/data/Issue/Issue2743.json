{"url":"https://api.github.com/repos/owncloud/core/issues/2743","labels_url":"https://api.github.com/repos/owncloud/core/issues/2743/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2743/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2743/events","html_url":"https://github.com/owncloud/core/issues/2743","id":12842942,"number":2743,"title":"asynchronous loading of users results in fatal error","user":{"login":"koddistortion","id":1405569,"avatar_url":"https://gravatar.com/avatar/62ef33daacc2b6a49f6af186b637bbdb?d=https%3a%2f%2fidenticons.github.com%2f9d8db4ade95a4b90a6c032ef7d3c9eda.png&r=x","gravatar_id":"62ef33daacc2b6a49f6af186b637bbdb","url":"https://api.github.com/users/koddistortion","html_url":"https://github.com/koddistortion","followers_url":"https://api.github.com/users/koddistortion/followers","following_url":"https://api.github.com/users/koddistortion/following{/other_user}","gists_url":"https://api.github.com/users/koddistortion/gists{/gist_id}","starred_url":"https://api.github.com/users/koddistortion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koddistortion/subscriptions","organizations_url":"https://api.github.com/users/koddistortion/orgs","repos_url":"https://api.github.com/users/koddistortion/repos","events_url":"https://api.github.com/users/koddistortion/events{/privacy}","received_events_url":"https://api.github.com/users/koddistortion/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":0,"created_at":"2013-04-05t12:14:59z","updated_at":"2013-04-09t07:17:04z","closed_at":"2013-04-09t07:17:04z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nas a user with normal access rights (i.e. not being system administrator) but being group manager, one should be able to see all users of the groups one is the manager of. no matter if they are shown instantly or being reloaded asynchronously via ajax, triggered through scrolling the list.\r\n\r\n### actual behaviour\r\nonly system administrators can see users that are loaded asynchronously via ajax, triggered through scrolling the list. being a normal user (acting as a group manager) the ajax request for loading does not return a list of users but a fatal php error description.\r\n\r\n### steps to reproduce\r\n1. log into owncloud as a group manager, but without system administrator rights\r\n2. make sure you have more users in the group you manage than initially displayed (default: 30)\r\n3. scroll down the list of users in order to load more asynchronously\r\n4. inspect the network traffic (ajax / xmlhttp requests)\r\n\r\n### server configuration\r\noperating system:\r\neisfair-1\r\nweb server: \r\napache2 2.4.3\r\ndatabase:\r\nsqlite\r\nphp version:\r\n5.4.9\r\nowncloud version:\r\n5.0.3:\r\n\r\n### client configuration\r\nbrowser:\r\nchrome 26\r\nfirefox 20\r\n\r\noperating system:\r\nwindows 7 (x64)\r\n\r\n### logs\r\n#### browser log\r\nscrolling creates the following xmlhttprequest:\r\n```\r\nrequest url:http://example.com/owncloud/index.php/settings/ajax/userlist?offset=30\r\nrequest method:get\r\nstatus code:200 ok\r\n```\r\nwhich results in this response:\r\n```\r\nfatal: call to private method oc_user::determinedisplayname() from context '' at /data/www/htdocs/owncloud/settings/ajax/userlist.php#47\r\n```","closed_by":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false}}