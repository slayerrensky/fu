{"url":"https://api.github.com/repos/owncloud/core/issues/1019","labels_url":"https://api.github.com/repos/owncloud/core/issues/1019/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1019/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1019/events","html_url":"https://github.com/owncloud/core/issues/1019","id":9493875,"number":1019,"title":"class oc_calendar_object, getutcformdb broken","user":{"login":"rotdrop","id":1494769,"avatar_url":"https://gravatar.com/avatar/b8dfdc1f83d18c61a55181d2fc1b1481?d=https%3a%2f%2fidenticons.github.com%2f27dea4393d464f10d617caf347713f69.png&r=x","gravatar_id":"b8dfdc1f83d18c61a55181d2fc1b1481","url":"https://api.github.com/users/rotdrop","html_url":"https://github.com/rotdrop","followers_url":"https://api.github.com/users/rotdrop/followers","following_url":"https://api.github.com/users/rotdrop/following{/other_user}","gists_url":"https://api.github.com/users/rotdrop/gists{/gist_id}","starred_url":"https://api.github.com/users/rotdrop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rotdrop/subscriptions","organizations_url":"https://api.github.com/users/rotdrop/orgs","repos_url":"https://api.github.com/users/rotdrop/repos","events_url":"https://api.github.com/users/rotdrop/events{/privacy}","received_events_url":"https://api.github.com/users/rotdrop/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2012-12-23t22:30:55z","updated_at":"2012-12-24t00:43:19z","closed_at":"2012-12-24t00:43:19z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi there,\r\n\r\naccording to the php-docs datetime::format('u') already returns the time stamp w.r.t. utc, so subtracting the time-zone offset will produce the wrong result. therefore, getutcformdb() should be changed as follows:\r\n\r\n```php\r\n--- object.php.old      2012-12-23 23:28:37.920222414 +0100\r\n+++ object.php  2012-12-23 23:28:59.998315900 +0100\r\n@@ -414,7 +414,7 @@\r\n         * furthermore it converts the time to utc.\r\n         */\r\n        public static function getutcformdb($datetime) {\r\n-               return date('y-m-d h:i', $datetime->format('u') - $datetime->getoffset());\r\n+               return date('y-m-d h:i', $datetime->format('u'));\r\n        }\r\n \r\n        /**\r\n```\r\nat least on my system the time-stamps stored in the own-cloud data-base are otherwise wrong (the calendar-data is correct, thow).\r\n\r\nkind regards,\r\n\r\nclaus heine","closed_by":{"login":"tanghus","id":533222,"avatar_url":"https://gravatar.com/avatar/e625b634822713b2e346ff7c67d26775?d=https%3a%2f%2fidenticons.github.com%2f6d9c90af1c12f5a88e4d5f216bbc1979.png&r=x","gravatar_id":"e625b634822713b2e346ff7c67d26775","url":"https://api.github.com/users/tanghus","html_url":"https://github.com/tanghus","followers_url":"https://api.github.com/users/tanghus/followers","following_url":"https://api.github.com/users/tanghus/following{/other_user}","gists_url":"https://api.github.com/users/tanghus/gists{/gist_id}","starred_url":"https://api.github.com/users/tanghus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanghus/subscriptions","organizations_url":"https://api.github.com/users/tanghus/orgs","repos_url":"https://api.github.com/users/tanghus/repos","events_url":"https://api.github.com/users/tanghus/events{/privacy}","received_events_url":"https://api.github.com/users/tanghus/received_events","type":"user","site_admin":false}}