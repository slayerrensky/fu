{"url":"https://api.github.com/repos/owncloud/core/issues/1097","labels_url":"https://api.github.com/repos/owncloud/core/issues/1097/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1097/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1097/events","html_url":"https://github.com/owncloud/core/issues/1097","id":9712461,"number":1097,"title":"relative modified date incorrect","user":{"login":"scottgeiger","id":2864803,"avatar_url":"https://gravatar.com/avatar/dbfda6816cfdf5c869f2c5cbcfea7cee?d=https%3a%2f%2fidenticons.github.com%2fbbe81edf9635d85164b1d953014dd985.png&r=x","gravatar_id":"dbfda6816cfdf5c869f2c5cbcfea7cee","url":"https://api.github.com/users/scottgeiger","html_url":"https://github.com/scottgeiger","followers_url":"https://api.github.com/users/scottgeiger/followers","following_url":"https://api.github.com/users/scottgeiger/following{/other_user}","gists_url":"https://api.github.com/users/scottgeiger/gists{/gist_id}","starred_url":"https://api.github.com/users/scottgeiger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottgeiger/subscriptions","organizations_url":"https://api.github.com/users/scottgeiger/orgs","repos_url":"https://api.github.com/users/scottgeiger/repos","events_url":"https://api.github.com/users/scottgeiger/events{/privacy}","received_events_url":"https://api.github.com/users/scottgeiger/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2013-01-06t03:01:43z","updated_at":"2013-01-06t03:17:31z","closed_at":"2013-01-06t03:17:31z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"the code in lib/template.php at line 92-93 as follows produces an incorrect relative date.  the $diffhours is already \"diff-ed\" from the current time and by subtracting from date('g') you are doubly \"diff-ing\" the date.  what happens is that files modified only a few hours prior receive a relative modified date of \"yesterday\"\r\n```     \r\n        else if((date('g')-$diffhours) > 0) { return $l->t('today'); }\r\n        else if((date('g')-$diffhours) > -24) { return $l->t('yesterday'); }\r\n```\r\ncode corrected as follows:\r\n```\r\n        else if($diffhours < 24) { return $l->t('today'); }\r\n        else if($diffhours < 48) { return $l->t('yesterday'); }\r\n```","closed_by":{"login":"scottgeiger","id":2864803,"avatar_url":"https://gravatar.com/avatar/dbfda6816cfdf5c869f2c5cbcfea7cee?d=https%3a%2f%2fidenticons.github.com%2fbbe81edf9635d85164b1d953014dd985.png&r=x","gravatar_id":"dbfda6816cfdf5c869f2c5cbcfea7cee","url":"https://api.github.com/users/scottgeiger","html_url":"https://github.com/scottgeiger","followers_url":"https://api.github.com/users/scottgeiger/followers","following_url":"https://api.github.com/users/scottgeiger/following{/other_user}","gists_url":"https://api.github.com/users/scottgeiger/gists{/gist_id}","starred_url":"https://api.github.com/users/scottgeiger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottgeiger/subscriptions","organizations_url":"https://api.github.com/users/scottgeiger/orgs","repos_url":"https://api.github.com/users/scottgeiger/repos","events_url":"https://api.github.com/users/scottgeiger/events{/privacy}","received_events_url":"https://api.github.com/users/scottgeiger/received_events","type":"user","site_admin":false}}