{"url":"https://api.github.com/repos/owncloud/core/issues/1748","labels_url":"https://api.github.com/repos/owncloud/core/issues/1748/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1748/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1748/events","html_url":"https://github.com/owncloud/core/issues/1748","id":11098271,"number":1748,"title":"directory traversal when using the web client: files core.css and core.js one level higher than /owncloud are accessed by the software","user":{"login":"wikinaut","id":1151915,"avatar_url":"https://gravatar.com/avatar/44fe3e62650a2bda315bf7ad8ab5aa8a?d=https%3a%2f%2fidenticons.github.com%2fd9f4ac434d00bf8bdf746d923216dfea.png&r=x","gravatar_id":"44fe3e62650a2bda315bf7ad8ab5aa8a","url":"https://api.github.com/users/wikinaut","html_url":"https://github.com/wikinaut","followers_url":"https://api.github.com/users/wikinaut/followers","following_url":"https://api.github.com/users/wikinaut/following{/other_user}","gists_url":"https://api.github.com/users/wikinaut/gists{/gist_id}","starred_url":"https://api.github.com/users/wikinaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikinaut/subscriptions","organizations_url":"https://api.github.com/users/wikinaut/orgs","repos_url":"https://api.github.com/users/wikinaut/repos","events_url":"https://api.github.com/users/wikinaut/events{/privacy}","received_events_url":"https://api.github.com/users/wikinaut/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/enhancement","name":"enhancement","color":"02e10c"}],"state":"closed","assignee":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false},"milestone":null,"comments":23,"created_at":"2013-02-17t23:49:13z","updated_at":"2013-03-02t11:34:33z","closed_at":"2013-03-02t11:34:33z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i expressly deny the access to all other directories than owncloud. then i see access to two files _above_ this directory, i.e. owncloud has a problem of unwanted directory traversal or access outside its directory.\r\n\r\n_this issue is publicly filed after having the disclosure discussed with lukas._\r\n\r\n* version 4.5.6\r\n* debian (raspberry pi) apache2\r\n* _fresh_ installation of owncloud\r\n* instance runs in http://server/owncloud\r\n* directory /srv/www-ssl/owncloud\r\n* files one level higher than /owncloud are accessed by the software.\r\n\r\n#### bug: files one level higher than /owncloud are accessed by the software. \r\n\r\nthe software tries to access core.js and core.css outside (one level higher) than the /owncloud root.\r\n\r\n#### apache2/error.log shows these errors:\r\n\r\n* [error] client denied by server configuration: /srv/www-ssl/core.css\r\n* [error] client denied by server configuration: /srv/www-ssl/core.js\r\n\r\n#### my apache config file (excerpt)\r\n\r\n```\r\n# disable access to the entire file system except for the directories that\r\n# are explicitly allowed later.\r\n<directory / >\r\n    allowoverride none\r\n    order deny,allow\r\n    deny from all\r\n</directory>\r\n\r\n# disable all options by default\r\noptions none\r\n\r\ndocumentroot /srv/www-ssl/\r\n\r\n#    (***)\r\n#\r\n# <directory \"/srv/www-ssl\" >\r\n#    order allow,deny\r\n#    allow from all\r\n#</directory>\r\n#\r\n#\r\n\r\nalias owncloud /srv/www-ssl/owncloud\r\n<directory \"/srv/www-ssl/owncloud\" >\r\n    allowoverride all\r\n    directoryindex index.php\r\n    options +followsymlinks\r\n    order allow,deny\r\n    allow from all\r\n</directory>\r\n```\r\n\r\nwhen i de-comment the part (***) and allow the access one level higher, then i do not see the errors for core.js and core.css.\r\n\r\nit really looks as if the owncloud index.php tries to access files outside and above the /owncloud directory. i regard this as bug, which should be fixed.\r\n","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}