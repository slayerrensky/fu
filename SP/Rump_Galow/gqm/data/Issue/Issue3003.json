{"url":"https://api.github.com/repos/owncloud/core/issues/3003","labels_url":"https://api.github.com/repos/owncloud/core/issues/3003/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3003/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3003/events","html_url":"https://github.com/owncloud/core/issues/3003","id":13348731,"number":3003,"title":"webdav and client doesn't accept credentials after upgrade from 4.5.8 to 5.0.3","user":{"login":"systemr89","id":212605,"avatar_url":"https://gravatar.com/avatar/c3298427c8754f0126d6803a2cd74dc8?d=https%3a%2f%2fidenticons.github.com%2f28e05fd77ebd5386dd6b30319e94dda0.png&r=x","gravatar_id":"c3298427c8754f0126d6803a2cd74dc8","url":"https://api.github.com/users/systemr89","html_url":"https://github.com/systemr89","followers_url":"https://api.github.com/users/systemr89/followers","following_url":"https://api.github.com/users/systemr89/following{/other_user}","gists_url":"https://api.github.com/users/systemr89/gists{/gist_id}","starred_url":"https://api.github.com/users/systemr89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/systemr89/subscriptions","organizations_url":"https://api.github.com/users/systemr89/orgs","repos_url":"https://api.github.com/users/systemr89/repos","events_url":"https://api.github.com/users/systemr89/events{/privacy}","received_events_url":"https://api.github.com/users/systemr89/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2013-04-18t13:12:35z","updated_at":"2013-04-18t14:15:28z","closed_at":"2013-04-18t14:15:28z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"since the upgrade of owncloud webdav and clients stop working saying that credentials are wrong for any users, however web interface works fine. also changing passwords the problem still there.\r\n\r\nlog from owncloud linux client\r\n```\r\n04-11 11:04:40:405 logging into logfile:  \"whatshappen\"  with flush  false \r\n04-11 11:04:40:405 \"################## owncloud it_it (it_it) 1.2.3\" \r\n04-11 11:04:40:486 * setup folders from  \"/home/myuser/.local/share/data//owncloud/folders\" \r\n04-11 11:04:40:486   ` -> setting up: \"owncloud\" \r\n04-11 11:04:40:487     -> file path:  \"/home/myuser/.local/share/data/owncloud/folders/owncloud\" \r\n04-11 11:04:40:487 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:40:487 setting remote poll timer interval to 28124 msec for folder  \"owncloud\" \r\n04-11 11:04:40:487 (+) watcher: \"/home/myuser/owncloud\" \r\n04-11 11:04:40:487 * pending events for \"/home/myuser/owncloud\" will be processed after events stop for 1000 milliseconds ( \"11:21:20\" ). 0 events until now ) \r\n04-11 11:04:40:487   ==> returning exclude file path:  \"/etc/owncloud/sync-exclude.lst\" \r\n04-11 11:04:40:487 checked local path ok \r\n04-11 11:04:40:487 ****** owncloud folder using watcher ******* \r\n04-11 11:04:40:487 adding folder to folder map  mirall::owncloudfolder(0x1fcbd70) \r\n04-11 11:04:40:488 check status.php from statusdialog. \r\n04-11 11:04:40:488 get request to  \"status.php\" \r\n04-11 11:04:40:488 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:488 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:488 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:40:513 folder in overallstatus message:  mirall::owncloudfolder(0x1fcbd70)  with name  \"owncloud\" \r\n04-11 11:04:40:513 sync state changed for folder  \"owncloud\" :  \"not yet started\" \r\n04-11 11:04:40:514 folder:  mirall::owncloudfolder(0x1fcbd70) \r\n04-11 11:04:40:514 ==> load folder icon  \"owncloud-framed\" \r\n04-11 11:04:40:520 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:40:521 check status.php from statusdialog. \r\n04-11 11:04:40:521 get request to  \"status.php\" \r\n04-11 11:04:40:521 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:521 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:521 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:40:531 network location:  \"\" \r\n04-11 11:04:40:534 get request to  \"status.php\" \r\n04-11 11:04:40:534 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:534 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:534 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:40:685 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x7f76fc013ca0) \r\n04-11 11:04:40:685 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:40:686 #-------# oc found on  \"http://www.myremotesite.org/owncloud\" \r\n04-11 11:04:40:686 ** application: owncloud found:  \"http://www.myremotesite.org/owncloud\"  with version  \"5.0.3\" ( \"5.0.3\" ) \r\n04-11 11:04:40:686 ** setting owncloud server version to  \"5.0.3\" \r\n04-11 11:04:40:686 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:689 no storage backend, falling back to settings mode. \r\n04-11 11:04:40:689 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:689 credentials successfully fetched:  true \r\n04-11 11:04:40:690 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x1da1820) \r\n04-11 11:04:40:690 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:40:690 # checking for authentication settings. \r\n04-11 11:04:40:690 get request to  \"/\" \r\n04-11 11:04:40:690 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:40:690 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:40:690 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:40:695 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x1fc8330) \r\n04-11 11:04:40:695 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:40:843 auth request to me and i am  mirall::owncloudinfo(0x20f0bc0) \r\n04-11 11:04:40:843 authenticating request for   qurl( \"http://www.myremotesite.org/owncloud/remote.php/webdav//\" )  \r\n04-11 11:04:40:844 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:40:844 too many attempts to authenticate. stop request. \r\n04-11 11:04:40:844 owncloudinfo network error:  5 \r\n04-11 11:04:40:844 ******** username or password is wrong! \r\n04-11 11:04:41:487 * processing of event queue for \"/home/myuser/owncloud\" \r\n04-11 11:04:42:247 can not try again to fetch credentials. \r\n04-11 11:04:43:525 00 client update check to  \"https://download.owncloud.com/clientupdater.php\" \r\n04-11 11:04:43:764 sys info size:  96 \r\n04-11 11:04:44:627 client is on latest version! \r\n04-11 11:04:48:109 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:48:115 current wizard page changed to  1 \r\n04-11 11:04:48:115 page_install is  6 \r\n04-11 11:04:48:115 pending request:  qobject(0x0)  \r\n04-11 11:04:53:528 current wizard page changed to  6 \r\n04-11 11:04:53:528 page_install is  6 \r\n04-11 11:04:53:529 connect to url:  \"http://www.myremotesite.org/owncloud\" \r\n04-11 11:04:53:529   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:53:529 *** writing mirall config to  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\"  skippwd:  false \r\n04-11 11:04:53:529 going to delete the password from settings file. \r\n04-11 11:04:53:529   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:53:588   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:53:588 get request to  \"status.php\" \r\n04-11 11:04:53:588   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:53:588 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:53:588   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:53:588 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:53:588 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:53:588 setting config handle  \"041113110453\" \r\n04-11 11:04:53:764 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x225c850) \r\n04-11 11:04:53:764 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:53:764 setup local sync folder for new oc connection  \"/home/myuser/owncloud\" \r\n04-11 11:04:53:765 creating folder on owncloud:  \"clientsync\" \r\n04-11 11:04:53:765 ocinfo making dir  \"clientsync\" \r\n04-11 11:04:53:765   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:53:765 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:53:765 started remote folder creation ok \r\n04-11 11:04:53:765 qhttp based request started  1 \r\n04-11 11:04:53:765 hit! \r\n04-11 11:04:53:765 qhttp based request failed:  \"unknown error\" \r\n04-11 11:04:53:765 qhttp based request started  2 \r\n04-11 11:04:54:080 hit! \r\n04-11 11:04:54:080 qhttp based request successful \r\n04-11 11:04:58:373 config changes were accepted! \r\n04-11 11:04:58:374   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:58:374 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:374 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:374   oo custom config file in use:  \"/home/myuser/.local/share/data//owncloud/owncloud.cfg_041113110453\" \r\n04-11 11:04:58:374 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:398 * setup folders from  \"/home/myuser/.local/share/data//owncloud/folders\" \r\n04-11 11:04:58:399   ` -> setting up: \"owncloud\" \r\n04-11 11:04:58:399     -> file path:  \"/home/myuser/.local/share/data/owncloud/folders/owncloud\" \r\n04-11 11:04:58:399 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:399 setting remote poll timer interval to 30040 msec for folder  \"owncloud\" \r\n04-11 11:04:58:399 (+) watcher: \"/home/myuser/owncloud\" \r\n04-11 11:04:58:399 * pending events for \"/home/myuser/owncloud\" will be processed after events stop for 1000 milliseconds ( \"11:21:38\" ). 0 events until now ) \r\n04-11 11:04:58:399   ==> returning exclude file path:  \"/etc/owncloud/sync-exclude.lst\" \r\n04-11 11:04:58:400 checked local path ok \r\n04-11 11:04:58:400 ****** owncloud folder using watcher ******* \r\n04-11 11:04:58:400 adding folder to folder map  mirall::owncloudfolder(0x1fcbd70) \r\n04-11 11:04:58:400 ==> load folder icon  \"owncloud-framed\" \r\n04-11 11:04:58:400 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:401 check status.php from statusdialog. \r\n04-11 11:04:58:401 get request to  \"status.php\" \r\n04-11 11:04:58:401 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:401 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:401 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:58:401 folder in overallstatus message:  mirall::owncloudfolder(0x1fcbd70)  with name  \"owncloud\" \r\n04-11 11:04:58:401 sync state changed for folder  \"owncloud\" :  \"not yet started\" \r\n04-11 11:04:58:401 set up  1  folders. \r\n04-11 11:04:58:401 folder:  mirall::owncloudfolder(0x1fcbd70) \r\n04-11 11:04:58:401 ==> load folder icon  \"owncloud-framed\" \r\n04-11 11:04:58:401 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:402 check status.php from statusdialog. \r\n04-11 11:04:58:402 get request to  \"status.php\" \r\n04-11 11:04:58:402 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:402 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:402 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:58:402 get request to  \"status.php\" \r\n04-11 11:04:58:402 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:402 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:402 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:58:405 error with keychain:  \"could not open wallet: org.freedesktop.dbus.error.serviceunknown; the name org.kde.kwalletd was not provided by any .service files\" \r\n04-11 11:04:58:515 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x226d7f0) \r\n04-11 11:04:58:515 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:58:515 #-------# oc found on  \"http://www.myremotesite.org/owncloud\" \r\n04-11 11:04:58:515 ** application: owncloud found:  \"http://www.myremotesite.org/owncloud\"  with version  \"5.0.3\" ( \"5.0.3\" ) \r\n04-11 11:04:58:515 ** setting owncloud server version to  \"5.0.3\" \r\n04-11 11:04:58:516 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:516 credentials successfully fetched:  true \r\n04-11 11:04:58:516 overwriting credentials for connection  \"default\" \r\n04-11 11:04:58:516 credentials successfully fetched:  true \r\n04-11 11:04:58:516 overwriting credentials for connection  \"default\" \r\n04-11 11:04:58:517 # checking for authentication settings. \r\n04-11 11:04:58:517 get request to  \"/\" \r\n04-11 11:04:58:517 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:517 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:517 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:58:517 # checking for authentication settings. \r\n04-11 11:04:58:517 get request to  \"/\" \r\n04-11 11:04:58:517 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:518 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/\" \r\n04-11 11:04:58:518 setting up host header:  \"www.myremotesite.org\" \r\n04-11 11:04:58:557 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x22647a0) \r\n04-11 11:04:58:557 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:58:584 status.php returns:  \"{\"installed\":\"true\",\"version\":\"5.0.3\",\"versionstring\":\"5.0.3\",\"edition\":\"\"}\"   0  reply:  qnetworkreplyimpl(0x7f76fc053750) \r\n04-11 11:04:58:584 unknown info from owncloud status.php:  \"installed\" = \"true\" \r\n04-11 11:04:58:791 auth request to me and i am  mirall::owncloudinfo(0x20f0bc0) \r\n04-11 11:04:58:791 authenticating request for   qurl( \"http://www.myremotesite.org/owncloud/remote.php/webdav//\" )  \r\n04-11 11:04:58:791 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:936 auth request to me and i am  mirall::owncloudinfo(0x20f0bc0) \r\n04-11 11:04:58:936 authenticating request for   qurl( \"http://www.myremotesite.org/owncloud/remote.php/webdav//\" )  \r\n04-11 11:04:58:936 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:04:58:936 too many attempts to authenticate. stop request. \r\n04-11 11:04:58:936 owncloudinfo network error:  5 \r\n04-11 11:04:58:936 ******** username or password is wrong! \r\n04-11 11:04:59:400 * processing of event queue for \"/home/myuser/owncloud\" \r\n04-11 11:05:02:676 can not try again to fetch credentials. \r\n04-11 11:05:02:683 auth request to me and i am  mirall::owncloudinfo(0x20f0bc0) \r\n04-11 11:05:02:683 authenticating request for   qurl( \"http://www.myremotesite.org/owncloud/remote.php/webdav//\" )  \r\n04-11 11:05:02:683 returning configured owncloud url:  \"http://www.myremotesite.org/owncloud/remote.php/webdav/\" \r\n04-11 11:05:02:683 too many attempts to authenticate. stop request. \r\n04-11 11:05:02:683 owncloudinfo network error:  5 \r\n```\r\n\r\nthis problem happen was verified also with a clean owncloud installation even on windows.\r\n\r\nedit: problem still present in 5.0.4","closed_by":{"login":"systemr89","id":212605,"avatar_url":"https://gravatar.com/avatar/c3298427c8754f0126d6803a2cd74dc8?d=https%3a%2f%2fidenticons.github.com%2f28e05fd77ebd5386dd6b30319e94dda0.png&r=x","gravatar_id":"c3298427c8754f0126d6803a2cd74dc8","url":"https://api.github.com/users/systemr89","html_url":"https://github.com/systemr89","followers_url":"https://api.github.com/users/systemr89/followers","following_url":"https://api.github.com/users/systemr89/following{/other_user}","gists_url":"https://api.github.com/users/systemr89/gists{/gist_id}","starred_url":"https://api.github.com/users/systemr89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/systemr89/subscriptions","organizations_url":"https://api.github.com/users/systemr89/orgs","repos_url":"https://api.github.com/users/systemr89/repos","events_url":"https://api.github.com/users/systemr89/events{/privacy}","received_events_url":"https://api.github.com/users/systemr89/received_events","type":"user","site_admin":false}}