{"url":"https://api.github.com/repos/owncloud/core/issues/4778","labels_url":"https://api.github.com/repos/owncloud/core/issues/4778/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4778/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4778/events","html_url":"https://github.com/owncloud/core/issues/4778","id":19187818,"number":4778,"title":"a file can not be deleted after renaming two folder with similar names","user":{"login":"purigarcia","id":4538201,"avatar_url":"https://gravatar.com/avatar/0be9d9a0cc0399f94183d85de9d2bb4a?d=https%3a%2f%2fidenticons.github.com%2f3a98944e89f0812108f0e363e300adfc.png&r=x","gravatar_id":"0be9d9a0cc0399f94183d85de9d2bb4a","url":"https://api.github.com/users/purigarcia","html_url":"https://github.com/purigarcia","followers_url":"https://api.github.com/users/purigarcia/followers","following_url":"https://api.github.com/users/purigarcia/following{/other_user}","gists_url":"https://api.github.com/users/purigarcia/gists{/gist_id}","starred_url":"https://api.github.com/users/purigarcia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/purigarcia/subscriptions","organizations_url":"https://api.github.com/users/purigarcia/orgs","repos_url":"https://api.github.com/users/purigarcia/repos","events_url":"https://api.github.com/users/purigarcia/events{/privacy}","received_events_url":"https://api.github.com/users/purigarcia/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":1,"created_at":"2013-09-09t10:43:28z","updated_at":"2013-11-11t10:45:29z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nfile should be deleted on the server and in the device\r\n\r\n### actual behaviour\r\n1. using an ios device, if you browse up and then go inside \"testx\" again, the deleted file is shown again\r\n2. in the server the file is not deleted.  if you try to  download it, an alert saying \"the requested content cannot be loaded. please try again later.\" is shown\r\n\r\n### steps to reproduce\r\nusing an ios device, follow this steps\r\n1. create two folders: \"test\" and \"testx\"\r\n2. upload several files in each folder\r\n3. rename folder \"test\" as \"testx\"\r\n4. rename folder \"testx\" as \"test\"\r\n5. go inside folder \"testx\" and delete a file\r\n\r\n### server configuration\r\noperating system: macos 10.7.5\r\n\r\ndatabase: sqlite 3\r\n\r\nowncloud version: 5.0.11 rc2\r\n\r\nbrowser: chrome\r\n\r\n\r\n#### web server error log\r\nwarning\tphp\tfilemtime(): stat failed for /srv/www/htdocs/owncloud/data/pgarcia/files/testx/photo-09-09-13-12-16-54-0.png at /srv/www/htdocs/owncloud/lib/files/storage/local.php#92\t2013-09-09t10:18:20+00:00\r\n\r\nwarning\tphp\tcopy(/srv/www/htdocs/owncloud/data/pgarcia/files/testx/photo-09-09-13-12-16-54-0.png): failed to open stream: no such file or directory at /srv/www/htdocs/owncloud/lib/files/storage/local.php#143\t2013-09-09t10:18:20+00:00\r\n\r\nwarning\tphp\tfilesize(): stat failed for /srv/www/htdocs/owncloud/data/pgarcia/files/testx/photo-09-09-13-12-16-54-0.png at /srv/www/htdocs/owncloud/lib/files/storage/local.php#74\t2013-09-09t10:18:20+00:00","closed_by":null}