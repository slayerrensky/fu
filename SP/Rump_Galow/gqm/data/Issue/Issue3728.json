{"url":"https://api.github.com/repos/owncloud/core/issues/3728","labels_url":"https://api.github.com/repos/owncloud/core/issues/3728/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3728/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3728/events","html_url":"https://github.com/owncloud/core/issues/3728","id":15557309,"number":3728,"title":"cancel it does not work when we try to upload a file whose name already exists","user":{"login":"lmaestro","id":4689430,"avatar_url":"https://gravatar.com/avatar/c030deac5456df98c56b35800a909c3d?d=https%3a%2f%2fidenticons.github.com%2f13deadcb7dad921b737bd265e74c1bec.png&r=x","gravatar_id":"c030deac5456df98c56b35800a909c3d","url":"https://api.github.com/users/lmaestro","html_url":"https://github.com/lmaestro","followers_url":"https://api.github.com/users/lmaestro/followers","following_url":"https://api.github.com/users/lmaestro/following{/other_user}","gists_url":"https://api.github.com/users/lmaestro/gists{/gist_id}","starred_url":"https://api.github.com/users/lmaestro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmaestro/subscriptions","organizations_url":"https://api.github.com/users/lmaestro/orgs","repos_url":"https://api.github.com/users/lmaestro/repos","events_url":"https://api.github.com/users/lmaestro/events{/privacy}","received_events_url":"https://api.github.com/users/lmaestro/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/7+-+to+release","name":"7 - to release","color":"ededed"},{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/ee","name":"ee","color":"ff00ff"}],"state":"closed","assignee":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"milestone":{"url":"https://api.github.com/repos/owncloud/core/milestones/3","labels_url":"https://api.github.com/repos/owncloud/core/milestones/3/labels","id":199679,"number":3,"title":"owncloud 6","description":"","creator":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"open_issues":19,"closed_issues":645,"state":"open","created_at":"2012-10-22t21:38:51z","updated_at":"2013-12-18t11:11:18z","due_on":null},"comments":34,"created_at":"2013-06-14t13:11:27z","updated_at":"2013-10-26t11:08:25z","closed_at":"2013-10-21t15:04:54z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nif i select to upload more than one file, that already exit,  itâ´s detected this fact, so the server offers you different options: replace, cancel, suggest name. if we select cancel, the file should not be uploaded.\r\n\r\n### actual behaviour\r\nwhen i select to upload more than one file, that already exit. although i select cancel, the files are uplaoded.\r\n\r\n### steps to reproduce\r\n1. log in the enterprise version\r\n2. create a new folder\r\n3. select to upload more than one file, letâ´s call them, file1, file2, file3 and file4\r\n4. once the upload has finished, select to upload on the same folder the same files\r\n5. itâ´s detected that file1 already exist, so itâ´s offered the menu to choose what we want to do  (replace, cancel, suggest name.). select cancel\r\n6. the upload seems to be cancelled, however if we refresh the web, the files have been uploaded, so whatâ´s happened is that a name have been suggested. \r\n\r\n\r\n### server configuration\r\n{\"installed\":\"true\",\"version\":\"5.0.7\",\"versionstring\":\"5.0.6 rc\",\"edition\":\"enterprise beta\"} \r\nopen suse 12.2 \r\nsql lite\r\n\r\n### client configuration\r\nbrowser: ff, chrome and safari \r\n\r\noperating system:mac 10.8.3\r\n\r\n### logs\r\n#### web server error log\r\n```\r\n\r\nerror\t hook\t error while running hook (\\oc\\files\\cache\\updater::renamehook): sqlstate[23000]: integrity constraint violation: 19 columns storage, path_hash are not unique\t june 14, 2013 15:01\r\n```\r\n\r\n","closed_by":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false}}