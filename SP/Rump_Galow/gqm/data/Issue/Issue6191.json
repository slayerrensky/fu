{"url":"https://api.github.com/repos/owncloud/core/issues/6191","labels_url":"https://api.github.com/repos/owncloud/core/issues/6191/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/6191/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/6191/events","html_url":"https://github.com/owncloud/core/issues/6191","id":23752988,"number":6191,"title":"cannot install 6 on nginx.","user":{"login":"sholdowa","id":606132,"avatar_url":"https://gravatar.com/avatar/671d9faabfe3d3382be736b93fbfa1d5?d=https%3a%2f%2fidenticons.github.com%2faf1cba3a7f3e2eb7310d36371d837425.png&r=x","gravatar_id":"671d9faabfe3d3382be736b93fbfa1d5","url":"https://api.github.com/users/sholdowa","html_url":"https://github.com/sholdowa","followers_url":"https://api.github.com/users/sholdowa/followers","following_url":"https://api.github.com/users/sholdowa/following{/other_user}","gists_url":"https://api.github.com/users/sholdowa/gists{/gist_id}","starred_url":"https://api.github.com/users/sholdowa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sholdowa/subscriptions","organizations_url":"https://api.github.com/users/sholdowa/orgs","repos_url":"https://api.github.com/users/sholdowa/repos","events_url":"https://api.github.com/users/sholdowa/events{/privacy}","received_events_url":"https://api.github.com/users/sholdowa/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":7,"created_at":"2013-12-04t22:53:07z","updated_at":"2013-12-08t12:12:23z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i tried installing 6.0.0rc1 from source as a replacement for  4.1.1 installed on centos 6.5 from your repo. i use nginx 1.4.4 as my web server.\r\n\r\nthe following config worked fine with the stable sysrem, but comes up with webdav errors on new install.\r\n\r\n2013/12/05 11:44:37 [error] 22336#0: *102 fastcgi sent in stderr: \"primary script unknown\" while reading response header from upstream, client: 203.109.144.176, server: owncloud.greengecko.co.nz, request: \"propfind /remote.php/webdav// http/1.1\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"owncloud.greengecko.co.nz\"\r\n\r\nserver config follows:\r\n\r\nserver {\r\n        listen   202.27.187.105:80;\r\n        listen   192.168.187.105:80;\r\n        listen   127.0.1.1:80;\r\n\r\n        server_name  owncloud.greengecko.co.nz;\r\n\r\n  \treturn 301 https://$server_name$request_uri;  # enforce https\r\n}\r\n\r\nserver {\r\n        listen   202.27.187.105:443 ssl;\r\n        listen   192.168.187.105:443 ssl;\r\n        listen   127.0.1.1:443 ssl;\r\n\r\n        server_name  owncloud.greengecko.co.nz;\r\n\r\n        access_log  /var/log/nginx/owncloud.greengecko.co.nz.access.log;\r\n        error_log  /var/log/nginx/owncloud.greengecko.co.nz.error.log;\r\n        #error_log  /var/log/nginx/owncloud.greengecko.co.nz.error.log debug;\r\n\r\n        root   /www/owncloud.greengecko.co.nz/public_html;\r\n        autoindex off;\r\n\r\n  \tssl_certificate /etc/nginx/ssl/server.crt;\r\n  \tssl_certificate_key /etc/nginx/ssl/server.key;\r\n\r\n\trewrite ^/caldav(.*)$ /remote.php/caldav$1 redirect;\r\n\trewrite ^/carddav(.*)$ /remote.php/carddav$1 redirect;\r\n\trewrite ^/webdav(.*)$ /remote.php/webdav$1 redirect;\r\n\r\n        error_page 403 /core/templates/403.php;\r\n        error_page 404 /core/templates/404.php;\r\n\r\n  \tclient_max_body_size 1000m; # set maximum upload size\r\n\r\n        location = /robots.txt {\r\n            \tallow all;\r\n            \tlog_not_found off;\r\n            \taccess_log off;\r\n        }\r\n\r\n  \t# deny direct access\r\n  \tlocation ~ ^/(data|config|\\.ht|db_structure\\.xml|readme) {\r\n    \t\tdeny all;\r\n  \t}\r\n\r\n        location ~ ^(.+?\\.php)(/.*)?$ {\r\n                try_files $1 = 404;\r\n\r\n                include fastcgi_params;\r\n                fastcgi_param script_filename $document_root$1;\r\n                fastcgi_param path_info $2;\r\n                fastcgi_param https on;\r\n                fastcgi_pass backend;\r\n        }\r\n\r\n        # optional: set long expires header on static assets\r\n        location ~* ^.+\\.(jpg|jpeg|gif|bmp|ico|png|css|js|swf)$ {\r\n                expires 30d;\r\n                # optional: don't log access to assets\r\n                access_log off;\r\n        }\r\n}\r\n\r\n\r\n\r\n","closed_by":null}