{"url":"https://api.github.com/repos/owncloud/core/issues/2514","labels_url":"https://api.github.com/repos/owncloud/core/issues/2514/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2514/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2514/events","html_url":"https://github.com/owncloud/core/issues/2514","id":12283215,"number":2514,"title":"sync-client fails to sync and leads server to 100% cpu","user":{"login":"segui","id":1632562,"avatar_url":"https://gravatar.com/avatar/4d3393c8606f04bacee4881cbaf1f98c?d=https%3a%2f%2fidenticons.github.com%2f375906d837601f577df0ef4e2b4886a5.png&r=x","gravatar_id":"4d3393c8606f04bacee4881cbaf1f98c","url":"https://api.github.com/users/segui","html_url":"https://github.com/segui","followers_url":"https://api.github.com/users/segui/followers","following_url":"https://api.github.com/users/segui/following{/other_user}","gists_url":"https://api.github.com/users/segui/gists{/gist_id}","starred_url":"https://api.github.com/users/segui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/segui/subscriptions","organizations_url":"https://api.github.com/users/segui/orgs","repos_url":"https://api.github.com/users/segui/repos","events_url":"https://api.github.com/users/segui/events{/privacy}","received_events_url":"https://api.github.com/users/segui/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-03-21t16:35:58z","updated_at":"2013-08-06t23:19:27z","closed_at":"2013-08-06t23:19:27z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi,\r\n\r\ncontext : onwcloud server 5, mysql 5, client linux/mac/win 1.2.1. about 10 active users for around 20gb\r\n\r\nwhen adding file to a share folder (owned by someone else), sync client seems to loop infinitely while trying to upload file and, on the server side, apache and mysql grows to 100% cpu.\r\n\r\nthe issue seems to be reproducible and thus some i can do some test.\r\n\r\nserver log:\r\n\r\nmar 21 17:31:33 synapse.math.univ-toulouse.fr owncloud[8165]: {php} call_user_func() expects parameter 1 to be a valid callback, class 'oc_search_lucene' not found at /www/owncloud/lib/backgroundjob/worker.php#107\r\nmar 21 17:31:41 synapse.math.univ-toulouse.fr owncloud[8162]: {php} call_user_func() expects parameter 1 to be a valid callback, class 'oc_search_lucene_indexer' not found at /www/owncloud/lib/backgroundjob/worker.php#107\r\nmar 21 17:31:44 synapse.math.univ-toulouse.fr owncloud[8165]: {php} call_user_func() expects parameter 1 to be a valid callback, class 'oc_search_lucene_indexer' not found at /www/owncloud/lib/backgroundjob/worker.php#107\r\nmar 21 17:31:50 synapse.math.univ-toulouse.fr owncloud[8164]: {php} filemtime(): stat failed for /data/sysadmin/files/sysadmin/chiffrement at /www/owncloud/lib/files/storage/local.php#92\r\nmar 21 17:31:50 synapse.math.univ-toulouse.fr owncloud[8164]: {php} use of undefined constant ldaploginfilter - assumed 'ldaploginfilter' at /www/owncloud/apps/user_ldap/group_ldap.php#181\r\nmar 21 17:31:50 synapse.math.univ-toulouse.fr owncloud[8164]: {user_ldap} error when searching: bad search filter code -7\r\n\r\n\r\nno spã©cific client log: says it's ok, file synchronized. on server side, file is left as \".part\" but with correct content.\r\n\r\nbests,","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}