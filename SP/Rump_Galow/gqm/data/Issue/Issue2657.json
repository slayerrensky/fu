{"url":"https://api.github.com/repos/owncloud/core/issues/2657","labels_url":"https://api.github.com/repos/owncloud/core/issues/2657/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2657/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2657/events","html_url":"https://github.com/owncloud/core/issues/2657","id":12707679,"number":2657,"title":"undefined method oc_share_backend_file::getsourcepath()","user":{"login":"lukeowncloud","id":2737900,"avatar_url":"https://gravatar.com/avatar/1ef1079dd415404dfaa9ebb3ff8d33a9?d=https%3a%2f%2fidenticons.github.com%2f3bfdcd91edc141c4b144458741032ea6.png&r=x","gravatar_id":"1ef1079dd415404dfaa9ebb3ff8d33a9","url":"https://api.github.com/users/lukeowncloud","html_url":"https://github.com/lukeowncloud","followers_url":"https://api.github.com/users/lukeowncloud/followers","following_url":"https://api.github.com/users/lukeowncloud/following{/other_user}","gists_url":"https://api.github.com/users/lukeowncloud/gists{/gist_id}","starred_url":"https://api.github.com/users/lukeowncloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukeowncloud/subscriptions","organizations_url":"https://api.github.com/users/lukeowncloud/orgs","repos_url":"https://api.github.com/users/lukeowncloud/repos","events_url":"https://api.github.com/users/lukeowncloud/events{/privacy}","received_events_url":"https://api.github.com/users/lukeowncloud/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/sharing","name":"sharing","color":"e102d8"}],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2013-04-02t14:34:48z","updated_at":"2013-05-06t15:22:31z","closed_at":"2013-05-06t15:22:31z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nusing owncloud client should not fail uploading files.\r\n\r\n### actual behaviour\r\nclient keeps (unsuccessfully) syncing. client and server log errors (see below)\r\n\r\n### steps to reproduce\r\n1. start client.\r\n\r\n### server configuration\r\noperating system: centos 6\r\n\r\nweb server: apache\r\n\r\ndatabase: internal\r\n\r\nphp version: 5.3.3\r\n\r\nowncloud version: 5.0.2\r\n\r\n### client configuration\r\nbrowser: none\r\n\r\nowncloud client: 1.2.2\r\n\r\noperating system: client: win7 32bit, \r\n\r\n### logs\r\n#### web server error log\r\n```\r\n[tue apr 02 16:13:54 2013] [error] [client **ip**] php fatal error:  call to undefined method oc_share_backend_file::getsourcepath() in /var/www/vhosts/myserver/httpdocs/owncloud/apps/files_sharing/lib/cache.php on line 185\r\n```\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n{\"app\":\"files_sharing\",\"message\":\"file source not found for: \\/files\\/bilder und fotos\\/2012\\/05 mai\\/ferien 2012\\/dsc03937.jpg\",\"level\":3,\"time\":1364911958}\r\n{\"app\":\"files_sharing\",\"message\":\"file source not found for: \\/files\\/bilder und fotos\\/2012\\/05 mai\\/ferien 2012\\/dsc03937.jpg\",\"level\":3,\"time\":1364911958}\r\n{\"app\":\"files_sharing\",\"message\":\"file source not found for: \\/files\\/bilder und fotos\\/2012\\/05 mai\\/ferien 2012\\/dsc03937_conflict-20130325-085243.jpg\",\"level\":3,\"time\":1364911958}\r\n{\"app\":\"files_sharing\",\"message\":\"file source not found for: \\/files\\/bilder und fotos\\/2012\\/05 mai\\/ferien 2012\\/dsc03937_conflict-20130325-085243.jpg\",\"level\":3,\"time\":1364911958}\r\n```\r\n\r\n#### owncloud client log (data/owncloud.log)\r\n```04-02 16:13:49:297 oc_module: simple propfind result code 207.\r\n04-02 16:13:49:297 oc_module: server date from http header value: tue, 02 apr 2013 14:13:54 gmt\r\n04-02 16:13:49:297 oc_module: wrn: the time delta changed more than 5 second\r\n04-02 16:13:49:297 oc_module: => errno after fetch resource list for owncloud://myserver.com/owncloud/remote.php/webdav/shared/bilder und fotos/2012/05 mai/ferien 2012: 0\r\n04-02 16:13:49:297 oc_module: working on file ferien 2012\r\n04-02 16:13:49:297 oc_module:   :> subtracting 5 from modtime 1364911964\r\n04-02 16:13:49:297 oc_module: stat result from propfind: ferien 2012, mtime: 1364911959\r\n04-02 16:13:49:297 oc_module: directory of file to open exists.\r\n04-02 16:13:49:297 oc_module: put request on /p/remote.php/webdav/shared/bilder%20und%20fotos/2012/05%20mai/ferien%202012/dsc03937.jpg!\r\n04-02 16:13:49:297 oc_module: sendfile handling request type put.\r\n04-02 16:13:49:297 oc_module: put file size: 4548829, variable sizeof: 8\r\n04-02 16:14:04:008 oc_module: sendfile request failed with http status 500!\r\n04-02 16:14:04:023 _csync_push_file: file: c:\\owncloud\\bilder und fotos\\/2012/05 mai/ferien 2012/dsc03937.jpg, command: sendfile, error: input/output error from errno 5\r\n04-02 16:14:04:039 _csync_push_file: remote repository atomar push enabled for owncloud://myserver.com/owncloud/remote.php/webdav/shared/bilder und fotos/2013/01 januar/geburtstag/dsc05516_conflict-20130325-090506.jpg (0).```\r\n\r\n\r\n","closed_by":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false}}