{"url":"https://api.github.com/repos/owncloud/core/issues/5150","labels_url":"https://api.github.com/repos/owncloud/core/issues/5150/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5150/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5150/events","html_url":"https://github.com/owncloud/core/issues/5150","id":20580826,"number":5150,"title":"oc::$thirdpartyroot","user":{"login":"mythar","id":5296009,"avatar_url":"https://gravatar.com/avatar/9a29f45054111d6d04a6d9204ac2bb26?d=https%3a%2f%2fidenticons.github.com%2f5c4ac55f9bf4dbccb8395635d07bf6e1.png&r=x","gravatar_id":"9a29f45054111d6d04a6d9204ac2bb26","url":"https://api.github.com/users/mythar","html_url":"https://github.com/mythar","followers_url":"https://api.github.com/users/mythar/followers","following_url":"https://api.github.com/users/mythar/following{/other_user}","gists_url":"https://api.github.com/users/mythar/gists{/gist_id}","starred_url":"https://api.github.com/users/mythar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mythar/subscriptions","organizations_url":"https://api.github.com/users/mythar/orgs","repos_url":"https://api.github.com/users/mythar/repos","events_url":"https://api.github.com/users/mythar/events{/privacy}","received_events_url":"https://api.github.com/users/mythar/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":0,"created_at":"2013-10-06t14:50:35z","updated_at":"2013-11-25t10:17:15z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i could not understand why my [somefile].mobile.[css/js] was not loaded.\r\n\r\ni finaly tracked it down to the oc::$thirdpartyroot.\r\n\r\nif \"3rdpartyroot\" is set in config.php [lib/user/database.php] failes to require_once 'phpass/passwordhash.php' - do to the include_path not beeing correct.\r\n\r\nand if \"3rdpartyroot\" is not set in the config.php - base.php sets it to : oc::$thirdpartyroot = oc::$serverroot;\r\n\r\nand when i then try to load a [somefile].mobil.css/js, [lib/templatelayout.php] kinda failes on its first check in function findstylesheetfiles: if(self::appendifexist($files, oc::$thirdpartyroot, oc::$thirdpartywebroot, $style.'.css')) \r\n- as oc::$thirdpartyroot = oc::$serverroot - findstylesheetfiles finds the [somefile].css/js in the 'apps/[someapp]/css' (js) and therefor dose not move on to the next checks in findstylesheetfiles.\r\n\r\nquick fix is to chage line : if(self::appendifexist($files, oc::$thirdpartyroot , oc::$thirdpartywebroot, $style.'.css'))\r\n\r\nto: if(self::appendifexist($files, oc::$thirdpartyroot . '/3rdparty', oc::$thirdpartywebroot, $style.'.css'))\r\n\r\nsame goes for function findjavascriptfiles.\r\n","closed_by":null}