{"url":"https://api.github.com/repos/owncloud/core/issues/6520","labels_url":"https://api.github.com/repos/owncloud/core/issues/6520/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/6520/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/6520/events","html_url":"https://github.com/owncloud/core/pull/6520","id":24579516,"number":6520,"title":"added test cleanup listener to detect untidy tests","user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"labels":[],"state":"open","assignee":null,"milestone":null,"comments":2,"created_at":"2013-12-19t19:21:40z","updated_at":"2013-12-19t22:28:38z","closed_at":null,"pull_request":{"html_url":"https://github.com/owncloud/core/pull/6520","diff_url":"https://github.com/owncloud/core/pull/6520.diff","patch_url":"https://github.com/owncloud/core/pull/6520.patch"},"body":"after each test suite, detects whether there are stray datafiles, hooks\r\nor proxies, then show a warning and clear them.\r\n\r\nnote: the current version will output extra info that mixes itself with the phpunit dots which might not wanted.\r\n\r\n@schiesbn @karlitschek @deepdiver1975 @icewind1991 \r\n\r\ni'm not sure whether this is the right approach or whether it's fair.\r\nmaybe we should just clear silently after all tests and not expect every test file to have the same cleanup code in their `teardownafterclass`. if we do, then we can put this code in a utility function `oc_test::cleanup()` that will tear down everything (maybe even db stuff) to make sure that every test run in a clean state.\r\n\r\nto be discussed.\r\nyou'll see the result once jenkins is done.","closed_by":null}