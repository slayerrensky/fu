{"url":"https://api.github.com/repos/owncloud/core/issues/2817","labels_url":"https://api.github.com/repos/owncloud/core/issues/2817/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2817/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2817/events","html_url":"https://github.com/owncloud/core/issues/2817","id":12966299,"number":2817,"title":"[template][bug] 5.0.3 sanitizing data","user":{"login":"kwiatek6324","id":3830227,"avatar_url":"https://gravatar.com/avatar/67b565ec132abbf700061b46d3414246?d=https%3a%2f%2fidenticons.github.com%2f91e230aef43c3e8e3717e3b64774f8c1.png&r=x","gravatar_id":"67b565ec132abbf700061b46d3414246","url":"https://api.github.com/users/kwiatek6324","html_url":"https://github.com/kwiatek6324","followers_url":"https://api.github.com/users/kwiatek6324/followers","following_url":"https://api.github.com/users/kwiatek6324/following{/other_user}","gists_url":"https://api.github.com/users/kwiatek6324/gists{/gist_id}","starred_url":"https://api.github.com/users/kwiatek6324/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kwiatek6324/subscriptions","organizations_url":"https://api.github.com/users/kwiatek6324/orgs","repos_url":"https://api.github.com/users/kwiatek6324/repos","events_url":"https://api.github.com/users/kwiatek6324/events{/privacy}","received_events_url":"https://api.github.com/users/kwiatek6324/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":9,"created_at":"2013-04-09t11:05:43z","updated_at":"2013-04-12t21:20:22z","closed_at":"2013-04-09t11:21:19z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i've found that when tags or links are includued from apps there is problem with sanitizing:\r\n\r\nfor example problem with app updater:\r\ninformation about new version in html looks-like :\r\n\r\n&lt;span style=&quot;color:#aa0000; font-weight:bold;&quot;&gt;owncloud 5.0.3 is available. get &lt;a href=&quot;http://owncloud.org/&quot;&gt;more information&lt;/a&gt;&lt;/span&gt;\t<br />\r\n\r\nin internal messages link in left menu which is added with appinfo/app.php:\r\n\r\nif ($unread) { $name = $l->t('messages') . \"<span class=counter>\".$unread.\"</span>\" ; } else { $name = $l->t('messages') ; }\r\n\r\nocp\\app::addnavigationentry(\r\n    array( 'id' => 'internal_messages_index',\r\n           'order' => 74,\r\n           'href' => ocp\\util::linkto( 'internal_messages' , 'index.php' ),\r\n           'icon' => ocp\\util::imagepath( 'internal_messages', 'message.png' ),\r\n           'name' => $name  )\r\n   );\r\n\r\n\r\nand when $name includes \"<span...\" in html looks like \r\n\r\nmessages&lt;span class=counter&gt;1&lt;/span&gt;\t\t\r\n\r\nregards\r\nak","closed_by":{"login":"vicdeo","id":991300,"avatar_url":"https://gravatar.com/avatar/57b8c1e26d502d5414e4b2fb875d2994?d=https%3a%2f%2fidenticons.github.com%2fe8357fefe8bad5436de368fa5a419461.png&r=x","gravatar_id":"57b8c1e26d502d5414e4b2fb875d2994","url":"https://api.github.com/users/vicdeo","html_url":"https://github.com/vicdeo","followers_url":"https://api.github.com/users/vicdeo/followers","following_url":"https://api.github.com/users/vicdeo/following{/other_user}","gists_url":"https://api.github.com/users/vicdeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vicdeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicdeo/subscriptions","organizations_url":"https://api.github.com/users/vicdeo/orgs","repos_url":"https://api.github.com/users/vicdeo/repos","events_url":"https://api.github.com/users/vicdeo/events{/privacy}","received_events_url":"https://api.github.com/users/vicdeo/received_events","type":"user","site_admin":false}}