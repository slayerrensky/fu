{"url":"https://api.github.com/repos/owncloud/core/issues/2773","labels_url":"https://api.github.com/repos/owncloud/core/issues/2773/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2773/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2773/events","html_url":"https://github.com/owncloud/core/issues/2773","id":12885368,"number":2773,"title":"unable to update from 4.90.8 to 5.0.3","user":{"login":"ssfly","id":3517234,"avatar_url":"https://gravatar.com/avatar/a4b28b1dda8c32b98dc5dbf01b27fc9b?d=https%3a%2f%2fidenticons.github.com%2f2a1ab7575b0a3f34bfe025d27076d0b6.png&r=x","gravatar_id":"a4b28b1dda8c32b98dc5dbf01b27fc9b","url":"https://api.github.com/users/ssfly","html_url":"https://github.com/ssfly","followers_url":"https://api.github.com/users/ssfly/followers","following_url":"https://api.github.com/users/ssfly/following{/other_user}","gists_url":"https://api.github.com/users/ssfly/gists{/gist_id}","starred_url":"https://api.github.com/users/ssfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssfly/subscriptions","organizations_url":"https://api.github.com/users/ssfly/orgs","repos_url":"https://api.github.com/users/ssfly/repos","events_url":"https://api.github.com/users/ssfly/events{/privacy}","received_events_url":"https://api.github.com/users/ssfly/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":8,"created_at":"2013-04-07t00:06:43z","updated_at":"2013-04-09t09:27:55z","closed_at":"2013-04-08t14:26:09z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nowncloud should update from 4.90.8 to 5.0.3\r\n\r\n### actual behaviour\r\nupdate hangs on update screen, repeating \"turned on maintenance mode. updated database.\" endlessly.\r\n\r\n### steps to reproduce\r\n1. log in to owncloud\r\n2. navigate to admin screen\r\n3. click update button\r\n4. navigate to owncloud root in browser (refreshing current admin page results in blank page)\r\n\r\n### server configuration\r\noperating system: centos 6.3\r\n\r\nweb server: apache 2.2.15\r\n\r\ndatabase: mysql 14.14 distrib 5.5.30\r\n\r\nphp version: 5.4.13\r\n\r\nowncloud version: 4.90.8\r\n\r\n### client configuration\r\nbrowser: chrome 26.0.1410.43\r\n\r\noperating system: windows 7 ultimate x64\r\n\r\n### logs\r\n#### web server error log\r\n[sat apr 06 23:43:12 2013] [error] [client #ip_removed#] php fatal error:  class 'oc_filestorage_common' not found in /#path_removed#/owncloud/apps/files_archive/lib/storage.php on line 9, referer: https://#url_removed#/owncloud/\r\n(note: same error repeats endlessly)\r\n\r\n#### owncloud log (data/owncloud.log)\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292184}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292184}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292187}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292187}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292191}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292191}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292193}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292195}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292195}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292199}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292199}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292203}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292203}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292207}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292207}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292211}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292211}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292214}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292214}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292218}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292218}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292222}\r\n{\"app\":\"php\",\"message\":\"undefined offset: 3 at #path_removed#\\/owncloud\\/lib\\/files\\/cache\\/legacy.php#88\",\"level\":2,\"time\":1365292222}\r\n{\"app\":\"php\",\"message\":\"class 'oc_filestorage_common' not found at #path_removed#\\/owncloud\\/apps\\/files_archive\\/lib\\/storage.php#9\",\"level\":4,\"time\":1365292222}\r\n(note: last 24 messages shown. there's hundreds from the amount of time spent waiting.)\r\n\r\n#### browser log\r\nsee screenshots below.\r\n\r\n![updatescreen](https://f.cloud.github.com/assets/3517234/348020/496d9966-9f16-11e2-87eb-eb69bbaf265d.png)\r\n![javascriptconsole](https://f.cloud.github.com/assets/3517234/348018/49416da0-9f16-11e2-8407-0b8db0318516.png)\r\n![networklog](https://f.cloud.github.com/assets/3517234/348019/4957d248-9f16-11e2-9569-854c22b320b6.png)","closed_by":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false}}