{"url":"https://api.github.com/repos/owncloud/core/issues/3199","labels_url":"https://api.github.com/repos/owncloud/core/issues/3199/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3199/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3199/events","html_url":"https://github.com/owncloud/core/issues/3199","id":13819556,"number":3199,"title":"upgrade from 4.5.6 to 4.5.10 creates issues with sharing. ticket#2013043008000255 ","user":{"login":"bboule","id":3329523,"avatar_url":"https://gravatar.com/avatar/4b5a255289276c6eb3b5e011ff9b289c?d=https%3a%2f%2fidenticons.github.com%2fd66a5a39e175e4864b06648907ba39e5.png&r=x","gravatar_id":"4b5a255289276c6eb3b5e011ff9b289c","url":"https://api.github.com/users/bboule","html_url":"https://github.com/bboule","followers_url":"https://api.github.com/users/bboule/followers","following_url":"https://api.github.com/users/bboule/following{/other_user}","gists_url":"https://api.github.com/users/bboule/gists{/gist_id}","starred_url":"https://api.github.com/users/bboule/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bboule/subscriptions","organizations_url":"https://api.github.com/users/bboule/orgs","repos_url":"https://api.github.com/users/bboule/repos","events_url":"https://api.github.com/users/bboule/events{/privacy}","received_events_url":"https://api.github.com/users/bboule/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/engineering","name":"engineering","color":"e102d8"},{"url":"https://api.github.com/repos/owncloud/core/labels/medium","name":"medium","color":"eb6420"},{"url":"https://api.github.com/repos/owncloud/core/labels/sharing","name":"sharing","color":"e102d8"}],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-04-30t18:11:22z","updated_at":"2013-06-28t19:10:44z","closed_at":"2013-05-10t12:17:59z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"install is on ubuntu 12.04 lts with php 5.3 and mysql was running oc 4.5.6 and did an upgrade by uploading new files and logging in as admin.  \r\n\r\nthe following error message was observed in the owncloud logs post upgrade:\r\n\r\n\"app\":\"core\",\"message\":\"failed to update database structure (mdb2 error: unknown error, _doquery: [error message: could not execute statement]\\n[last executed query: alter table `oc_groups` add primary key (`gid`)]\\n[native code: 1068]\\n[native message: multiple primary key defined]\\n)\",\"level\":4,\"time\":1367313058}\r\n\r\npre-upgrade i was able to share with other uses at the file level via a link.  post upgrade, when i attempt to share a specific file via a link, the link always brings the recipient to the top level folder (and allows them to browse the folders), which should not happen.  if i share a file it should bring them to and give them the ability to simply download this file only.\r\n\r\ni am in the process of working to re-produce this issue, however i have oc logs along with apache logs (which do no provide any real information on the issue).\r\n\r\nlet me know what other information i could provide, i will also post an update once i have done this again (making it repeatable).","closed_by":{"login":"bboule","id":3329523,"avatar_url":"https://gravatar.com/avatar/4b5a255289276c6eb3b5e011ff9b289c?d=https%3a%2f%2fidenticons.github.com%2fd66a5a39e175e4864b06648907ba39e5.png&r=x","gravatar_id":"4b5a255289276c6eb3b5e011ff9b289c","url":"https://api.github.com/users/bboule","html_url":"https://github.com/bboule","followers_url":"https://api.github.com/users/bboule/followers","following_url":"https://api.github.com/users/bboule/following{/other_user}","gists_url":"https://api.github.com/users/bboule/gists{/gist_id}","starred_url":"https://api.github.com/users/bboule/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bboule/subscriptions","organizations_url":"https://api.github.com/users/bboule/orgs","repos_url":"https://api.github.com/users/bboule/repos","events_url":"https://api.github.com/users/bboule/events{/privacy}","received_events_url":"https://api.github.com/users/bboule/received_events","type":"user","site_admin":false}}