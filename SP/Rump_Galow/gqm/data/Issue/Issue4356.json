{"url":"https://api.github.com/repos/owncloud/core/issues/4356","labels_url":"https://api.github.com/repos/owncloud/core/issues/4356/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4356/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4356/events","html_url":"https://github.com/owncloud/core/issues/4356","id":17806120,"number":4356,"title":"cached permissions don't get updated","user":{"login":"jvillafanez","id":1477829,"avatar_url":"https://gravatar.com/avatar/f422e6935e3ae694168c71e02b988ef2?d=https%3a%2f%2fidenticons.github.com%2f0929e47aa842da706b9c79f4c549ae04.png&r=x","gravatar_id":"f422e6935e3ae694168c71e02b988ef2","url":"https://api.github.com/users/jvillafanez","html_url":"https://github.com/jvillafanez","followers_url":"https://api.github.com/users/jvillafanez/followers","following_url":"https://api.github.com/users/jvillafanez/following{/other_user}","gists_url":"https://api.github.com/users/jvillafanez/gists{/gist_id}","starred_url":"https://api.github.com/users/jvillafanez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvillafanez/subscriptions","organizations_url":"https://api.github.com/users/jvillafanez/orgs","repos_url":"https://api.github.com/users/jvillafanez/repos","events_url":"https://api.github.com/users/jvillafanez/events{/privacy}","received_events_url":"https://api.github.com/users/jvillafanez/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-08-08t13:24:05z","updated_at":"2013-12-06t16:39:23z","closed_at":"2013-12-06t16:39:23z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\npermissions changes in the backend should be reflected in the web interface\r\n\r\n### actual behaviour\r\nonce the permissions are cached in the db for a file, those permissions aren't changed in owncloud even if they're different from the ones that the backend storage is reporting\r\n\r\n### steps to reproduce\r\n1. upload a new file\r\n2. refresh the page to make sure the permissions are cached in the db\r\n3. change the permissions of that file in the storage backend (for example remove the write bit so the file couldn't be overwritten)\r\n4. make sure owncloud gets the file change (you can check the \"modified\" time)\r\n5. check the file permissions. you can still see the \"rename\" or \"delete\" actions even though the permissions shouldn't allow that.\r\n\r\nnote: the \"iscreatable\" permission is gotten directly from the fs, not from the cache. other permissions are being cached.\r\n\r\n### server configuration\r\ndatabase: sqlite3\r\n\r\nphp version: 5.3.10\r\n\r\nowncloud version: 5.0.9","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}