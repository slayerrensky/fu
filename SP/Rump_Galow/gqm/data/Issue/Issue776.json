{"url":"https://api.github.com/repos/owncloud/core/issues/776","labels_url":"https://api.github.com/repos/owncloud/core/issues/776/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/776/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/776/events","html_url":"https://github.com/owncloud/core/issues/776","id":9106513,"number":776,"title":"oc-164  -  unable to login to webdav on sharehoster all-inkl.com with php-cgi ","user":{"login":"msrex","id":2625328,"avatar_url":"https://gravatar.com/avatar/24738c0908dad69b83af9cc534bcca80?d=https%3a%2f%2fidenticons.github.com%2ff02814cb1648a9552774c0f932619e91.png&r=x","gravatar_id":"24738c0908dad69b83af9cc534bcca80","url":"https://api.github.com/users/msrex","html_url":"https://github.com/msrex","followers_url":"https://api.github.com/users/msrex/followers","following_url":"https://api.github.com/users/msrex/following{/other_user}","gists_url":"https://api.github.com/users/msrex/gists{/gist_id}","starred_url":"https://api.github.com/users/msrex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msrex/subscriptions","organizations_url":"https://api.github.com/users/msrex/orgs","repos_url":"https://api.github.com/users/msrex/repos","events_url":"https://api.github.com/users/msrex/events{/privacy}","received_events_url":"https://api.github.com/users/msrex/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":{"login":"icewind1991","id":1283854,"avatar_url":"https://gravatar.com/avatar/7c20f90ca5df67dd2cad22a8e2f80d8f?d=https%3a%2f%2fidenticons.github.com%2fc818423776eba38604496a7caddc0251.png&r=x","gravatar_id":"7c20f90ca5df67dd2cad22a8e2f80d8f","url":"https://api.github.com/users/icewind1991","html_url":"https://github.com/icewind1991","followers_url":"https://api.github.com/users/icewind1991/followers","following_url":"https://api.github.com/users/icewind1991/following{/other_user}","gists_url":"https://api.github.com/users/icewind1991/gists{/gist_id}","starred_url":"https://api.github.com/users/icewind1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icewind1991/subscriptions","organizations_url":"https://api.github.com/users/icewind1991/orgs","repos_url":"https://api.github.com/users/icewind1991/repos","events_url":"https://api.github.com/users/icewind1991/events{/privacy}","received_events_url":"https://api.github.com/users/icewind1991/received_events","type":"user","site_admin":false},"milestone":null,"comments":4,"created_at":"2012-12-08t01:21:55z","updated_at":"2013-08-08t15:29:23z","closed_at":"2013-08-08t15:29:23z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"from http://bugs.owncloud.org/thebuggenie/owncloud/issues/oc-164\n\nunclear whether this is fixed. reporter still active - see comments.\n\ndescription:\nat least at the sharehoster all-inkl.com it is impossible to login to /files/webdav.php. opening the url in a browser brings up the login window again and again.\n\non my webspace php 5.3 is available only as cgi. i tracked the issue down to the variable http_authorization not working in my environment. after switching to remote_user it works like a charm.\n\nchanges i made:\n\n1. .htaccess: change rewrite rule to\n\nrewriterule .* - [env=remote_user:%{http:authorization},last]\n\n\n\n2. lib/base.php: as my remote_user also seems to get prefixed a remote i added the following after line 126:\n\nif (isset($_server['redirect_remote_user']) && preg_match('/basic\\s+(.*)$/i', $_server['redirect_remote_user'], $matches))\n{\n\tlist($name, $password) = explode(':', base64_decode($matches[1]));\n\t$_server['php_auth_user'] = strip_tags($name);\n\t$_server['php_auth_pw'] = strip_tags($password);\n}\n\n\n\nhth\n\nlars\n\n\n\nreproduction steps:\n1. install owncloud 3 with an account from all-inkl.com\n2. try to access webdav url owncloud.url/files/webdav.php in a browser\n3. login window pops up over and over again no matter what you enter.\n4. cancel leads to the following error:\n\n<d:error>\n<s:exception>sabre_dav_exception_notauthenticated</s:exception>\n<s:message>no basic authentication headers were found</s:message>\n<s:sabredav-version>1.5.4</s:sabredav-version>\n</d:error>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\n#2 comment posted by wromey feb 01, 12:50\n> on my webspace php 5.3 is available only as cgi.\n\ndoes that mean, owncloud does not recognize php 5.3. can this be the reason, that the gallery is not working for me?\n\nwolfgang\n\n#3 comment posted by lars feb 01, 14:12\n@wromey: no, that means that the version of mod_php is prior to 5.3 but other versions are available as php-cgi. you can tell apache to use them in .htaccess. at my hoster the needed line is\n\naddhandler php53-cgi .php\n\nlars\n\n#4 comment posted by wromey feb 02, 10:48\nthat solved the most problems for me: the calendar is shown, gallery is working in iceweasel and konqueror, bookmarks are saved..\n\nthanx\n\nwolfgang\n\n#5 comment posted by georg ehrke mar 23, 16:02\nwolfgang: are only the apps fixed or also the webdav problem?\n\n#6 comment posted by ahahn apr 16, 21:18\ni have the same issues with my web dav login. iâ´m hosting own cloud on my own server (webserver2008 r2). i did the changes you advised, but i still have the same trouble with the login via web dav smileys/4.png\n\n#7 comment posted by patrick jun 02, 17:42\nthis solved my problem for logging in with web dav.\n\n#8 comment posted by robin appelman sep 30, 01:54\ncan anyone confirm if the problem still exists with the latest test release?\n\n#9 comment posted by miå¡ka nov 07, 15:44\ni can confirm this. was helping out during local conference one guy to setup owncloud on his web hosting. it was owncloud 4.5.1a and we still hit the same bug (fortunately patch worked). again it was some generic hosting provider - nothing in provided logs, no idea about technical background of the hosting and no way to reproduce it now as i'll probably never meet that guy again.\n","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}