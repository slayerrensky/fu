{"url":"https://api.github.com/repos/owncloud/core/issues/4855","labels_url":"https://api.github.com/repos/owncloud/core/issues/4855/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4855/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4855/events","html_url":"https://github.com/owncloud/core/issues/4855","id":19504077,"number":4855,"title":"[5.0.10] webserver returns empty body after creating directory","user":{"login":"tie-fighter","id":170315,"avatar_url":"https://gravatar.com/avatar/4dfcbf9ce527cc223c4bddc4a81695f6?d=https%3a%2f%2fidenticons.github.com%2f2bbfcedcbdd1845d95750be52add6998.png&r=x","gravatar_id":"4dfcbf9ce527cc223c4bddc4a81695f6","url":"https://api.github.com/users/tie-fighter","html_url":"https://github.com/tie-fighter","followers_url":"https://api.github.com/users/tie-fighter/followers","following_url":"https://api.github.com/users/tie-fighter/following{/other_user}","gists_url":"https://api.github.com/users/tie-fighter/gists{/gist_id}","starred_url":"https://api.github.com/users/tie-fighter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tie-fighter/subscriptions","organizations_url":"https://api.github.com/users/tie-fighter/orgs","repos_url":"https://api.github.com/users/tie-fighter/repos","events_url":"https://api.github.com/users/tie-fighter/events{/privacy}","received_events_url":"https://api.github.com/users/tie-fighter/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":5,"created_at":"2013-09-14t15:49:05z","updated_at":"2013-11-29t11:44:45z","closed_at":"2013-11-29t11:44:45z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nthe default owncloud interface should appear\r\n\r\n### actual behaviour\r\nempty window\r\n\r\n### steps to reproduce\r\n1. i created a directory called \"projekte\" via interface or mkdir\r\n2. webserver returns the following html for index.php (brackets replaced because github): (html) (head) (/head) (body style=\"zoom: 1;\")  (/body) (/html)\r\n3. \"rm projekte -r\"\r\n4. everything works again\r\n\r\n### server configuration\r\noperating system:\r\nlinux owncloud 3.2.0-4-686-pae #1 smp debian 3.2.41-2 i686 gnu/linux\r\n\r\nweb server: \r\nnginx: version: 1.2.1-2.2+wheezy1\r\n\r\ndatabase:\r\npostgresql: version: 9.1+134wheezy3\r\n\r\nphp version:\r\nphp5-common: version: 5.4.4-14+deb7u4\r\nphp5-pgsql: version: 5.4.4-14+deb7u4\r\nphp5-fpm: version: 5.4.4-14+deb7u4\r\n\r\nowncloud version:\r\n5.0.10\r\n\r\n### logs\r\n#### web server error log\r\n[redacted] - - [14/sep/2013:17:39:48 +0200]  get https://[redacted]/index.php http/1.1  200 31 \"https://[redacted]\" [redacted]\r\n[redacted] - - [14/sep/2013:17:39:48 +0200]  get https://[redacted]/core/templates/404.php http/1.1  200 763 \"-\" [redacted]\r\n\r\n#### owncloud log (data/owncloud.log)\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:24+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:24+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:24+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:24+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:24+00:00\"}\r\n{\"app\":\"php\",\"message\":\"json_encode(): invalid utf-8 sequence in argument at \\/var\\/www\\/[redacted]\\/lib\\/log\\/owncloud.php#58\",\"level\":2,\"time\":\"2013-09-14t15:40:25+00:00\"}\r\n{\"app\":\"core\",\"message\":null,\"level\":2,\"time\":\"2013-09-14t15:40:25+00:00\"}\r\n{\"app\":\"php\",\"message\":\"json_encode(): invalid utf-8 sequence in argument at \\/var\\/www\\/[redacted]\\/lib\\/log\\/owncloud.php#58\",\"level\":2,\"time\":\"2013-09-14t15:40:25+00:00\"}\r\n{\"app\":\"core\",\"message\":null,\"level\":2,\"time\":\"2013-09-14t15:40:25+00:00\"}\r\n{\"app\":\"php\",\"message\":\"sqlstate[22021]: character not in repertoire: 7 error:  invalid byte sequence for encoding \\\"utf8\\\": 0xe46e64 at \\/var\\/www\\/[redacted]/lib\\/db.php#1075\",\"level\":4,\"time\":\"2013-09-14t15:40:25+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:25+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:28+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:28+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:29+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:29+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:29+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:29+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:30+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:30+00:00\"}\r\n{\"app\":\"core\",\"message\":\"include path for class \\\"oc_external\\\" starts with \\\"apps\\/\\\"\",\"level\":0,\"time\":\"2013-09-14t15:40:34+00:00\"}\r\n\r\n\r\n#### browser log\r\ncurl 'https://[redacted]/index.php/apps/files/ajax/newfolder.php' -h 'pragma: no-cache' -h 'requesttoken: 1d1111762850b31a6045' -h 'origin: https://[redacted]' -h 'accept-encoding: gzip,deflate,sdch' -h 'host: [redacted]' -h 'accept-language: en-us,en;q=0.8' -h 'user-agent: [redacted]' -h 'content-type: application/x-www-form-urlencoded; charset=utf-8' -h 'accept: */*' -h 'cache-control: no-cache' -h 'x-requested-with: xmlhttprequest' -h 'cookie: [redacted]; oc_username=[redacted]; oc_token=[redacted]; oc_remember_login=1' -h 'connection: keep-alive' -h 'referer: https://[redacted]' --data 'dir=%2f&foldername=projekte' --compressed\r\n\r\n\r\nthen endless this: \r\n\r\ncurl 'https://[redacted]/index.php/apps/files/ajax/scan.php?force=false&dir=&requesttoken=1d1111762850b31a6045' -h 'pragma: no-cache' -h 'accept-encoding: gzip,deflate,sdch' -h 'host: [redacted]' -h 'accept-language: en-us,en;q=0.8' -h 'user-agent: [redacted]' -h 'accept: text/event-stream' -h 'referer: https://[redacted]/index.php' -h 'cookie: [redacted]; oc_username=[redacted]; oc_token=[redacted]; oc_remember_login=1' -h 'connection: keep-alive' -h 'cache-control: no-cache' --compressed\r\n\r\n\r\nf5:\r\n\r\ncurl 'https://[redacted]/index.php' -h 'pragma: no-cache' -h 'accept-encoding: gzip,deflate,sdch' -h 'host: [redacted]' -h 'accept-language: en-us,en;q=0.8' -h 'user-agent: [redacted]' -h 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -h 'referer: https://[redacted]' -h 'cookie: [redacted]; oc_username=[redacted]; oc_token=[redacted]; oc_remember_login=1' -h 'connection: keep-alive' -h 'cache-control: no-cache' --compressed\r\n\r\n(!) database:\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000005\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000007\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000008\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000009\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_0000000a\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000011\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000017\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_00000019\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_0000001a\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_0000001b\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_0000001c\r\n2013-09-14 17:52:38 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:38 cest statement:  deallocate pdo_stmt_0000001d\r\n2013-09-14 17:52:41 cest error:  invalid byte sequence for encoding \"utf8\": 0xe46e64\r\n2013-09-14 17:52:41 cest statement:  insert into \"oc_filecache\"(\"mimepart\", \"mimetype\", \"mtime\", \"size\", \"etag\", \"path_hash\", \"path\", \"parent\", \"name\", \"encrypted\", \"storage\") values($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000001\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000002\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000003\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000004\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000005\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000007\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000008\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000009\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000000a\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000011\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000017\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000019\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001a\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001b\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001c\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001d\r\n2013-09-14 17:52:41 cest error:  null value in column \"unencrypted_size\" violates not-null constraint\r\n2013-09-14 17:52:41 cest statement:  insert into \"oc_filecache\"(\"mimepart\", \"mimetype\", \"mtime\", \"size\", \"etag\", \"path_hash\", \"path\", \"parent\", \"name\", \"encrypted\", \"storage\") values($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000001\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000002\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000003\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000004\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000005\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000007\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000008\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000009\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000000a\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000013\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000014\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000015\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000016\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000017\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000018\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_00000019\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001a\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001b\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001c\r\n2013-09-14 17:52:41 cest error:  current transaction is aborted, commands ignored until end of transaction block\r\n2013-09-14 17:52:41 cest statement:  deallocate pdo_stmt_0000001d\r\n\r\n","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}