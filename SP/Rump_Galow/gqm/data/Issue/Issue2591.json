{"url":"https://api.github.com/repos/owncloud/core/issues/2591","labels_url":"https://api.github.com/repos/owncloud/core/issues/2591/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2591/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2591/events","html_url":"https://github.com/owncloud/core/issues/2591","id":12504367,"number":2591,"title":"shared calendar can not be downloaded","user":{"login":"ulrich-hansen","id":3983835,"avatar_url":"https://gravatar.com/avatar/c83447de2d13aa1110287ea77e3f9a9d?d=https%3a%2f%2fidenticons.github.com%2f8d97157aeb0014a3e390c72a8a2c110f.png&r=x","gravatar_id":"c83447de2d13aa1110287ea77e3f9a9d","url":"https://api.github.com/users/ulrich-hansen","html_url":"https://github.com/ulrich-hansen","followers_url":"https://api.github.com/users/ulrich-hansen/followers","following_url":"https://api.github.com/users/ulrich-hansen/following{/other_user}","gists_url":"https://api.github.com/users/ulrich-hansen/gists{/gist_id}","starred_url":"https://api.github.com/users/ulrich-hansen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulrich-hansen/subscriptions","organizations_url":"https://api.github.com/users/ulrich-hansen/orgs","repos_url":"https://api.github.com/users/ulrich-hansen/repos","events_url":"https://api.github.com/users/ulrich-hansen/events{/privacy}","received_events_url":"https://api.github.com/users/ulrich-hansen/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":3,"created_at":"2013-03-27t10:28:16z","updated_at":"2013-03-27t17:33:48z","closed_at":"2013-03-27t16:39:54z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"user a shares a calendar with user b and gives him the permission to edit, change and update the calendar.\r\n\r\nbut user b can not download the calendar although the download-icon is present in the calendar properties. instead, a click on the download icon leads to an empty page like:\r\nhttps://subdomain.domain.tld/index.php/apps/calendar/export.php?calid=11\r\n\r\nsuggestion: either make the calendar downloadable for user b or don't show the download icon. \r\n\r\ntest done with owncloud 5.0 on debian wheezy/apache2\r\nhere are some logs from the ownloud.log in the data directory:\r\n\r\n\"app\":\"php\",\"message\":\"undefined index: permissions at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/calendar.php#82\",\"level\":2,\"time\":1364378450}\r\n{\"app\":\"php\",\"message\":\"array_key_exists() expects parameter 2 to be array, boolean given at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/object.php#1032\",\"level\":2,\"time\":1364378450}\r\n{\"app\":\"php\",\"message\":\"trying to get property of non-object at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/sabre\\/object.php#50\",\"level\":2,\"time\":1364378450}\r\n{\"app\":\"php\",\"message\":\"undefined index: permissions at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/calendar.php#82\",\"level\":2,\"time\":1364378450}\r\n{\"app\":\"php\",\"message\":\"array_key_exists() expects parameter 2 to be array, boolean given at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/object.php#1032\",\"level\":2,\"time\":1364378450}\r\n{\"app\":\"php\",\"message\":\"trying to get property of non-object at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/sabre\\/object.php#50\",\"level\":2,\"time\":1364378450}\r\n\r\nand these keep coming up:\r\n\r\n{\"app\":\"php\",\"message\":\"array_key_exists() expects parameter 2 to be array, boolean given at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/object.php#1032\",\"level\":2,\"time\":1364378593}\r\n{\"app\":\"php\",\"message\":\"array_key_exists() expects parameter 2 to be array, boolean given at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/object.php#1032\",\"level\":2,\"time\":1364378593}\r\n{\"app\":\"php\",\"message\":\"array_key_exists() expects parameter 2 to be array, boolean given at \\/var\\/www\\/owncloud\\/apps\\/calendar\\/lib\\/object.php#1032\",\"level\":2,\"time\":1364378593}\r\n\r\nhope this helps.","closed_by":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false}}