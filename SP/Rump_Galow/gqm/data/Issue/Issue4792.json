{"url":"https://api.github.com/repos/owncloud/core/issues/4792","labels_url":"https://api.github.com/repos/owncloud/core/issues/4792/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4792/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4792/events","html_url":"https://github.com/owncloud/core/issues/4792","id":19260738,"number":4792,"title":"htaccessworking check can give wrong answer","user":{"login":"trustmeimanengineer","id":5427733,"avatar_url":"https://gravatar.com/avatar/5692350e81eab7439266f902e8ef4d01?d=https%3a%2f%2fidenticons.github.com%2f644484f24c75778d84c345b04ac95c5b.png&r=x","gravatar_id":"5692350e81eab7439266f902e8ef4d01","url":"https://api.github.com/users/trustmeimanengineer","html_url":"https://github.com/trustmeimanengineer","followers_url":"https://api.github.com/users/trustmeimanengineer/followers","following_url":"https://api.github.com/users/trustmeimanengineer/following{/other_user}","gists_url":"https://api.github.com/users/trustmeimanengineer/gists{/gist_id}","starred_url":"https://api.github.com/users/trustmeimanengineer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trustmeimanengineer/subscriptions","organizations_url":"https://api.github.com/users/trustmeimanengineer/orgs","repos_url":"https://api.github.com/users/trustmeimanengineer/repos","events_url":"https://api.github.com/users/trustmeimanengineer/events{/privacy}","received_events_url":"https://api.github.com/users/trustmeimanengineer/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":0,"created_at":"2013-09-10t14:08:59z","updated_at":"2013-10-18t13:37:24z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"submitting a bug report as requested on the forum:\r\nhttp://forum.owncloud.org/viewtopic.php?f=4&t=15754&sid=f669aa70e3eefabcc94e6b342569624d\r\n\r\ni'm using owncloud on a linux based hosting provider. for me, the htaccessworking check returns the wrong answer. the very handy tools.php page reports that \"htaccess might not be working\", and the mod_rewrite check fails with \"apache_get_modules not available\". i believe this is incorrect. as a test, i defined a new variable inside the <ifmodule mod_rewrite.c> part of the owncloud .htaccess file. if i write some test php code i can see this variable being defined, so the owncloud rewrite rules are being read in the .htaccess file, so the .htaccess file and mod_rewrite are both working.\r\n\r\nit looks like the problem is that the htaccessworking variable is set true only if mod_php5.c and env_module are loaded:\r\n\r\n    <ifmodule mod_php5.c>\r\n    php_value upload_max_filesize 512m\r\n    php_value post_max_size 512m\r\n    php_value memory_limit 512m\r\n    <ifmodule env_module>\r\n    setenv htaccessworking true\r\n    </ifmodule>\r\n    </ifmodule>\r\n\r\nit looks like my host uses the suphp_module instead of mod_php5, so for me this check fails. i don't think the htaccessworking part should be nested like this? it's giving the wrong answer.\r\n\r\nstrangely, if i take out the <ifmodule mod_php5.c> line and the matching </ifmodule>, all scripts fail with a 500 server error. that surprises me, but it's obviously a separate issue.\r\n\r\n(i'm trying to decide if this host provides a workable solution for owncloud before the 7 day trial ends tomorrow ;)\r\n\r\nkind regards,\r\nrichard.","closed_by":null}