{"url":"https://api.github.com/repos/owncloud/core/issues/2864","labels_url":"https://api.github.com/repos/owncloud/core/issues/2864/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2864/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2864/events","html_url":"https://github.com/owncloud/core/issues/2864","id":13057932,"number":2864,"title":"linked appframework will be removed by disabling","user":{"login":"hechi","id":3808354,"avatar_url":"https://identicons.github.com/380a554c45bb9cdb9a7dd47eff1ca682.png","gravatar_id":null,"url":"https://api.github.com/users/hechi","html_url":"https://github.com/hechi","followers_url":"https://api.github.com/users/hechi/followers","following_url":"https://api.github.com/users/hechi/following{/other_user}","gists_url":"https://api.github.com/users/hechi/gists{/gist_id}","starred_url":"https://api.github.com/users/hechi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hechi/subscriptions","organizations_url":"https://api.github.com/users/hechi/orgs","repos_url":"https://api.github.com/users/hechi/repos","events_url":"https://api.github.com/users/hechi/events{/privacy}","received_events_url":"https://api.github.com/users/hechi/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":0,"created_at":"2013-04-11t08:49:59z","updated_at":"2013-04-11t09:45:42z","closed_at":"2013-04-11t09:45:42z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nlinked app will be disabled\r\n\r\n### actual behaviour\r\nlinked app will be removed if i disable it\r\n\r\n### steps to reproduce\r\n1. checkout the latest oc master with this guide (http://doc.owncloud.org/server/master/developer_manual/app/intro/gettingstarted.html)\r\n2. checkout the appframework\r\n3. link the appframework to owncloud/apps/\r\n4. turn on debugging in owncloud/config/config.php\r\n5. restart apache\r\n6. make oc install via webbrowser\r\n7. go to apps on oc website\r\n8. appframework should be enabled by default\r\n9. disable appframework\r\n\r\n### server configuration\r\noperating system: \r\n    # uname -a \r\n    linux debian 3.2.0-4-686-pae #1 smp debian 3.2.39-2 i686 gnu/linux\r\n\r\nweb server: \r\n    # aptitude show apache2\r\n    paket: apache2                                  \r\n    zustand: installiert\r\n    automatisch installiert: nein\r\n    version: 2.2.22-13\r\n    prioritã¤t: optional\r\n    bereich: httpd\r\n    verwalter: debian apache maintainers <debian-apache@lists.debian.org>\r\n    architektur: i386\r\n\r\ndatabase:\r\n    sqlite3\r\n\r\nphp version:\r\n    # aptitude show php5\r\n    paket: php5                                     \r\n    zustand: installiert\r\n    automatisch installiert: nein\r\n    version: 5.4.4-14\r\n    prioritã¤t: optional\r\n    bereich: php\r\n    verwalter: debian php maintainers <pkg-php-maint@lists.alioth.debian.org>\r\n    architektur: all\r\n\r\nowncloud version:\r\n    current master\r\n\r\n### client configuration\r\nbrowser: firefox, chromium\r\n\r\noperating system: debian wheezy\r\n\r\n### logs\r\n#### web server error log\r\n```\r\n[thu apr 11 10:04:49 2013] [error] [client ::1] php warning:  rmdir(/var/www/beta2/owncloud/apps/appframework): not a directory in /var/www/beta2/owncloud/lib/helper.php on line 347, referer: http://localhost/beta2/owncloud/index.php/settings/apps?installed\r\n```\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n\r\n```\r\n\r\n#### browser log\r\n```\r\n\r\n```\r\n\r\n##### my directorys with permissions ######\r\n\r\nroot@debian:/var/www/beta2# ls -lah \r\ninsgesamt 136k\r\ndrwxr-x--x  5 www-data www-data 4,0k apr 11 10:04 .\r\ndrwxr-xr-x  4 root     root     4,0k apr 11 09:49 ..\r\ndrwxr-xr-x 15 www-data www-data 4,0k apr 11 10:04 appframework\r\ndrwxr-x--x 51 www-data www-data 4,0k apr 11 09:54 apps\r\n-rw-r-----  1 www-data www-data 112k apr 11 10:04 ocinst\r\ndrwxr-x--x 17 www-data www-data 4,0k apr 11 09:55 owncloud\r\n\r\nroot@debian:/var/www/beta2# ls -lah appframework/\r\ninsgesamt 76k\r\ndrwxr-xr-x 15 www-data www-data 4,0k apr 11 10:04 .\r\ndrwxr-x--x  5 www-data www-data 4,0k apr 11 10:04 ..\r\ndrwxr-xr-x  4 www-data www-data 4,0k apr 11 10:04 3rdparty\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 appinfo\r\n-rw-r--r--  1 www-data www-data 2,9k apr 11 10:04 app.php\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 controller\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 core\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 db\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 dependencyinjection\r\ndrwxr-xr-x  8 www-data www-data 4,0k apr 11 10:04 .git\r\n-rw-r--r--  1 www-data www-data   66 apr 11 10:04 .gitignore\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 http\r\ndrwxr-xr-x  7 www-data www-data 4,0k apr 11 10:04 js\r\ndrwxr-xr-x  4 www-data www-data 4,0k apr 11 10:04 middleware\r\n-rw-r--r--  1 www-data www-data  478 apr 11 10:04 phpdoc.xml\r\n-rw-r--r--  1 www-data www-data  243 apr 11 10:04 readme.rst\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 templates\r\ndrwxr-xr-x  8 www-data www-data 4,0k apr 11 10:04 tests\r\ndrwxr-xr-x  2 www-data www-data 4,0k apr 11 10:04 utility\r\n\r\nroot@debian:/var/www/beta2# ls -lah owncloud/\r\ninsgesamt 196k\r\ndrwxr-x--x 17 root     root     4,0k apr 11 09:55 .\r\ndrwxr-x--x  5 www-data www-data 4,0k apr 11 09:57 ..\r\ndrwxr-x--x 26 root     root     4,0k apr 11 09:55 3rdparty\r\ndrwxr-x--x 10 www-data www-data 4,0k apr 11 09:52 apps\r\n-rw-r-----  1 root     root      585 apr 11 09:52 authors\r\n-rw-r-----  1 root     root     6,4k apr 11 09:52 autotest.cmd\r\n-rwxr-x--x  1 root     root     2,6k apr 11 09:52 autotest.sh\r\ndrwxr-x--x  2 root     root     4,0k apr 11 09:52 build\r\ndrwxr-x--x  2 www-data www-data 4,0k apr 11 09:52 config\r\n-rw-r-----  1 root     root     1,9k apr 11 09:52 contributing.md\r\n-rw-r-----  1 root     root      34k apr 11 09:52 copying-agpl\r\n-rw-r-----  1 root     root      567 apr 11 09:52 copying-readme\r\ndrwxr-x--x 10 root     root     4,0k apr 11 09:52 core\r\n-rw-r-----  1 root     root     3,2k apr 11 09:52 cron.php\r\ndrwxr-x--x  2 www-data www-data 4,0k apr 11 09:55 data\r\n-rw-r-----  1 root     root      18k apr 11 09:52 db_structure.xml\r\ndrwxr-x--x  2 root     root     4,0k apr 11 09:52 files\r\ndrwxr-x--x  9 root     root     4,0k apr 11 09:55 .git\r\n-rw-r-----  1 root     root      799 apr 11 09:52 .gitignore\r\n-rw-r-----  1 root     root       86 apr 11 09:52 .gitmodules\r\n-rwxr-x--x  1 root     root     1,3k apr 11 09:52 .htaccess\r\n-rw-r-----  1 root     root      102 apr 11 09:52 index.html\r\n-rwxr-x--x  1 root     root      853 apr 11 09:52 index.php\r\n-rw-r-----  1 root     root      591 apr 11 09:52 issue_template.md\r\ndrwxr-x--x 85 root     root     4,0k apr 11 09:52 l10n\r\ndrwxr-x--x 19 root     root     4,0k apr 11 09:52 lib\r\ndrwxr-x--x  2 root     root     4,0k apr 11 09:52 ocs\r\n-rw-r-----  1 root     root      443 apr 11 09:52 public.php\r\n-rw-r-----  1 root     root      753 apr 11 09:52 readme\r\n-rw-r-----  1 root     root      960 apr 11 09:52 remote.php\r\n-rw-r-----  1 root     root       26 apr 11 09:52 robots.txt\r\ndrwxr-x--x  6 root     root     4,0k apr 11 09:52 search\r\ndrwxr-x--x  8 root     root     4,0k apr 11 09:52 settings\r\n-rw-r-----  1 root     root     1,2k apr 11 09:52 status.php\r\ndrwxr-x--x  4 root     root     4,0k apr 11 09:52 tests\r\ndrwxr-x--x  2 root     root     4,0k apr 11 09:52 themes\r\n\r\nroot@debian:/var/www/beta2# ls -lah owncloud/apps/\r\ninsgesamt 40k\r\ndrwxr-x--x 10 www-data www-data 4,0k apr 11 09:58 .\r\ndrwxr-x--x 17 www-data www-data 4,0k apr 11 09:55 ..\r\nlrwxrwxrwx  1 www-data www-data   28 apr 11 09:58 appframework -> /var/www/beta2/appframework/\r\ndrwxr-x--x  9 www-data www-data 4,0k apr 11 09:52 files\r\ndrwxr-x--x  9 www-data www-data 4,0k apr 11 09:52 files_encryption\r\ndrwxr-x--x 12 www-data www-data 4,0k apr 11 09:52 files_external\r\ndrwxr-x--x  8 www-data www-data 4,0k apr 11 09:52 files_sharing\r\ndrwxr-x--x  8 www-data www-data 4,0k apr 11 09:52 files_trashbin\r\ndrwxr-x--x  9 www-data www-data 4,0k apr 11 09:52 files_versions\r\ndrwxr-x--x 10 www-data www-data 4,0k apr 11 09:52 user_ldap\r\ndrwxr-x--x  5 www-data www-data 4,0k apr 11 09:52 user_webdavauth","closed_by":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false}}