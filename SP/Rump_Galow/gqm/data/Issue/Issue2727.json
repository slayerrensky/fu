{"url":"https://api.github.com/repos/owncloud/core/issues/2727","labels_url":"https://api.github.com/repos/owncloud/core/issues/2727/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2727/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2727/events","html_url":"https://github.com/owncloud/core/issues/2727","id":12806737,"number":2727,"title":"oc_filecache and webdav use - cache is not updated on rename","user":{"login":"gitmh","id":4058365,"avatar_url":"https://gravatar.com/avatar/999d02e0c80bcdc90b372378d7cb60ad?d=https%3a%2f%2fidenticons.github.com%2f8bbf4bf7091fdb23ee24097a4424dfe6.png&r=x","gravatar_id":"999d02e0c80bcdc90b372378d7cb60ad","url":"https://api.github.com/users/gitmh","html_url":"https://github.com/gitmh","followers_url":"https://api.github.com/users/gitmh/followers","following_url":"https://api.github.com/users/gitmh/following{/other_user}","gists_url":"https://api.github.com/users/gitmh/gists{/gist_id}","starred_url":"https://api.github.com/users/gitmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitmh/subscriptions","organizations_url":"https://api.github.com/users/gitmh/orgs","repos_url":"https://api.github.com/users/gitmh/repos","events_url":"https://api.github.com/users/gitmh/events{/privacy}","received_events_url":"https://api.github.com/users/gitmh/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":6,"created_at":"2013-04-04t15:56:51z","updated_at":"2013-04-09t11:33:05z","closed_at":"2013-04-09t10:57:16z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nfiles and folders can be renamed with webdav \r\n\r\n### actual behaviour\r\nfiles get renamed but filecache in db is not - displays wrong data until filecache table is cleared\r\n\r\n### steps to reproduce\r\n1. mount owncloud with webdav as windows network drive (or mac)\r\n2. create a folder/file on pc/mac\r\n3. rename from default \"new folder\" to something else\r\n4. webclient or after network-drive refresh there is still a \"new folder\" but on the server it is already renamed\r\n5. oc_filecache is not refreshed and has the old file/foldername \r\n6. clearing oc_filecache table by hand resolves the problem\r\n\r\n### server configuration\r\noperating system: debian linux\r\nweb server: apache\r\ndatabase: mysql\r\nphp version: 5.3.3.7\r\nowncloud version: 5.0.3\r\n\r\n### logs\r\nnothing in logs when renaming folder. when accessing the old folder name the typical not found errors:\r\nwarning\tphp\tfilemtime(): stat failed for /var/www/owncloud/data/admin/files/neuer ordner at /var/www/owncloud/lib/files/storage/local.php#92\t04.04.2013 12:50\r\nwarning\tphp\tcopy(/var/www/owncloud/data/admin/files/neuer ordner): failed to open stream: no such file or directory at /var/www/owncloud/lib/files/storage/local.php#140\r\n...\r\n\r\n\r\nlooks like the rename operation in webdav does not trigger a change for oc_filecache.\r\nis there a way to change the filecache behaviour or disable it?","closed_by":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false}}