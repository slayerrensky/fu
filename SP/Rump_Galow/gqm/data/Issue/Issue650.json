{"url":"https://api.github.com/repos/owncloud/core/issues/650","labels_url":"https://api.github.com/repos/owncloud/core/issues/650/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/650/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/650/events","html_url":"https://github.com/owncloud/core/pull/650","id":8857752,"number":650,"title":"fix regression in file versioning for shared files","user":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2012-11-30t13:28:23z","updated_at":"2012-12-03t10:45:40z","closed_at":"2012-12-03t10:45:40z","pull_request":{"html_url":"https://github.com/owncloud/core/pull/650","diff_url":"https://github.com/owncloud/core/pull/650.diff","patch_url":"https://github.com/owncloud/core/pull/650.patch"},"body":"fix some obvious regressions in master with respect to versioning of shared files.\n\neven with this fix versioning of shared files does not work completely in master. the function used to get the source of a shared file only works for files directly shared but not for files in a shared folder because such files are not stored in the oc_share database.\n\n@mtgap we really need to find a solution here. we have various places where we need to find the file source of files somewhere in a shared folder. this does not work with the database queries provided by ocp\\share::get*. will this work with the new file cache and the adapted sharing? otherwise i would really like to get apps/files_sharing/lib/util.php from stable45 into master. there are more and more issues which are resolved in stable45 but can't be fixed in master because such a function is missed.\n\nnevertheless i would like to get this patch into master because it fixes some obvious regressions.","closed_by":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false}}