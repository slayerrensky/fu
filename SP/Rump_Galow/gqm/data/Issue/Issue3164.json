{"url":"https://api.github.com/repos/owncloud/core/issues/3164","labels_url":"https://api.github.com/repos/owncloud/core/issues/3164/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3164/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3164/events","html_url":"https://github.com/owncloud/core/issues/3164","id":13753753,"number":3164,"title":"very slow access to shared folders","user":{"login":"joachimkunz","id":3592558,"avatar_url":"https://gravatar.com/avatar/3649955625bc32cf99d3d5a5715018f0?d=https%3a%2f%2fidenticons.github.com%2f6a2efde96794bde9be2d450397c77242.png&r=x","gravatar_id":"3649955625bc32cf99d3d5a5715018f0","url":"https://api.github.com/users/joachimkunz","html_url":"https://github.com/joachimkunz","followers_url":"https://api.github.com/users/joachimkunz/followers","following_url":"https://api.github.com/users/joachimkunz/following{/other_user}","gists_url":"https://api.github.com/users/joachimkunz/gists{/gist_id}","starred_url":"https://api.github.com/users/joachimkunz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joachimkunz/subscriptions","organizations_url":"https://api.github.com/users/joachimkunz/orgs","repos_url":"https://api.github.com/users/joachimkunz/repos","events_url":"https://api.github.com/users/joachimkunz/events{/privacy}","received_events_url":"https://api.github.com/users/joachimkunz/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/sharing","name":"sharing","color":"e102d8"}],"state":"closed","assignee":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"milestone":null,"comments":2,"created_at":"2013-04-29t10:24:19z","updated_at":"2013-05-06t15:16:25z","closed_at":"2013-05-06t15:16:25z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nfast access to shared files and folders\r\n\r\n### actual behaviour\r\nwe have 14 virtual users to share files (ebooks, project files, etc.).\r\naccess to the \"shared\" folder takes about 15 seconds. now when i go to the shared folder \"ebooks\", the access takes more then 6 minutes.\r\nin the other folder the access takes about 2 minutes.\r\n\r\nthe ebooks folder has 2400 files in 600 folders.\r\nin total, there are about 168000 files.\r\n\r\naccess via webdav gets a timeout error.\r\n\r\n### server configuration\r\noperating system: ubuntu 12.04.2 lts 64bit\r\n\r\nweb server: apache2 (2.2.22)\r\n\r\ndatabase: mysql 5.5.31\r\n\r\nphp version: 5.3.10\r\n\r\nowncloud version: 5.0.5\r\n\r\n### client configuration\r\nbrowser: all\r\n\r\noperating system: windows 7 sp1 64bit\r\n\r\n### logs\r\n#### web server log\r\n```\r\n[29/apr/2013:11:52:22 +0200] \"get /index.php/apps/files?dir=/shared/ebooks http/1.1\" 200 9545 \"https://.../index.php/apps/files?dir=/shared\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:57:17 +0200] \"get /index.php/apps/files/ajax/getstoragestats.php http/1.1\" 200 5567 \"https://.../index.php/apps/files?dir=/shared\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/jquery.iframe-transport.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 390 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/jquery.fileupload.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 390 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/jquery-visibility.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 245 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/filelist.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 245 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/fileactions.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 245 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/files.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 245 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /apps/files/js/keyboardshortcuts.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 245 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /index.php/apps/files/css/files.css?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 277 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /index.php/core/js/config.js http/1.1\" 200 1643 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /remote.php/core.css?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 277 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:33 +0200] \"get /remote.php/core.js?v=ff4d5fbbafdf976cfdc032e3bde78de5 http/1.1\" 304 422 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:34 +0200] \"get /index.php/core/routes.json http/1.1\" 304 277 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:34 +0200] \"post /index.php/core/ajax/translations.php http/1.1\" 200 5162 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:34 +0200] \"get /index.php/core/ajax/share.php?fetch=getitemssharedstatuses&itemtype=file http/1.1\" 200 538 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:34 +0200] \"get /cron.php http/1.1\" 200 522 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n[29/apr/2013:11:58:36 +0200] \"get /index.php/apps/files/ajax/scan.php?force=false&dir=&requesttoken=be4e166ae8e3b0c2534a http/1.1\" 200 696 \"https://.../index.php/apps/files?dir=/shared/ebooks\" \"mozilla/5.0 (windows nt 6.1; win64; x64; rv:18.0) gecko/20130119 firefox/18.0\"\r\n```","closed_by":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false}}