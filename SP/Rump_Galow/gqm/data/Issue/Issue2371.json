{"url":"https://api.github.com/repos/owncloud/core/issues/2371","labels_url":"https://api.github.com/repos/owncloud/core/issues/2371/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2371/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2371/events","html_url":"https://github.com/owncloud/core/issues/2371","id":12092512,"number":2371,"title":"external storage smb/cifs share doesn't show in files app when using postgresql","user":{"login":"sodnpoo","id":284757,"avatar_url":"https://gravatar.com/avatar/4dc2ded7ddb401964300095f64ec8a46?d=https%3a%2f%2fidenticons.github.com%2ff623c83ae897efd90618daa8592d5792.png&r=x","gravatar_id":"4dc2ded7ddb401964300095f64ec8a46","url":"https://api.github.com/users/sodnpoo","html_url":"https://github.com/sodnpoo","followers_url":"https://api.github.com/users/sodnpoo/followers","following_url":"https://api.github.com/users/sodnpoo/following{/other_user}","gists_url":"https://api.github.com/users/sodnpoo/gists{/gist_id}","starred_url":"https://api.github.com/users/sodnpoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sodnpoo/subscriptions","organizations_url":"https://api.github.com/users/sodnpoo/orgs","repos_url":"https://api.github.com/users/sodnpoo/repos","events_url":"https://api.github.com/users/sodnpoo/events{/privacy}","received_events_url":"https://api.github.com/users/sodnpoo/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles_external","name":"app:files_external","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":9,"created_at":"2013-03-16t09:34:15z","updated_at":"2013-10-17t13:02:51z","closed_at":"2013-10-17t13:02:51z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nsmb/cifs share should appear in files app\r\n\r\n### actual behaviour\r\nfiles app shows 'nothing in here. upload something!'\r\n\r\n### steps to reproduce\r\n1. install owncloud v5 using postgres as the database\r\n2. enable the file_external app\r\n3. configure a smb/cifs share\r\n4. go to files app - share isn't displayed\r\n\r\n### server configuration\r\noperating system: freebsd 9\r\n\r\nweb server: apache 2\r\n\r\ndatabase: postgres\r\n\r\nphp version: 5.3.8\r\n\r\nowncloud version: 5\r\n\r\n### client configuration\r\nbrowser: chromium\r\n\r\noperating system: mint\r\n\r\n### logs\r\n#### web server error log\r\nnothing significant in the default logs, however code modified to show failing sql:\r\n\r\n[sat mar 16 09:25:39 2013] [error] [client 213.249.189.99] query: insert into `*prefix*filecache`(`mimepart`, `mimetype`, `mtime`, `size`, `etag`, `path_hash`, `path`, `parent`, `name`, `encrypted`, `storage`) values(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?), referer: http://xxxx/index.php/settings/admin\r\n[sat mar 16 09:25:39 2013] [error] [client 213.249.189.99] params: array (\\n  0 => '1',\\n  1 => '2',\\n  2 => 1356257702,\\n  3 => -1,\\n  4 => '51443a932ff1d',\\n  5 => 'd41d8cd98f00b204e9800998ecf8427e',\\n  6 => '',\\n  7 => -1,\\n  8 => '',\\n  9 => 0,\\n  10 => '2',\\n), referer: http://xxxx/index.php/settings/admin\r\n\r\n#### owncloud log (data/owncloud.log)\r\n{\"app\":\"cache\",\"message\":\"insert to cache failed: mdb2 error: null value violates not-null constraint\",\"level\":3,\"time\":1363423632}\r\n\r\n### additional information\r\nexactly the same system configured to use sqlite instead works as expected.\r\n","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}