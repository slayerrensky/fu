{"url":"https://api.github.com/repos/owncloud/core/issues/5459","labels_url":"https://api.github.com/repos/owncloud/core/issues/5459/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5459/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5459/events","html_url":"https://github.com/owncloud/core/issues/5459","id":21348489,"number":5459,"title":"null pointer dereference libxml2-2.dll","user":{"login":"gitnol","id":2466699,"avatar_url":"https://gravatar.com/avatar/e74790df85aa4c2b2d4fcf5b6610bc16?d=https%3a%2f%2fidenticons.github.com%2fed59ba9de488f3cd1485464be27a3667.png&r=x","gravatar_id":"e74790df85aa4c2b2d4fcf5b6610bc16","url":"https://api.github.com/users/gitnol","html_url":"https://github.com/gitnol","followers_url":"https://api.github.com/users/gitnol/followers","following_url":"https://api.github.com/users/gitnol/following{/other_user}","gists_url":"https://api.github.com/users/gitnol/gists{/gist_id}","starred_url":"https://api.github.com/users/gitnol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitnol/subscriptions","organizations_url":"https://api.github.com/users/gitnol/orgs","repos_url":"https://api.github.com/users/gitnol/repos","events_url":"https://api.github.com/users/gitnol/events{/privacy}","received_events_url":"https://api.github.com/users/gitnol/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":3,"created_at":"2013-10-21t22:12:05z","updated_at":"2013-10-27t13:06:31z","closed_at":"2013-10-24t09:30:46z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"owncloud.exe exit with an exeption. i don't know exactly if libxml is the reason. i don't think so. but i don't have enough knowledge for debug it on myself.  i have made a dump with procdump and analysed it with windbg. the result is below. hope this helps!\r\nregards\r\nmarkus\r\n\r\n\r\nmicrosoft (r) windows debugger version 6.12.0002.633 amd64\r\ncopyright (c) microsoft corporation. all rights reserved.\r\n\r\n\r\nloading dump file [c:\\temp\\owncloud2_131021_015755.dmp]\r\nuser mini dump file: only registers, stack and portions of memory are available\r\n\r\ncomment: '\r\n*** procdump.exe  -e -x c:\\temp\\owncloud2.dump \"c:\\program files (x86)\\owncloud\\owncloud.exe\"\r\n*** unhandled exception: c0000005.access_violation'\r\nsymbol search path is: srv*c:\\symbols*http://msdl.microsoft.com/download/symbols\r\nexecutable search path is: \r\nwindows 7 version 7601 (service pack 1) mp (8 procs) free x86 compatible\r\nproduct: winnt, suite: singleuserts\r\nmachine name:\r\ndebug session time: mon oct 21 01:57:55.000 2013 (utc + 2:00)\r\nsystem uptime: not available\r\nprocess uptime: 0 days 0:00:59.000\r\n................................................................\r\n.................\r\nloading unloaded module list\r\n............................................................\r\nthis dump file has an exception of interest stored in it.\r\nthe stored exception information can be accessed via .ecxr.\r\n(eec.2294): access violation - code c0000005 (first/second chance not available)\r\neax=00000000 ebx=fffffffc ecx=00000000 edx=00000004 esi=710300d0 edi=710300d4\r\neip=77298e19 esp=0710d2d0 ebp=0710d320 iopl=0         nv up ei pl nz ac po cy\r\ncs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010213\r\nntdll!rtlpwaitoncriticalsection+0xbd:\r\n77298e19 ff4014          inc     dword ptr [eax+14h]  ds:002b:00000014=????????\r\n0:012> !analyze -v\r\n*******************************************************************************\r\n*                                                                             *\r\n*                        exception analysis                                   *\r\n*                                                                             *\r\n*******************************************************************************\r\n\r\n*** error: symbol file could not be found.  defaulted to export symbols for libxml2-2.dll - \r\n*** error: symbol file could not be found.  defaulted to export symbols for libneon-27.dll - \r\n*** error: symbol file could not be found.  defaulted to export symbols for ocsync_owncloud.dll - \r\n*** error: symbol file could not be found.  defaulted to export symbols for libocsync.dll - \r\n*** error: symbol file could not be found.  defaulted to export symbols for libowncloudsync.dll - \r\n*** error: symbol file could not be found.  defaulted to export symbols for libgcc_s_sjlj-1.dll - \r\n*** error: module load completed but symbols could not be loaded for owncloud.exe\r\n*** error: symbol file could not be found.  defaulted to export symbols for qtcore4.dll - \r\n*** error: symbol file could not be found.  defaulted to export symbols for qtgui4.dll - \r\n\r\nfaulting_ip: \r\nntdll!rtlpwaitoncriticalsection+bd\r\n77298e19 ff4014          inc     dword ptr [eax+14h]\r\n\r\nexception_record:  ffffffff -- (.exr 0xffffffffffffffff)\r\nexceptionaddress: 77298e19 (ntdll!rtlpwaitoncriticalsection+0x000000bd)\r\n   exceptioncode: c0000005 (access violation)\r\n  exceptionflags: 00000000\r\nnumberparameters: 2\r\n   parameter[0]: 00000001\r\n   parameter[1]: 00000014\r\nattempt to write to address 00000014\r\n\r\nprocess_name:  owncloud.exe\r\n\r\nerror_code: (ntstatus) 0xc0000005 - die anweisung in 0x%08lx verweist auf speicher 0x%08lx. der vorgang %s konnte nicht im speicher durchgef hrt werden.\r\n\r\nexception_code: (ntstatus) 0xc0000005 - die anweisung in 0x%08lx verweist auf speicher 0x%08lx. der vorgang %s konnte nicht im speicher durchgef hrt werden.\r\n\r\nexception_parameter1:  00000001\r\n\r\nexception_parameter2:  00000014\r\n\r\nwrite_address:  00000014 \r\n\r\nfollowup_ip: \r\nlibxml2_2!xmlgetglobalstate+75\r\n70fab2b9 51              push    ecx\r\n\r\nmod_list: <analysis/>\r\n\r\nntglobalflag:  70\r\n\r\napplication_verifier_flags:  0\r\n\r\nlast_control_transfer:  from 77298d28 to 77298e19\r\n\r\nadditional_debug_text:  followup set based on attribute [is_chosencrashfollowupthread] from frame:[0] on thread:[pseudo_thread]\r\n\r\nfaulting_thread:  ffffffff\r\n\r\nbugcheck_str:  application_fault_null_class_ptr_dereference_invalid_pointer_write_fth_active_unknown_xmulti\r\n\r\nprimary_problem_class:  null_class_ptr_dereference_fth_active_unknown_xmulti\r\n\r\ndefault_bucket_id:  null_class_ptr_dereference_fth_active_unknown_xmulti\r\n\r\nstack_text:  \r\n00000000 00000000 libxml2_2!xmlgetglobalstate+0x0\r\n\r\n\r\nsymbol_stack_index:  2\r\n\r\nsymbol_name:  libxml2_2!xmlgetglobalstate+75\r\n\r\nfollowup_name:  machineowner\r\n\r\nmodule_name: libxml2_2\r\n\r\nimage_name:  libxml2-2.dll\r\n\r\ndebug_flr_image_timestamp:  4aae69c1\r\n\r\nstack_command:  ** pseudo context ** ; kb\r\n\r\nfailure_bucket_id:  null_class_ptr_dereference_fth_active_unknown_xmulti_c0000005_libxml2-2.dll!xmlgetglobalstate\r\n\r\nbucket_id:  application_fault_null_class_ptr_dereference_invalid_pointer_write_fth_active_unknown_xmulti_libxml2_2!xmlgetglobalstate+75\r\n\r\nwatson_ibucket:  -392717800\r\n\r\nwatson_ibuckettable:  1\r\n\r\nwatson_stageone_url:  http://watson.microsoft.com/stageone/owncloud_exe/0_0_0_0/5243fbf3/ntdll_dll/6_1_7601_18247/521ea8e7/c0000005/00038e19.htm?retriage=1\r\n\r\nfollowup: machineowner\r\n---------\r\n\r\n0:012> .ecxr\r\neax=00000000 ebx=fffffffc ecx=00000000 edx=00000004 esi=710300d0 edi=710300d4\r\neip=77298e19 esp=0710d2d0 ebp=0710d320 iopl=0         nv up ei pl nz ac po cy\r\ncs=0023  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010213\r\nntdll!rtlpwaitoncriticalsection+0xbd:\r\n77298e19 ff4014          inc     dword ptr [eax+14h]  ds:002b:00000014=????????\r\n0:012> !analyze -v\r\n*******************************************************************************\r\n*                                                                             *\r\n*                        exception analysis                                   *\r\n*                                                                             *\r\n*******************************************************************************\r\n\r\n\r\nfaulting_ip: \r\nntdll!rtlpwaitoncriticalsection+bd\r\n77298e19 ff4014          inc     dword ptr [eax+14h]\r\n\r\nexception_record:  ffffffff -- (.exr 0xffffffffffffffff)\r\nexceptionaddress: 77298e19 (ntdll!rtlpwaitoncriticalsection+0x000000bd)\r\n   exceptioncode: c0000005 (access violation)\r\n  exceptionflags: 00000000\r\nnumberparameters: 2\r\n   parameter[0]: 00000001\r\n   parameter[1]: 00000014\r\nattempt to write to address 00000014\r\n\r\nprocess_name:  owncloud.exe\r\n\r\nerror_code: (ntstatus) 0xc0000005 - die anweisung in 0x%08lx verweist auf speicher 0x%08lx. der vorgang %s konnte nicht im speicher durchgef hrt werden.\r\n\r\nexception_code: (ntstatus) 0xc0000005 - die anweisung in 0x%08lx verweist auf speicher 0x%08lx. der vorgang %s konnte nicht im speicher durchgef hrt werden.\r\n\r\nexception_parameter1:  00000001\r\n\r\nexception_parameter2:  00000014\r\n\r\nwrite_address:  00000014 \r\n\r\nfollowup_ip: \r\nlibxml2_2!xmlgetglobalstate+75\r\n70fab2b9 51              push    ecx\r\n\r\nmod_list: <analysis/>\r\n\r\nntglobalflag:  70\r\n\r\napplication_verifier_flags:  0\r\n\r\nlast_control_transfer:  from 77298d28 to 77298e19\r\n\r\nadditional_debug_text:  followup set based on attribute [is_chosencrashfollowupthread] from frame:[0] on thread:[pseudo_thread]\r\n\r\nfaulting_thread:  ffffffff\r\n\r\nbugcheck_str:  application_fault_null_class_ptr_dereference_invalid_pointer_write_fth_active_unknown_xmulti\r\n\r\nprimary_problem_class:  null_class_ptr_dereference_fth_active_unknown_xmulti\r\n\r\ndefault_bucket_id:  null_class_ptr_dereference_fth_active_unknown_xmulti\r\n\r\nstack_text:  \r\n00000000 00000000 libxml2_2!xmlgetglobalstate+0x0\r\n\r\n\r\nsymbol_stack_index:  2\r\n\r\nsymbol_name:  libxml2_2!xmlgetglobalstate+75\r\n\r\nfollowup_name:  machineowner\r\n\r\nmodule_name: libxml2_2\r\n\r\nimage_name:  libxml2-2.dll\r\n\r\ndebug_flr_image_timestamp:  4aae69c1\r\n\r\nstack_command:  ** pseudo context ** ; kb\r\n\r\nfailure_bucket_id:  null_class_ptr_dereference_fth_active_unknown_xmulti_c0000005_libxml2-2.dll!xmlgetglobalstate\r\n\r\nbucket_id:  application_fault_null_class_ptr_dereference_invalid_pointer_write_fth_active_unknown_xmulti_libxml2_2!xmlgetglobalstate+75\r\n\r\nwatson_ibucket:  -392717800\r\n\r\nwatson_ibuckettable:  1\r\n\r\nwatson_stageone_url:  http://watson.microsoft.com/stageone/owncloud_exe/0_0_0_0/5243fbf3/ntdll_dll/6_1_7601_18247/521ea8e7/c0000005/00038e19.htm?retriage=1\r\n\r\nfollowup: machineowner\r\n---------\r\n\r\n0:012> lmvm libxml2_2\r\nstart    end        module name\r\n70f40000 7104d000   libxml2_2   (export symbols)       libxml2-2.dll\r\n    loaded symbol image file: libxml2-2.dll\r\n    mapped memory image file: c:\\program files (x86)\\gtksharp\\2.12\\bin\\libxml2-2.dll\r\n    image path: c:\\program files (x86)\\gtksharp\\2.12\\bin\\libxml2-2.dll\r\n    image name: libxml2-2.dll\r\n    timestamp:        mon sep 14 18:05:21 2009 (4aae69c1)\r\n    checksum:         0012cc0e\r\n    imagesize:        0010d000\r\n    file version:     0.0.0.0\r\n    product version:  0.0.0.0\r\n    file flags:       0 (mask 0)\r\n    file os:          0 unknown base\r\n    file type:        0.0 unknown\r\n    file date:        00000000.00000000\r\n    translations:     0000.04b0 0000.04e4 0409.04b0 0409.04e4\r\n","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}