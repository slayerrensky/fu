{"url":"https://api.github.com/repos/owncloud/core/issues/1968","labels_url":"https://api.github.com/repos/owncloud/core/issues/1968/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1968/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1968/events","html_url":"https://github.com/owncloud/core/issues/1968","id":11465158,"number":1968,"title":"ldap_user not looking for the correct uid attribute?","user":{"login":"jerrac","id":910764,"avatar_url":"https://gravatar.com/avatar/94f514db175a8d425d11b59ddb9914bd?d=https%3a%2f%2fidenticons.github.com%2f2d4e93eae23e52be61d73752b1cd8716.png&r=x","gravatar_id":"94f514db175a8d425d11b59ddb9914bd","url":"https://api.github.com/users/jerrac","html_url":"https://github.com/jerrac","followers_url":"https://api.github.com/users/jerrac/followers","following_url":"https://api.github.com/users/jerrac/following{/other_user}","gists_url":"https://api.github.com/users/jerrac/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrac/subscriptions","organizations_url":"https://api.github.com/users/jerrac/orgs","repos_url":"https://api.github.com/users/jerrac/repos","events_url":"https://api.github.com/users/jerrac/events{/privacy}","received_events_url":"https://api.github.com/users/jerrac/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3auser_ldap","name":"app:user_ldap","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"milestone":null,"comments":20,"created_at":"2013-02-27t17:19:50z","updated_at":"2013-03-27t13:13:27z","closed_at":"2013-03-27t13:13:27z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\ni should be able to log in with my ldap user.\r\n\r\n### actual behaviour\r\nit won't let me log in.\r\n\r\n### steps to reproduce\r\n1. create test ldap user\r\n2. configure ldap_user app in owncloud according to the settings that worked in version 4.5 and what the docs say for version 5 beta 2.\r\n3. attempt to log in with test ldap user.\r\n\r\njudging from the logs and line 886 of user_ldap/lib/access.php, it's looking for ldap attributes called 'entryuuid', 'nsuniqueid', or 'objectguid'. none of those are attributes i use in my directory. \r\n\r\nseems like this should be a config option on the admin page. though, to be honest, i'm not sure what you are doing with this code. i've never done anything like it when i've written an ldap authentication.\r\n\r\n### server configuration\r\noperating system:\r\nubuntu 12.04\r\n\r\nweb server: \r\napache 2.2\r\n\r\ndatabase:\r\nmysql \r\n\r\nphp version:\r\n5.3.10\r\n\r\nowncloud version:\r\n5 beta 2\r\n\r\nldap server:\r\nnovell edirectory\r\n\r\n### client configuration\r\nbrowser:\r\nchromium\r\n\r\noperating system:\r\nubuntu 12.04\r\n\r\n### logs\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"turned off ssl certificate validation successfully.\",\"level\":2,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"testing entryuuid as uuid attr\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"turned off ssl certificate validation successfully.\",\"level\":2,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"requested attribute entryuuid not found for cn=loginname,ou=staff,ou=people,dc=blah,dc=net\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"the looked for uuid attr is not entryuuid, result was \",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"testing nsuniqueid as uuid attr\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"requested attribute nsuniqueid not found for cn=loginname,ou=staff,ou=people,dc=blah,dc=net\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"the looked for uuid attr is not nsuniqueid, result was \",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"testing objectguid as uuid attr\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"requested attribute objectguid not found for cn=loginname,ou=staff,ou=people,dc=blah,dc=net\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"the looked for uuid attr is not objectguid, result was \",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"user_ldap\",\"message\":\"cannot determine uuid for cn=loginname,ou=staff,ou=people,dc=blah,dc=net. skipping.\",\"level\":1,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1361984890}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1361984891}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1361984891}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1361984891}\r\n{\"app\":\"user_ldap\",\"message\":\"run background job \\\"updategroups\\\"\",\"level\":0,\"time\":1361984891}\r\n{\"app\":\"user_ldap\",\"message\":\"bgj \\\"updategroups\\\" \\u2013 last run too fresh, aborting.\",\"level\":0,\"time\":1361984891}\r\n```\r\n","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}