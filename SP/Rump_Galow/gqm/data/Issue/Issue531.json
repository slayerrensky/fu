{"url":"https://api.github.com/repos/owncloud/core/issues/531","labels_url":"https://api.github.com/repos/owncloud/core/issues/531/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/531/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/531/events","html_url":"https://github.com/owncloud/core/issues/531","id":8508579,"number":531,"title":"error 500 on opening a folder (synced with clientsync's)","user":{"login":"julienfastre","id":345600,"avatar_url":"https://gravatar.com/avatar/a0f9db2c5bee623db1bca004d02d1ade?d=https%3a%2f%2fidenticons.github.com%2f10dd45202a1a23de0946f15b1d945815.png&r=x","gravatar_id":"a0f9db2c5bee623db1bca004d02d1ade","url":"https://api.github.com/users/julienfastre","html_url":"https://github.com/julienfastre","followers_url":"https://api.github.com/users/julienfastre/followers","following_url":"https://api.github.com/users/julienfastre/following{/other_user}","gists_url":"https://api.github.com/users/julienfastre/gists{/gist_id}","starred_url":"https://api.github.com/users/julienfastre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julienfastre/subscriptions","organizations_url":"https://api.github.com/users/julienfastre/orgs","repos_url":"https://api.github.com/users/julienfastre/repos","events_url":"https://api.github.com/users/julienfastre/events{/privacy}","received_events_url":"https://api.github.com/users/julienfastre/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2012-11-20t15:31:22z","updated_at":"2013-10-29t05:22:15z","closed_at":"2012-11-20t15:37:28z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi,\n\ni get a \"error 500\" when opening a folder which is synced between different computer with an owncloud's client. \n\nthis is the error in the error log : \n\n\n[tue nov 20 16:19:34 2012] [error] [client xx.xx.xx.xx] php fatal error:  uncaught exception 'pdoexception' with message 'sqlstate[42703]: undefined column: 7 error:  column \"/shared\" does not exist\\nline 1: delete from \"oc_properties\" where \"propertypath\" = \"/shared\"\\n                                                           ^' in /srv/www/cloud/owncloud-4.5.2/owncloud/lib/db.php:738\\nstack trace:\\n#0 /srv/www/cloud/owncloud-4.5.2/owncloud/lib/db.php(738): pdostatement->execute()\\n#1 /srv/www/cloud/owncloud-4.5.2/owncloud/lib/connector/sabre/node.php(283): pdostatementwrapper->execute(array)\\n#2 /srv/www/cloud/owncloud-4.5.2/owncloud/lib/filesystem.php(569): oc_connector_sabre_node::removeetagpropertyforpath('/julien/files_v...')\\n#3 /srv/www/cloud/owncloud-4.5.2/owncloud/lib/filesystemview.php(456): oc_filesystem::removeetaghook(array, '/julien')\\n#4 /srv/www/cloud/owncloud-4.5.2/owncloud/apps/files_versions/lib/versions.php(116): oc_filesystemview->copy('files/clientsyn...', 'files_versions/...')\\n#5 /srv/www/cloud/owncloud-4.5.2/owncloud/apps/files_versions/lib/hooks.php(28): oca_versi in /srv/www/cloud/owncloud-4.5.2/owncloud/lib/db.php on line 738\n\n\ni use owncloud 4.5.2 with php 5.3 and postgresql 9.1. \n\ni checked in the table \"oc_properties\" and there isn't any row where propertypath is like /shared.\n\nbut i think there is an error in the sql syntax:  it should be\n\n```sql\ndelete from \"oc_properties\" where \"propertypath\" = '/shared'; #use of single quotes around the property \n```\n\ninstead of ...\n\n```sql\n-- wrong\ndelete from \"oc_properties\" where \"propertypath\" =\"/shared\"; #use of double quotes\n```\n\nbut it is strange to see that i can still open other folders, which were not synced. but i cannot sync my folder between computers.","closed_by":{"login":"emerzh","id":177003,"avatar_url":"https://gravatar.com/avatar/8be57cd98b8864ebcc903ae7106ea420?d=https%3a%2f%2fidenticons.github.com%2f35789e0e5e2d4b3b73630bb168f26d12.png&r=x","gravatar_id":"8be57cd98b8864ebcc903ae7106ea420","url":"https://api.github.com/users/emerzh","html_url":"https://github.com/emerzh","followers_url":"https://api.github.com/users/emerzh/followers","following_url":"https://api.github.com/users/emerzh/following{/other_user}","gists_url":"https://api.github.com/users/emerzh/gists{/gist_id}","starred_url":"https://api.github.com/users/emerzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emerzh/subscriptions","organizations_url":"https://api.github.com/users/emerzh/orgs","repos_url":"https://api.github.com/users/emerzh/repos","events_url":"https://api.github.com/users/emerzh/events{/privacy}","received_events_url":"https://api.github.com/users/emerzh/received_events","type":"user","site_admin":false}}