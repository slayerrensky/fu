{"url":"https://api.github.com/repos/owncloud/core/issues/5925","labels_url":"https://api.github.com/repos/owncloud/core/issues/5925/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5925/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5925/events","html_url":"https://github.com/owncloud/core/issues/5925","id":22839647,"number":5925,"title":"mysql db initialize issue with ldap user and group backend 0.4.1 in v6 beta4","user":{"login":"catara","id":1438420,"avatar_url":"https://gravatar.com/avatar/6e3f69c38798fd2a077d394a26fd8426?d=https%3a%2f%2fidenticons.github.com%2fefc9af9adcea8bbb6505ce691f9ee271.png&r=x","gravatar_id":"6e3f69c38798fd2a077d394a26fd8426","url":"https://api.github.com/users/catara","html_url":"https://github.com/catara","followers_url":"https://api.github.com/users/catara/followers","following_url":"https://api.github.com/users/catara/following{/other_user}","gists_url":"https://api.github.com/users/catara/gists{/gist_id}","starred_url":"https://api.github.com/users/catara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catara/subscriptions","organizations_url":"https://api.github.com/users/catara/orgs","repos_url":"https://api.github.com/users/catara/repos","events_url":"https://api.github.com/users/catara/events{/privacy}","received_events_url":"https://api.github.com/users/catara/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":3,"created_at":"2013-11-18t15:02:06z","updated_at":"2013-12-09t22:33:01z","closed_at":"2013-12-09t22:33:01z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\n* the ldap user and group backend application should install/activate.\r\n\r\n### actual behaviour\r\ntell us what happens instead\r\n\r\nerror:\r\nan exception occurred while executing 'create table `oc_ldap_group_members` (`owncloudname` varchar(255) default '' not null, `owncloudusers` longtext default '' not null, unique index ldap_group_members_index (`owncloudname`)) default character set utf8 collate utf8_unicode_ci engine = innodb': sqlstate[42000]: syntax error or access violation: 1101 blob/text column 'owncloudusers' can't have a default value\r\n\r\n### steps to reproduce\r\n0. install daily build of owncloud beta4\r\n0.5 activate most of the apps, but for webdav user backend\r\n1. press enable ldap user and group backend\r\n2. get error1\r\n\r\nrepeat:\r\n1. after the error, drop the newly created dbs\r\n\toc_ldap_group_mapping\t\r\n\toc_ldap_user_mapping\r\n1.5. press enable ldap user and group backend\r\n2. get error1\r\n\r\n### server configuration\r\noperating system:\r\n\r\nosx mavericks 10.9 from appstore\r\nserver app v3.01 with most service activated and fix client connectivity(https://discussions.apple.com/message/20328417#20328417)\r\nsudo serveradmin start wiki\r\nsudo webappctl stop com.apple.webapp.webdavsharing\r\n\r\nweb server: \r\napache/2.2.24 (unix) mod_wsgi/3.3 python/2.7.5 mod_fastcgi/2.4.6 mod_ssl/2.2.24 openssl/0.9.8y dav/2 php/5.4.17\r\n\r\ndatabase:\r\ndatabase server type: mysql\r\ndatabase server version: 5.6.14 - mysql community server (gpl)\r\ndatabase phpmyadmin client version: libmysql - mysqlnd 5.0.10 - 20111026\r\n\r\nphp version:\r\nphp/5.4.17\r\n\r\nowncloud version:\r\nowncloudâ 6.0 beta 4 (daily)\r\nldap user and group backend 0.4.1\r\n\r\n\r\n### client configuration\r\nbrowser: n/a \r\noperating system: n/a\r\n\r\n### logs\r\n#### web server error log\r\nn/a\r\ninsert your webserver log here\r\nn/a\r\n#### owncloud log (data/owncloud.log)\r\ninsert your owncloud log here\r\ncapi:files.b ladmin$ tail data/owncloud.log\r\n\r\n{\"app\":\"core\",\"message\":\"an exception occurred while executing 'create table `oc_ldap_group_members` (`owncloudname` varchar(255) default '' not null, `owncloudusers` longtext default '' not null, unique index ldap_group_members_index (`owncloudname`)) default character set utf8 collate utf8_unicode_ci engine = innodb':\\n\\nsqlstate[42000]: syntax error or access violation: 1101 blob\\/text column 'owncloudusers' can't have a default value\",\"level\":3,\"time\":\"2013-11-18t10:31:55+00:00\"}\r\ncapi:files.b ladmin$\r\n\r\n#### browser log\r\nn/a","closed_by":{"login":"catara","id":1438420,"avatar_url":"https://gravatar.com/avatar/6e3f69c38798fd2a077d394a26fd8426?d=https%3a%2f%2fidenticons.github.com%2fefc9af9adcea8bbb6505ce691f9ee271.png&r=x","gravatar_id":"6e3f69c38798fd2a077d394a26fd8426","url":"https://api.github.com/users/catara","html_url":"https://github.com/catara","followers_url":"https://api.github.com/users/catara/followers","following_url":"https://api.github.com/users/catara/following{/other_user}","gists_url":"https://api.github.com/users/catara/gists{/gist_id}","starred_url":"https://api.github.com/users/catara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catara/subscriptions","organizations_url":"https://api.github.com/users/catara/orgs","repos_url":"https://api.github.com/users/catara/repos","events_url":"https://api.github.com/users/catara/events{/privacy}","received_events_url":"https://api.github.com/users/catara/received_events","type":"user","site_admin":false}}