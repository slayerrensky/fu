{"url":"https://api.github.com/repos/owncloud/core/issues/2603","labels_url":"https://api.github.com/repos/owncloud/core/issues/2603/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2603/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2603/events","html_url":"https://github.com/owncloud/core/issues/2603","id":12536066,"number":2603,"title":"syncing of shared folder never gets finished","user":{"login":"systemfuchs","id":3988026,"avatar_url":"https://gravatar.com/avatar/7a30df95d78b221a32eee38ca9311ad1?d=https%3a%2f%2fidenticons.github.com%2f6bf312b4c88b549944fb061c07bf5c25.png&r=x","gravatar_id":"7a30df95d78b221a32eee38ca9311ad1","url":"https://api.github.com/users/systemfuchs","html_url":"https://github.com/systemfuchs","followers_url":"https://api.github.com/users/systemfuchs/followers","following_url":"https://api.github.com/users/systemfuchs/following{/other_user}","gists_url":"https://api.github.com/users/systemfuchs/gists{/gist_id}","starred_url":"https://api.github.com/users/systemfuchs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/systemfuchs/subscriptions","organizations_url":"https://api.github.com/users/systemfuchs/orgs","repos_url":"https://api.github.com/users/systemfuchs/repos","events_url":"https://api.github.com/users/systemfuchs/events{/privacy}","received_events_url":"https://api.github.com/users/systemfuchs/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/sharing","name":"sharing","color":"e102d8"}],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-03-27t21:05:02z","updated_at":"2013-08-07t14:20:13z","closed_at":"2013-08-07t14:20:13z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i've got three shared folders which reside on my root server (running as a ubuntu lts 12.04.2 vm on esxi 5.1) in the internet. the system is running owncloud 5.0, i'm using a mysql db. the system has about 4gb ram and 2x6 core cpu's assigned. it's only purpose is running owncloud.\r\n\r\n**folder a**: about 80mb & 430 files in about 95 folders\r\n**folder b**: about 1.3 gb & 5700 files in about 1650 folders\r\n**folder c**: similar to folder b\r\n\r\nsyncing of all folders with owncloud client 1.2.1 on mac os x 10.7.5 and on windows server 2008 is working fine when the **user a**, which has created the folders is connected.\r\n\r\nso lets summarize all constellations:\r\n\r\nwhen syncing **folder a** with **user a**, which has created the folder, everything is working fine. \r\n\r\nwhen syncing **folder a** with **user b**, which accesses the folder as a shared folder (syntax in the client /shared/<original folder name>), everything is working fine but the process takes remarkably more time (didn't measure this but would say almost double of the time)\r\n\r\nwhen syncing the **folder b** with **user b** which has all necessary rights to sync the contents of the folder with owncloud client 1.2.1 this process takes forever and never finishes (left it there for several hours and canceled it then). i'm not getting any useful error code or something else\r\n\r\ni've also tried syncing with the actual goodsync client on my mac, there i'm getting a **timeout while reading response from server (status code 504)** error when a folder with more than 1600 files is analyzed. inside this folder there are over 1600 small jpeg logos (size for all together is about 8mb) for the use with nagios.\r\n\r\nthe error message is reproducible at this point. every time i start the analysis of this folder it is getting stuck at the same folder.\r\n\r\ni've found out that this particular folder with about 1600 images seems to be the troublemaker.\r\n\r\nwhen i login to the web-interface with **user b** and browsing through this shared folder, i also have a problem to get into this folder. i'm getting a \"timeout while reading response from server\" error.\r\n\r\nwhen using **user a** which created this folder it takes a little while to open this folder but i'm getting no error when browsing in there.\r\n\r\nit seems that there are some time critical bottlenecks in the routines for sharing large folders  with a great amount of small files through webdav.\r\n\r\nif it is helpful i can provide an archive with the folder structure of theses images for testing.","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}