{"url":"https://api.github.com/repos/owncloud/core/issues/3945","labels_url":"https://api.github.com/repos/owncloud/core/issues/3945/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3945/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3945/events","html_url":"https://github.com/owncloud/core/issues/3945","id":16389520,"number":3945,"title":"pdf viewer in browser reports missing file when ampersand present in a directory name","user":{"login":"john7000","id":4946224,"avatar_url":"https://gravatar.com/avatar/1031842c3b604f90657fe72f029fd1cf?d=https%3a%2f%2fidenticons.github.com%2f2bcf57f0a0aefb05cb0d70b0d73def1f.png&r=x","gravatar_id":"1031842c3b604f90657fe72f029fd1cf","url":"https://api.github.com/users/john7000","html_url":"https://github.com/john7000","followers_url":"https://api.github.com/users/john7000/followers","following_url":"https://api.github.com/users/john7000/following{/other_user}","gists_url":"https://api.github.com/users/john7000/gists{/gist_id}","starred_url":"https://api.github.com/users/john7000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john7000/subscriptions","organizations_url":"https://api.github.com/users/john7000/orgs","repos_url":"https://api.github.com/users/john7000/repos","events_url":"https://api.github.com/users/john7000/events{/privacy}","received_events_url":"https://api.github.com/users/john7000/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2013-07-05t07:20:07z","updated_at":"2013-07-05t07:21:36z","closed_at":"2013-07-05t07:21:36z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"if a directory name contains an ampersand (&) then a .pdf file contained directly within it or a sub-directory is reported as missing by the inbuilt pdf viewer in firefox 22 and safari.  the .pdf files can be explicitly downloaded however.\r\n\r\nthe url passed to the pdf viewer contains the raw '&' character e.g.\r\nhttps://myserver.example.au/oc/index.php/apps/files/ajax/download.php?files=my file.php&dir=/topdir/middle&dir/bottomdir\r\n\r\nthe url for the download contains \r\ndir=/topdir/middle%26dir/bottomdir\r\n\r\nit looks like the '&' is not being replaced by the %26 equivalent in the url passed to the embedded viewer.\r\n\r\nseen on v5.0.7 with firefox 22, safari 5.1.9. the error does not occur with with ie 10 (but ie opens a separate window so may be using a different url). \r\n","closed_by":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false}}