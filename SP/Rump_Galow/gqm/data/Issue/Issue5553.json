{"url":"https://api.github.com/repos/owncloud/core/issues/5553","labels_url":"https://api.github.com/repos/owncloud/core/issues/5553/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5553/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5553/events","html_url":"https://github.com/owncloud/core/issues/5553","id":21593580,"number":5553,"title":"memory leak conntecting to localhost samba","user":{"login":"cguenthertuchemnitz","id":3932618,"avatar_url":"https://gravatar.com/avatar/a6496e9e3e917f686aa798995d9c6129?d=https%3a%2f%2fidenticons.github.com%2fb5ca78906fd9e2f7fa105f945ae49b6a.png&r=x","gravatar_id":"a6496e9e3e917f686aa798995d9c6129","url":"https://api.github.com/users/cguenthertuchemnitz","html_url":"https://github.com/cguenthertuchemnitz","followers_url":"https://api.github.com/users/cguenthertuchemnitz/followers","following_url":"https://api.github.com/users/cguenthertuchemnitz/following{/other_user}","gists_url":"https://api.github.com/users/cguenthertuchemnitz/gists{/gist_id}","starred_url":"https://api.github.com/users/cguenthertuchemnitz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cguenthertuchemnitz/subscriptions","organizations_url":"https://api.github.com/users/cguenthertuchemnitz/orgs","repos_url":"https://api.github.com/users/cguenthertuchemnitz/repos","events_url":"https://api.github.com/users/cguenthertuchemnitz/events{/privacy}","received_events_url":"https://api.github.com/users/cguenthertuchemnitz/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2013-10-25t14:25:50z","updated_at":"2013-12-12t09:33:46z","closed_at":"2013-12-12t09:33:46z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi there,\r\n\r\nfor some files, which are synchronized between my owncloud server, computer and notebook i am using a pure owncloud folder called \"clientsync\". i am running also a samba service on the same server to provide fast direct access to files inside my local network (webdav does not fit my requirements). sometimes, when i am on the move i want to access also my samba files through the owncloud webinterface. so i decided to integrate my samba stuff using the external storage solution inside owncloud with the following settings:\r\nfoldername: smb\r\nexternal storage: smb / cifs\r\nurl: localhost\r\nusername: myusername\r\npassword: mypassword\r\nshare: data\r\nroot: empty\r\napplicable: myuser\r\n\r\nthe sharing looks is ready and shows the green status light. after that i see the expected root directories inside the owncloud webinterface: \"clientsync\" and \"smb\". the content behind smb is accessable, but owncloud begins too flood the servers ram only with cache, as soon as i visit the website or connect with an owncloud client. i think it came from the analyses of the connected samba share. the problem is, that when the ram cache also begins to write to swap, even if i set the swappiness to 1, it results in:\r\n200mb of 3,5gb ram used\r\nremainding memory used for cache (orange shown in htop)\r\nswapping... reaching 200mb swap and system freezing caused by 100% system disk io load\r\n\r\nserver:\r\narch linux kernel 3.10.17-1-lts\r\nsamba 4.1.0\r\nphp 5.5.5 including zend engine 2.5.0\r\napache 2.2.25\r\nmysql mariadb 5.5.33a\r\n\r\nowncloud installed via yaourt using aur, owncloud 5.0.12-2\r\nused set up instructions for owncloud:\r\nhttps://wiki.archlinux.org/index.php/owncloud\r\n\r\ni dont't know which logs may be helpful, so please write me which additional information is necessary to see where the problem lives.\r\n\r\nbest regards,\r\nchristian gã¼nther\r\n","closed_by":{"login":"cguenthertuchemnitz","id":3932618,"avatar_url":"https://gravatar.com/avatar/a6496e9e3e917f686aa798995d9c6129?d=https%3a%2f%2fidenticons.github.com%2fb5ca78906fd9e2f7fa105f945ae49b6a.png&r=x","gravatar_id":"a6496e9e3e917f686aa798995d9c6129","url":"https://api.github.com/users/cguenthertuchemnitz","html_url":"https://github.com/cguenthertuchemnitz","followers_url":"https://api.github.com/users/cguenthertuchemnitz/followers","following_url":"https://api.github.com/users/cguenthertuchemnitz/following{/other_user}","gists_url":"https://api.github.com/users/cguenthertuchemnitz/gists{/gist_id}","starred_url":"https://api.github.com/users/cguenthertuchemnitz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cguenthertuchemnitz/subscriptions","organizations_url":"https://api.github.com/users/cguenthertuchemnitz/orgs","repos_url":"https://api.github.com/users/cguenthertuchemnitz/repos","events_url":"https://api.github.com/users/cguenthertuchemnitz/events{/privacy}","received_events_url":"https://api.github.com/users/cguenthertuchemnitz/received_events","type":"user","site_admin":false}}