{"url":"https://api.github.com/repos/owncloud/core/issues/2765","labels_url":"https://api.github.com/repos/owncloud/core/issues/2765/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2765/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2765/events","html_url":"https://github.com/owncloud/core/issues/2765","id":12880225,"number":2765,"title":"post hooks sent for failed operation","user":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2013-04-06t16:47:01z","updated_at":"2013-08-07t18:34:43z","closed_at":"2013-08-07t18:34:43z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"post hooks are sent for operations that fail. for example a call to unlink in the shared storage when delete permission is not set will return false. the post_delete hook sent then causes the file cache to remove the file even though the file was never deleted. \r\n\r\ni think it would be a good idea to not send the post hooks if the operation returns false, but there are also areas that listen to the delete hook and expect the operation to work. so, should we also be checking permissions in oc\\files\\view for the file manipulation functions as well to make sure no hooks are sent?\r\n\r\n@dragotin @karlitschek @icewind1991 @schiesbn ","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}