{"url":"https://api.github.com/repos/owncloud/core/issues/4411","labels_url":"https://api.github.com/repos/owncloud/core/issues/4411/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4411/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4411/events","html_url":"https://github.com/owncloud/core/issues/4411","id":18037272,"number":4411,"title":"virtual hosts -- e.g: webdav.mills.io","user":{"login":"therealprologic","id":1290234,"avatar_url":"https://gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?d=https%3a%2f%2fidenticons.github.com%2fc1299e32c60150a9ea6653910a31abce.png&r=x","gravatar_id":"3cf8ae304409c53b006b47101fe61e34","url":"https://api.github.com/users/therealprologic","html_url":"https://github.com/therealprologic","followers_url":"https://api.github.com/users/therealprologic/followers","following_url":"https://api.github.com/users/therealprologic/following{/other_user}","gists_url":"https://api.github.com/users/therealprologic/gists{/gist_id}","starred_url":"https://api.github.com/users/therealprologic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/therealprologic/subscriptions","organizations_url":"https://api.github.com/users/therealprologic/orgs","repos_url":"https://api.github.com/users/therealprologic/repos","events_url":"https://api.github.com/users/therealprologic/events{/privacy}","received_events_url":"https://api.github.com/users/therealprologic/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2013-08-14t06:40:08z","updated_at":"2013-08-14t09:26:31z","closed_at":"2013-08-14t09:26:31z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi,\r\n\r\ni cannot seem to get virtual hosting working with owncloud.\r\ni **am** able to get a generic virtual host for something\r\nlike https://files.mills.io/ where this just points to the normal\r\nowncloud web interface.\r\n\r\nwhat i want (also) however is to be able to serve up\r\nwebdav on https://webdav.mills.io/\r\n\r\nwhilst i can get this to work with the following apache2 config:\r\n```apache\r\n<virtualhost *:80>\r\n    rewriteengine on\r\n    rewritecond %{https} !=on\r\n    rewriterule ^/?(.*) https://%{server_name}/$1 [r,l]\r\n</virtualhost>\r\n\r\n<virtualhost *:443>\r\n    documentroot /var/www/html/owncloud\r\n    servername files.mills.io\r\n\r\n    rewriteengine on\r\n    rewritecond %{request_uri} !^/files/webdav\\.php.*$ [nc]\r\n    rewritecond %{http_host} webdav.mills.io [nc]\r\n    rewriterule ^/(.*)$ /files/webdav.php/$1 [p]\r\n\r\n    sslengine on\r\n    sslproxyengine on\r\n    sslcertificatefile /etc/pki/tls/certs/localhost.crt\r\n    sslcertificatekeyfile /etc/pki/tls/private/localhost.key\r\n</virtualhost>\r\n```\r\n\r\nthe uri(s) to files come up as: ``https://webdav.mills.io/files/webdav.php/readme.txt``\r\n\r\nnote the ``/files/webdav.php/``. this needs to go away if proper support for such virtual hosting is to be done. in my mind owncloud needs to have a way to configure the baseurl or determine it sensibly?\r\n\r\nthanks!\r\n\r\ncheers\r\njames","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}