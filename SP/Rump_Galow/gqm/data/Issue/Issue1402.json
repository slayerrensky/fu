{"url":"https://api.github.com/repos/owncloud/core/issues/1402","labels_url":"https://api.github.com/repos/owncloud/core/issues/1402/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1402/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1402/events","html_url":"https://github.com/owncloud/core/issues/1402","id":10518347,"number":1402,"title":"error when creating text file in a folder","user":{"login":"emerzh","id":177003,"avatar_url":"https://gravatar.com/avatar/8be57cd98b8864ebcc903ae7106ea420?d=https%3a%2f%2fidenticons.github.com%2f35789e0e5e2d4b3b73630bb168f26d12.png&r=x","gravatar_id":"8be57cd98b8864ebcc903ae7106ea420","url":"https://api.github.com/users/emerzh","html_url":"https://github.com/emerzh","followers_url":"https://api.github.com/users/emerzh/followers","following_url":"https://api.github.com/users/emerzh/following{/other_user}","gists_url":"https://api.github.com/users/emerzh/gists{/gist_id}","starred_url":"https://api.github.com/users/emerzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emerzh/subscriptions","organizations_url":"https://api.github.com/users/emerzh/orgs","repos_url":"https://api.github.com/users/emerzh/repos","events_url":"https://api.github.com/users/emerzh/events{/privacy}","received_events_url":"https://api.github.com/users/emerzh/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/attention","name":"attention","color":"d7e102"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-01-31t21:34:02z","updated_at":"2013-02-17t16:37:22z","closed_at":"2013-02-17t16:37:22z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi, \r\n\r\nin current stable45 when i try to create a new empty text file (using the button) in a sub directory \r\nlike \"my folder\" , \r\nthe file is created but not displayed until i refresh because of an error during the ajax request \r\n```\r\nwarning: filesize(): stat failed for /var/www/pgoc/core/data/admin/filesmydir/test.txt in /var/www/pgoc/core/lib/filestorage/local.php on line 45\r\n\r\ncall stack:\r\n    0.0002     333164   1. {main}() /var/www/pgoc/core/index.php:0\r\n    0.0287    1923252   2. oc::handlerequest() /var/www/pgoc/core/index.php:28\r\n    0.0465    2551708   3. oc::loadappscriptfile() /var/www/pgoc/core/lib/base.php:466\r\n    0.0472    2588352   4. require_once('/var/www/pgoc/core/apps/files/ajax/newfile.php') /var/www/pgoc/core/lib/base.php:481\r\n    0.0835    3812148   5. oc_filecache::get() /var/www/pgoc/core/apps/files/ajax/newfile.php:87\r\n    0.0892    3898192   6. oc_hook::emit() /var/www/pgoc/core/lib/filecache.php:51\r\n    0.0893    3898520   7. call_user_func() /var/www/pgoc/core/lib/hook.php:62\r\n    0.0898    3921200   8. oca_versions\\hooks::write_hook() /var/www/pgoc/core/lib/hook.php:0\r\n    0.0915    4020500   9. oca_versions\\storage->store() /var/www/pgoc/core/apps/files_versions/lib/hooks.php:28\r\n    0.0954    4038988  10. oc_filesystemview->copy() /var/www/pgoc/core/apps/files_versions/lib/versions.php:112\r\n    0.0956    4039420  11. oc_fileproxy::runpreproxies() /var/www/pgoc/core/lib/filesystemview.php:381\r\n    0.0956    4039932  12. oc_fileproxy_quota->precopy() /var/www/pgoc/core/lib/fileproxy.php:88\r\n    0.0956    4040440  13. oc_filesystemview->filesize() /var/www/pgoc/core/lib/fileproxy/quota.php:93\r\n    0.0956    4040520  14. oc_filesystemview->basicoperation() /var/www/pgoc/core/lib/filesystemview.php:195\r\n    0.0961    4041532  15. oc_filestorage_local->filesize() /var/www/pgoc/core/lib/filesystemview.php:605\r\n    0.0962    4041696  16. filesize() /var/www/pgoc/core/lib/filestorage/local.php:45\r\n\r\n\r\nwarning: copy(/var/www/pgoc/core/data/admin/filesdata/test.txt): failed to open stream: no such file or directory in /var/www/pgoc/core/lib/filestorage/local.php on line 109\r\n\r\ncall stack:\r\n    0.0002     333164   1. {main}() /var/www/pgoc/core/index.php:0\r\n    0.0287    1923252   2. oc::handlerequest() /var/www/pgoc/core/index.php:28\r\n    0.0465    2551708   3. oc::loadappscriptfile() /var/www/pgoc/core/lib/base.php:466\r\n    0.0472    2588352   4. require_once('/var/www/pgoc/core/apps/files/ajax/newfile.php') /var/www/pgoc/core/lib/base.php:481\r\n    0.0835    3812148   5. oc_filecache::get() /var/www/pgoc/core/apps/files/ajax/newfile.php:87\r\n    0.0892    3898192   6. oc_hook::emit() /var/www/pgoc/core/lib/filecache.php:51\r\n    0.0893    3898520   7. call_user_func() /var/www/pgoc/core/lib/hook.php:62\r\n    0.0898    3921200   8. oca_versions\\hooks::write_hook() /var/www/pgoc/core/lib/hook.php:0\r\n    0.0915    4020500   9. oca_versions\\storage->store() /var/www/pgoc/core/apps/files_versions/lib/hooks.php:28\r\n    0.0954    4038988  10. oc_filesystemview->copy() /var/www/pgoc/core/apps/files_versions/lib/versions.php:112\r\n    0.1072    4115312  11. oc_filestorage_local->copy() /var/www/pgoc/core/lib/filesystemview.php:426\r\n    0.1072    4115616  12. copy() /var/www/pgoc/core/lib/filestorage/local.php:109\r\n\r\n{\"data\":{\"content\":\"\",\"id\":-1},\"status\":\"success\"}\r\n```\r\n\r\nseems then that the pbm is only a missing trailing \"/\" ... but i'm not sure where to add it...\r\n\r\nfirefox 18, debian stable, apache \r\n","closed_by":{"login":"emerzh","id":177003,"avatar_url":"https://gravatar.com/avatar/8be57cd98b8864ebcc903ae7106ea420?d=https%3a%2f%2fidenticons.github.com%2f35789e0e5e2d4b3b73630bb168f26d12.png&r=x","gravatar_id":"8be57cd98b8864ebcc903ae7106ea420","url":"https://api.github.com/users/emerzh","html_url":"https://github.com/emerzh","followers_url":"https://api.github.com/users/emerzh/followers","following_url":"https://api.github.com/users/emerzh/following{/other_user}","gists_url":"https://api.github.com/users/emerzh/gists{/gist_id}","starred_url":"https://api.github.com/users/emerzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emerzh/subscriptions","organizations_url":"https://api.github.com/users/emerzh/orgs","repos_url":"https://api.github.com/users/emerzh/repos","events_url":"https://api.github.com/users/emerzh/events{/privacy}","received_events_url":"https://api.github.com/users/emerzh/received_events","type":"user","site_admin":false}}