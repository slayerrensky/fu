{"url":"https://api.github.com/repos/owncloud/core/issues/1851","labels_url":"https://api.github.com/repos/owncloud/core/issues/1851/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1851/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1851/events","html_url":"https://github.com/owncloud/core/issues/1851","id":11284232,"number":1851,"title":"restore shared folders","user":{"login":"rperezb","id":1846927,"avatar_url":"https://gravatar.com/avatar/b4ad2bf83a0aabe434d87d674a6a01c0?d=https%3a%2f%2fidenticons.github.com%2f726ebac89cf4616e7506f7abfd8bc43d.png&r=x","gravatar_id":"b4ad2bf83a0aabe434d87d674a6a01c0","url":"https://api.github.com/users/rperezb","html_url":"https://github.com/rperezb","followers_url":"https://api.github.com/users/rperezb/followers","following_url":"https://api.github.com/users/rperezb/following{/other_user}","gists_url":"https://api.github.com/users/rperezb/gists{/gist_id}","starred_url":"https://api.github.com/users/rperezb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rperezb/subscriptions","organizations_url":"https://api.github.com/users/rperezb/orgs","repos_url":"https://api.github.com/users/rperezb/repos","events_url":"https://api.github.com/users/rperezb/events{/privacy}","received_events_url":"https://api.github.com/users/rperezb/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"milestone":null,"comments":3,"created_at":"2013-02-22t12:42:26z","updated_at":"2013-02-27t09:59:16z","closed_at":"2013-02-25t10:05:33z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nif we restore a shared file, it should be restore\r\n\r\n### actual behaviour\r\nthere is an alert message:\r\n\"couldnâ´t restore created on chrome.txt\"\r\n\r\n### steps to reproduce\r\n1. log in account1\r\n2. select to share a folder (letâ´s call it a, with a file a.txt on it) with account2, with edit privileges\r\n3. lo in account2\r\n4. access to shared folder\r\n5. access to the folder a\r\n6. select to delete the file a.txt\r\n7. go to the deleted files\r\n8. select to restore the file a.txt\r\n9. alert message: \"couldnâ´t restore created on chrome.txt\"\r\n\r\n\r\n### server configuration\r\n\r\nacceptance testing, \"version\":\"4.93.10\",\"versionstring\":\"5.0 beta 1\r\nmaster_on_apache_with_sqlite\r\n\r\n[2013-02-22t09:26:17+00:00] info: git[/usr/local/src/owncloud-apps] updated to revision 17a87f9\r\n\r\n[2013-02-22t09:25:41+00:00] info: git[/usr/local/src/owncloud-core] updated to revision 734a463\r\n\r\nowncloud version:\r\n\r\n### client configuration\r\nbrowser: \r\nchrome -->version 24.0.1312.57\r\nfirefox --> version 18.0.2\r\nexplorer --> 9\r\n\r\noperating system:\r\n\r\n### logs\r\n#### web server error log\r\n```\r\n[fri feb 22 12:30:41 2013] [error] [client 33.33.33.1] file does not exist: /var/www/favicon.ico\r\n[fri feb 22 12:30:42 2013] [error] [client 33.33.33.1] php fatal error:  call to a member function getroot() on a non-object in /var/www/lib/files/filesystem.php on line 312, referer: http://33.33.33.10/index.php\r\n\r\n```\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\nerror\t files_trashbin\t couldn't restore file from trash bin, created on chrome.txt\t february 22, 2013 13:30\r\nfatal\t php\t call to a member function getroot() on a non-object at /var/www/lib/files/filesystem.php#312\t february 22, 2013 13:30\r\nwarning\t php\t filemtime(): stat failed for /var/www/data/admin/files/test/created on chrome.txt at /var/www/lib/files/storage/local.php#92\t february 22, 2013 13:30\r\nwarning\tphp\tundefined variable: filename at /var/www/apps/files_versions/lib/versions.php#176\tfebruary 22, 2013 13:30\r\nwarning\tphp\tmissing argument 2 for oca\\files_versions\\storage::getversions(), called in /var/www/apps/files_trashbin/lib/trash.php on line 75 and defined at /var/www/apps/files_versions/lib/versions.php#172\tfebruary 22, 2013 13:30\r\nfatal\tphp\tcall to a member function getroot() on a non-object at /var/www/lib/files/filesystem.php#312\tfebruary 22, 2013 13:30\r\n```\r\n\r\n","closed_by":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false}}