{"url":"https://api.github.com/repos/owncloud/core/issues/4986","labels_url":"https://api.github.com/repos/owncloud/core/issues/4986/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4986/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4986/events","html_url":"https://github.com/owncloud/core/issues/4986","id":20032191,"number":4986,"title":"switching from plain to encrypted setup makes group sharing virtually impossible.","user":{"login":"tilllt","id":1854364,"avatar_url":"https://gravatar.com/avatar/b111c08f0eda485bf921b3e9b04b8415?d=https%3a%2f%2fidenticons.github.com%2fca04e8a64d11e23c6f2015e4001eef94.png&r=x","gravatar_id":"b111c08f0eda485bf921b3e9b04b8415","url":"https://api.github.com/users/tilllt","html_url":"https://github.com/tilllt","followers_url":"https://api.github.com/users/tilllt/followers","following_url":"https://api.github.com/users/tilllt/following{/other_user}","gists_url":"https://api.github.com/users/tilllt/gists{/gist_id}","starred_url":"https://api.github.com/users/tilllt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilllt/subscriptions","organizations_url":"https://api.github.com/users/tilllt/orgs","repos_url":"https://api.github.com/users/tilllt/repos","events_url":"https://api.github.com/users/tilllt/events{/privacy}","received_events_url":"https://api.github.com/users/tilllt/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"milestone":null,"comments":5,"created_at":"2013-09-25t09:57:02z","updated_at":"2013-11-14t09:54:52z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nwhen switching an owncloud installation from plain to encrypted, users should succesively be migrated to encrypted files. the encryption process seems to take place once a user logs in after the site setup to encryption has changed. it should be possible to share files with a group that consists of users that already have switched to encrypted files and users that haven't. users logging in later should have the group shares on \"hold\" until their filebase is encrypted. once they made the transition, the files should be made available to them.\r\n\r\n### actual behaviour\r\nafter doing the switch from plain to encrypted, files can only be shared with groups of users that have all logged in and therefore got their files already encrypted. if you have groups that consists of unencrypted and encrypted users and try to share a file with that group you will get an error message like this: \"following users are not set up for encryption: 6dd8a6b8-7b6c-1032-9f5b-97d153b89a3e, etc.pp.\"\r\n\r\n### steps to reproduce\r\n1. switch an existing owncloud installation, that has several users and groups, from plain to encrypted.\r\n2. login some of the groups users after the config change. \r\n3. try to share a file with the group: you will get an error message.\r\n\r\n### server configuration\r\noperating system: ubuntu server 12.04 / zentyal\r\n\r\nweb server: nginx\r\n\r\ndatabase: sqlite\r\n\r\nphp version: 5.3.10\r\n\r\nowncloud version: 5.0.11\r\n\r\n### client configuration\r\nbrowser: firefox 23.0.1\r\n\r\noperating system: osx 10.8.5\r\n\r\nnothing appears in the logs, just a message in the gui.\r\n","closed_by":null}