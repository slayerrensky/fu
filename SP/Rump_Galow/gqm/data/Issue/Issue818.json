{"url":"https://api.github.com/repos/owncloud/core/issues/818","labels_url":"https://api.github.com/repos/owncloud/core/issues/818/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/818/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/818/events","html_url":"https://github.com/owncloud/core/issues/818","id":9167891,"number":818,"title":"external storage s3 mount folders disappear from web gui","user":{"login":"mtrichards","id":1818977,"avatar_url":"https://gravatar.com/avatar/a1655fd2e819638708ee854fa941008b?d=https%3a%2f%2fidenticons.github.com%2fa75d8baded229745ad65d43f7a7975df.png&r=x","gravatar_id":"a1655fd2e819638708ee854fa941008b","url":"https://api.github.com/users/mtrichards","html_url":"https://github.com/mtrichards","followers_url":"https://api.github.com/users/mtrichards/followers","following_url":"https://api.github.com/users/mtrichards/following{/other_user}","gists_url":"https://api.github.com/users/mtrichards/gists{/gist_id}","starred_url":"https://api.github.com/users/mtrichards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtrichards/subscriptions","organizations_url":"https://api.github.com/users/mtrichards/orgs","repos_url":"https://api.github.com/users/mtrichards/repos","events_url":"https://api.github.com/users/mtrichards/events{/privacy}","received_events_url":"https://api.github.com/users/mtrichards/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles_external","name":"app:files_external","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"milestone":null,"comments":2,"created_at":"2012-12-11t03:29:55z","updated_at":"2013-08-07t18:46:33z","closed_at":"2013-08-07t18:46:33z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"transferred from bug genie.\r\nhttp://bugs.owncloud.org/thebuggenie/owncloud/issues/oc-1879\r\n\r\ndescription:\r\ni recently installed oc 4.5 dev on latest bitnami lamp stack, while trying to mount s3 via the external storage app or custom mount.php file the mount folder just disappear from the screen.\r\n\r\nreproduction steps:\r\nthe first error i got was this: \r\n\r\n```\r\n[mon oct 01 00:50:01 2012] [error] [client 202.180.91.***] php fatal error:  uncaught exception 'curl_exception' with message 'curl resource: resource id #102; curl error: ssl peer certificate or ssh remote key was not ok (curl error code 51). see http://curl.haxx.se/libcurl/c/libcurl-errors.html for an explanation of error codes.' in /opt/bitnami/apps/owncloud/htdocs/3rdparty/aws-sdk/lib/requestcore/requestcore.class.php:824\\nstack trace:\\n#0 /opt/bitnami/apps/owncloud/htdocs/3rdparty/aws-sdk/services/s3.class.php(903): requestcore->send_request()\\n#1 /opt/bitnami/apps/owncloud/htdocs/3rdparty/aws-sdk/services/s3.class.php(1624): amazons3->authenticate('omrimoyal.com', array)\\n#2 /opt/bitnami/apps/owncloud/htdocs/3rdparty/aws-sdk/services/s3.class.php(2181): amazons3->list_objects('omrimoyal.com')\\n#3 /opt/bitnami/apps/owncloud/htdocs/apps/files_external/lib/amazons3.php(107): amazons3->get_bucket_filesize('*****.com')\\n#4 /opt/bitnami/apps/owncloud/htdocs/lib/filestorage/common.php(74): oc_filestorage_amazons3->stat(false)\\n#5 /opt/bitnami/apps/owncloud/htdocs/lib/filesystemview.php(58 in /opt/bitnami/apps/owncloud/htdocs/3rdparty/aws-sdk/lib/requestcore/requestcore.class.php on line 824, referer: http://bitnami.*****.co/owncloud/?app=files\r\n```\r\n\r\nafter a bit of searching i figured out that its curl problem authnticating buckets with names using \".\" via this commit: https://github.com/amazonwebservices/aws-sdk-for-php/pull/42 \r\n\r\nso i made another bucket with just one line name and deleted amazons3 folder via ssh and recreated it with the client. this time the bucket mounted correctly and i was able to see the files on s3 however, soon as i refreshed the page the folder was gone again. once again i deleted the folder via ssh and recreated it and same problem return, can only browse into the amazons3 bucket once then its gone again. \r\n\r\nnot idea where t continue from here because cant see any new error_logs. \r\n\r\nthank you! ","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}