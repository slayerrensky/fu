{"url":"https://api.github.com/repos/owncloud/core/issues/4613","labels_url":"https://api.github.com/repos/owncloud/core/issues/4613/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4613/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4613/events","html_url":"https://github.com/owncloud/core/issues/4613","id":18669453,"number":4613,"title":"[5.0.11rc1] new users can not log in after upgrade","user":{"login":"ser72","id":5174383,"avatar_url":"https://gravatar.com/avatar/66c6eac865eac4d7a60f2a43800c4483?d=https%3a%2f%2fidenticons.github.com%2f927cc606da5dafe8d622924c22038100.png&r=x","gravatar_id":"66c6eac865eac4d7a60f2a43800c4483","url":"https://api.github.com/users/ser72","html_url":"https://github.com/ser72","followers_url":"https://api.github.com/users/ser72/followers","following_url":"https://api.github.com/users/ser72/following{/other_user}","gists_url":"https://api.github.com/users/ser72/gists{/gist_id}","starred_url":"https://api.github.com/users/ser72/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ser72/subscriptions","organizations_url":"https://api.github.com/users/ser72/orgs","repos_url":"https://api.github.com/users/ser72/repos","events_url":"https://api.github.com/users/ser72/events{/privacy}","received_events_url":"https://api.github.com/users/ser72/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/v5.x","name":"v5.x","color":"ededed"}],"state":"closed","assignee":null,"milestone":null,"comments":18,"created_at":"2013-08-28t13:47:02z","updated_at":"2013-09-04t10:38:35z","closed_at":"2013-09-04t10:37:55z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"expected behavior\r\nusers can log into owncloud\r\n\r\nactual behavior\r\nuser cannot log in and data directory is never created\r\n\r\nsteps to reproduce\r\n1.\tin this instance, owncloud was upgraded from 5.0.10 to 5.0.11\r\n2.\tldap was configured and working in 5.0.10.  encryption was enabled in \r\n                  5.0.10. ldap users were able to log in\r\n3.\tafter the upgrade, ldap users who had been logged in on 5.0.10 can \r\n                  log in\r\n4.\tlocal users can log in\r\n5.\tldap users who had never logged in cannot log in.  the browser spins \r\n                  constantly forever.  never spits out any error.  the data directory is \r\n                  never created for these users.\r\n6.\tencryption was disabled in 5.0.11 and users still cannot log in.\r\n7.\tafter closing the browser, the logs continue to fill up with the following \r\n                 repeating continuously until apache was restarted\r\n\r\n{\"app\":\"php\",\"message\":\"filemtime(): stat failed for \\/mnt\\/serlab\\/d5d3bdc6-b988-4dde-b9f4-7f17b0ba8ba6\\/cache\\/ at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#92\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#97\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#97\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"filemtime(): stat failed for \\/mnt\\/serlab\\/61b915a9-6eeb-47a0-acb2-0add98efaf15\\/cache\\/ at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#92\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#97\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#97\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#97\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#97\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"filemtime(): stat failed for \\/mnt\\/serlab\\/d5d3bdc6-b988-4dde-b9f4-7f17b0ba8ba6\\/cache\\/ at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#92\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n{\"app\":\"php\",\"message\":\"filemtime(): stat failed for \\/mnt\\/serlab\\/d5d3bdc6-b988-4dde-b9f4-7f17b0ba8ba6\\/cache\\/ at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#92\",\"level\":2,\"time\":\"2013-08-28t13:27:30+00:00\"}\r\n\r\nserver configuration\r\n{\"installed\":\"true\",\"version\":\"5.0.15\",\"versionstring\":\"5.0.11rc1\"}\r\nubuntu\r\napache\r\n\r\n\r\nclient configuration\r\nbrowser: ie9, ie 10, chrome\r\n\r\n\r\n\r\nedit blizzz:  changed the title from \"ldap users…\" to \"new users…\"","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}