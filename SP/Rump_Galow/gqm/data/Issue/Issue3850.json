{"url":"https://api.github.com/repos/owncloud/core/issues/3850","labels_url":"https://api.github.com/repos/owncloud/core/issues/3850/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3850/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3850/events","html_url":"https://github.com/owncloud/core/issues/3850","id":16010130,"number":3850,"title":"recursive redirects","user":{"login":"fgn-git-hub","id":3586989,"avatar_url":"https://gravatar.com/avatar/172eb3fec14f8a050737e00cdfd7704d?d=https%3a%2f%2fidenticons.github.com%2fa92bb1623dca20369aa77321992d1927.png&r=x","gravatar_id":"172eb3fec14f8a050737e00cdfd7704d","url":"https://api.github.com/users/fgn-git-hub","html_url":"https://github.com/fgn-git-hub","followers_url":"https://api.github.com/users/fgn-git-hub/followers","following_url":"https://api.github.com/users/fgn-git-hub/following{/other_user}","gists_url":"https://api.github.com/users/fgn-git-hub/gists{/gist_id}","starred_url":"https://api.github.com/users/fgn-git-hub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fgn-git-hub/subscriptions","organizations_url":"https://api.github.com/users/fgn-git-hub/orgs","repos_url":"https://api.github.com/users/fgn-git-hub/repos","events_url":"https://api.github.com/users/fgn-git-hub/events{/privacy}","received_events_url":"https://api.github.com/users/fgn-git-hub/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":3,"created_at":"2013-06-26t00:46:02z","updated_at":"2013-08-16t22:35:38z","closed_at":"2013-08-16t22:35:38z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i'm using the ldap authentification plugin within owncloud to enable the ad users which we already maintain, to access the owncloud system. all is working as it should as long as we do the authentification from the local network with the login mask from owncloud. but as soon as i try the authentification from outside (internet) via our entrypoint and forwarding server (apache2 with kerberos auth and reverse proxy rule) which redirects the traffic from https://<externalserver>/owncloud -> https://<internalserver>/owncloud, i have problems, at least with specifc users.\r\n\r\nright now it does help to delete the table: ldap_user_mapping\r\nor to rename the specific username which shows that behavior. \r\n\r\nthis is what i get in owncloud.log: \r\n\r\n{\"app\":\"core\",\"message\":\"redirecttodefaultpage: https:\\/\\/intra.ic-consult.net\\/owncloud\\/\",\"level\":0,\"time\":1370875200}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1370875200}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1370875200}\r\n{\"app\":\"core\",\"message\":\"redirecttodefaultpage: https:\\/\\/intra.ic-consult.net\\/owncloud\\/\",\"level\":0,\"time\":1370875200}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oc_user_database.\",\"level\":0,\"time\":1370875200}\r\n{\"app\":\"core\",\"message\":\"adding user backend instance of oca\\\\user_ldap\\\\user_ldap.\",\"level\":0,\"time\":1370875200}\r\n{\"app\":\"core\",\"message\":\"redirecttodefaultpage: https:\\/\\/intra.ic-consult.net\\/owncloud\\/\",\"level\":0,\"time\":1370875200}\r\n\r\nevery redirect attempt gets a new php session. \r\n\r\n","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}