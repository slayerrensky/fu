{"url":"https://api.github.com/repos/owncloud/core/issues/3055","labels_url":"https://api.github.com/repos/owncloud/core/issues/3055/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3055/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3055/events","html_url":"https://github.com/owncloud/core/issues/3055","id":13446299,"number":3055,"title":"updater: after successful update: redirected to wrong oc start page when using ssl proxy and https enforcement.","user":{"login":"farson2003","id":3358665,"avatar_url":"https://gravatar.com/avatar/18517a90faaa3c9fc3d5d00faa5aa618?d=https%3a%2f%2fidenticons.github.com%2ffebf04b52b959fb06ae824f90a5ad121.png&r=x","gravatar_id":"18517a90faaa3c9fc3d5d00faa5aa618","url":"https://api.github.com/users/farson2003","html_url":"https://github.com/farson2003","followers_url":"https://api.github.com/users/farson2003/followers","following_url":"https://api.github.com/users/farson2003/following{/other_user}","gists_url":"https://api.github.com/users/farson2003/gists{/gist_id}","starred_url":"https://api.github.com/users/farson2003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farson2003/subscriptions","organizations_url":"https://api.github.com/users/farson2003/orgs","repos_url":"https://api.github.com/users/farson2003/repos","events_url":"https://api.github.com/users/farson2003/events{/privacy}","received_events_url":"https://api.github.com/users/farson2003/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/update","name":"update","color":"e10c02"}],"state":"closed","assignee":null,"milestone":null,"comments":15,"created_at":"2013-04-21t08:46:16z","updated_at":"2013-07-24t15:36:59z","closed_at":"2013-07-18t14:50:32z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"after successfully updating owncloud via web-frontend-updater, the user gets redirected to the oc starting page, e.g.: www.subdomain.domain.com/oc/oc/index.php\r\n\r\nhowever, when ssl proxy has been implemented together with https enforcement, this address is wrong and it should be:  https://ssl-account.com/subdomain.domain.com/oc/oc/index.php\r\n(of course, ssl-account.com is the proxy server in my specific case and should be replaced by a proxy server in general. the wonderful dev knows this :-)\r\n\r\ni believe this issue is related to this: https://github.com/owncloud/core/issues/3048\r\n\r\nsteps to reproduce:\r\nconfigure oc for use with ssl proxy (edit config.php accordingly by adding the adjusted parameters, i.e.:\r\n'overwritehost' => 'ssl-account.com',\r\n'overwriteprotocol' => 'https',\r\n'overwritewebroot' => '/subdomain.domain.com/oc/oc',\r\n'overwritecondaddr' => '^xx\\.xx\\.xxx\\.xxx$',\r\n\r\nenforce use of https via web interface configuration.\r\noc can be perfectly reached via ssl proxy using:\r\nhttps://ssl-account.com/subdomain.domain.com/oc/oc/index.php \r\n\r\nupdate owncloud via web-frontend-updater (e.g. 5.04 -> 5.05)\r\n\r\nafter successful update the user gets redirected to the incorrect oc starting page, e.g.: www.subdomain.domain.com/oc/oc/index.php\r\n\r\nsolution:\r\nwhen using ssl proxy and enforcing https, correct redirection after successfully updating owncloud via web-frontend-updater should be to the following address :\r\nhttps://ssl-account.com/subdomain.domain.com/oc/oc/index.php\r\n\r\ni believe this issue is related to this: https://github.com/owncloud/core/issues/3048\r\n\r\nserver configuration:\r\nserver should be ubuntu, as far as i know. (allinkl hosting).\r\nphp version 5.3.18\r\nphp-cgi versionen 5.3.18 4.4.9 5.2.12\r\nmysql version 5.1.66\r\noc 5.04 -> 5.05\r\n\r\nwonderful work!!!! oc gets more stable every dayâ€¦\r\n\r\n","closed_by":{"login":"farson2003","id":3358665,"avatar_url":"https://gravatar.com/avatar/18517a90faaa3c9fc3d5d00faa5aa618?d=https%3a%2f%2fidenticons.github.com%2ffebf04b52b959fb06ae824f90a5ad121.png&r=x","gravatar_id":"18517a90faaa3c9fc3d5d00faa5aa618","url":"https://api.github.com/users/farson2003","html_url":"https://github.com/farson2003","followers_url":"https://api.github.com/users/farson2003/followers","following_url":"https://api.github.com/users/farson2003/following{/other_user}","gists_url":"https://api.github.com/users/farson2003/gists{/gist_id}","starred_url":"https://api.github.com/users/farson2003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/farson2003/subscriptions","organizations_url":"https://api.github.com/users/farson2003/orgs","repos_url":"https://api.github.com/users/farson2003/repos","events_url":"https://api.github.com/users/farson2003/events{/privacy}","received_events_url":"https://api.github.com/users/farson2003/received_events","type":"user","site_admin":false}}