{"url":"https://api.github.com/repos/owncloud/core/issues/6239","labels_url":"https://api.github.com/repos/owncloud/core/issues/6239/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/6239/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/6239/events","html_url":"https://github.com/owncloud/core/issues/6239","id":23925642,"number":6239,"title":"new ldap config wizard floods log","user":{"login":"leo-b","id":6097948,"avatar_url":"https://gravatar.com/avatar/844a5ac2f89dedf54bb173a0134b7b0f?d=https%3a%2f%2fidenticons.github.com%2f8409df19eb5f9a5705dcc6e9916a867e.png&r=x","gravatar_id":"844a5ac2f89dedf54bb173a0134b7b0f","url":"https://api.github.com/users/leo-b","html_url":"https://github.com/leo-b","followers_url":"https://api.github.com/users/leo-b/followers","following_url":"https://api.github.com/users/leo-b/following{/other_user}","gists_url":"https://api.github.com/users/leo-b/gists{/gist_id}","starred_url":"https://api.github.com/users/leo-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leo-b/subscriptions","organizations_url":"https://api.github.com/users/leo-b/orgs","repos_url":"https://api.github.com/users/leo-b/repos","events_url":"https://api.github.com/users/leo-b/events{/privacy}","received_events_url":"https://api.github.com/users/leo-b/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3auser_ldap","name":"app:user_ldap","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":7,"created_at":"2013-12-08t16:08:29z","updated_at":"2013-12-16t11:37:21z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi!\r\n\r\non my active directory setup, the new oc6 ldap config wizard hits a 1000 user/group search limit and doesn't seem to process the error correctly: when selecting the user filter tab, it floods the log for about one minute with the following messages: (i have added some log output to see what's going on..)\r\n\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: determineuserobjectclasses\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_count_entries\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_first_entry\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_attributes\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_dn\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_next_entry\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_attributes\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_dn\",\"level\":0,\"time\":\"december 08, 2013 16:20:22\"}\r\n[... thousands of size limit exceeded errors ...]\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_next_entry\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: determineuserobjectclasses returned: true\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: getuserfiltermode\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: getuserfiltermode returned: true\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: determinegroupsforusers\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_count_entries\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_first_entry\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_attributes\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_dn\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_next_entry\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_attributes\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_get_dn\",\"level\":0,\"time\":\"december 08, 2013 16:20:23\"}\r\n[... thousands of size limit exceeded errors ...]\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_next_entry\",\"level\":0,\"time\":\"december 08, 2013 16:20:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:20:24\"}\r\n[... thousands of operations error errors...]\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error operations error (1) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:21:22\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: getuserlistfilter\",\"level\":0,\"time\":\"december 08, 2013 16:21:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"wiz: final filter (objectclass=*)\",\"level\":0,\"time\":\"december 08, 2013 16:21:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: getuserlistfilter returned: true\",\"level\":0,\"time\":\"december 08, 2013 16:21:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: countusers\",\"level\":0,\"time\":\"december 08, 2013 16:21:23\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_count_entries\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: countusers returned: true\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: countusers\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_search\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"ldap error size limit exceeded (4) after calling ldap_count_entries\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n{\"app\":\"user_ldap\",\"message\":\"leo wizard: countusers returned: true\",\"level\":0,\"time\":\"december 08, 2013 16:21:24\"}\r\n\r\ni'll do some more investigations tomorrow...\r\n","closed_by":null}