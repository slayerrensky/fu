{"url":"https://api.github.com/repos/owncloud/core/issues/4964","labels_url":"https://api.github.com/repos/owncloud/core/issues/4964/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4964/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4964/events","html_url":"https://github.com/owncloud/core/issues/4964","id":19962124,"number":4964,"title":"issue with checking file permissions for public users, crashes with error","user":{"login":"phonoflux","id":5525524,"avatar_url":"https://gravatar.com/avatar/fddc2b1a97d2c3a9b909365b9c30ba09?d=https%3a%2f%2fidenticons.github.com%2f70100d05b529a9bd7bb0000a1ba5c4ac.png&r=x","gravatar_id":"fddc2b1a97d2c3a9b909365b9c30ba09","url":"https://api.github.com/users/phonoflux","html_url":"https://github.com/phonoflux","followers_url":"https://api.github.com/users/phonoflux/followers","following_url":"https://api.github.com/users/phonoflux/following{/other_user}","gists_url":"https://api.github.com/users/phonoflux/gists{/gist_id}","starred_url":"https://api.github.com/users/phonoflux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phonoflux/subscriptions","organizations_url":"https://api.github.com/users/phonoflux/orgs","repos_url":"https://api.github.com/users/phonoflux/repos","events_url":"https://api.github.com/users/phonoflux/events{/privacy}","received_events_url":"https://api.github.com/users/phonoflux/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/db%3amssql","name":"db:mssql","color":"000000"},{"url":"https://api.github.com/repos/owncloud/core/labels/medium","name":"medium","color":"eb6420"},{"url":"https://api.github.com/repos/owncloud/core/labels/needs+info","name":"needs info","color":"0b02e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/v5.x","name":"v5.x","color":"ededed"},{"url":"https://api.github.com/repos/owncloud/core/labels/windows+server","name":"windows server","color":"0b02e1"}],"state":"open","assignee":{"login":"bantu","id":189375,"avatar_url":"https://gravatar.com/avatar/88483d87947219efecfc570465c753b2?d=https%3a%2f%2fidenticons.github.com%2fcdc48f189c0e2e8a870f3d54615a2f0d.png&r=x","gravatar_id":"88483d87947219efecfc570465c753b2","url":"https://api.github.com/users/bantu","html_url":"https://github.com/bantu","followers_url":"https://api.github.com/users/bantu/followers","following_url":"https://api.github.com/users/bantu/following{/other_user}","gists_url":"https://api.github.com/users/bantu/gists{/gist_id}","starred_url":"https://api.github.com/users/bantu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bantu/subscriptions","organizations_url":"https://api.github.com/users/bantu/orgs","repos_url":"https://api.github.com/users/bantu/repos","events_url":"https://api.github.com/users/bantu/events{/privacy}","received_events_url":"https://api.github.com/users/bantu/received_events","type":"user","site_admin":false},"milestone":{"url":"https://api.github.com/repos/owncloud/core/milestones/8","labels_url":"https://api.github.com/repos/owncloud/core/milestones/8/labels","id":474801,"number":8,"title":"owncloud 5.0.14","description":"","creator":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"open_issues":17,"closed_issues":18,"state":"open","created_at":"2013-11-05t08:56:59z","updated_at":"2013-12-20t19:56:34z","due_on":null},"comments":17,"created_at":"2013-09-24t08:10:16z","updated_at":"2013-11-15t14:19:12z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"tl;dr the story is here: https://forum.owncloud.org/viewtopic.php?f=23&t=15173&p=42580#p42580\r\n\r\nmy setup was win2008/iis, php 5.3 in fastcgi mode. directory permissions on the owncloud was everyone full control (777)\r\n\r\ni was getting an error in permissions.php for this piece of code: \r\nif ($row = $result->fetchrow()) {\r\n\r\nwhich meant to me that $result didn't actually have any rows, and was bombing out.\r\n\r\nadding in a check to see if (!$result) { fixed the issue. there are two places in permissions.php that need this fix. i'm unsure of the underlying issues but basically this was only happening with public users (those that were shared a link). logged in users (i had the ldap plugin configured and working) had no issue.","closed_by":null}