{"url":"https://api.github.com/repos/owncloud/core/issues/4836","labels_url":"https://api.github.com/repos/owncloud/core/issues/4836/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4836/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4836/events","html_url":"https://github.com/owncloud/core/issues/4836","id":19450184,"number":4836,"title":"deleteing shared files or folders using webdav break synchronisation","user":{"login":"signum","id":36562,"avatar_url":"https://gravatar.com/avatar/2d05cbc622c6f92b90b3777c9c23d6ef?d=https%3a%2f%2fidenticons.github.com%2fc59058a3b014852af6a78ac0806a0bcb.png&r=x","gravatar_id":"2d05cbc622c6f92b90b3777c9c23d6ef","url":"https://api.github.com/users/signum","html_url":"https://github.com/signum","followers_url":"https://api.github.com/users/signum/followers","following_url":"https://api.github.com/users/signum/following{/other_user}","gists_url":"https://api.github.com/users/signum/gists{/gist_id}","starred_url":"https://api.github.com/users/signum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/signum/subscriptions","organizations_url":"https://api.github.com/users/signum/orgs","repos_url":"https://api.github.com/users/signum/repos","events_url":"https://api.github.com/users/signum/events{/privacy}","received_events_url":"https://api.github.com/users/signum/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"milestone":{"url":"https://api.github.com/repos/owncloud/core/milestones/3","labels_url":"https://api.github.com/repos/owncloud/core/milestones/3/labels","id":199679,"number":3,"title":"owncloud 6","description":"","creator":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"open_issues":19,"closed_issues":645,"state":"open","created_at":"2012-10-22t21:38:51z","updated_at":"2013-12-18t11:11:18z","due_on":null},"comments":6,"created_at":"2013-09-13t14:17:39z","updated_at":"2013-10-07t09:12:41z","closed_at":"2013-10-07t09:12:41z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nwhen a user deletes a file or folder using webdav then the sharing (row in \"oc_share\") should get removed automatically.\r\n\r\n### actual behaviour\r\nthe row in \"oc_share\" stays and the sync client of the target user (he who gets the file or folder shard) starts to throw \"problem: 403 forbidden\" errors.\r\n\r\n### steps to reproduce\r\n1. upload a file\r\n2. share the file\r\n3. set up syncing with your desktop using the current 1.4 sync client\r\n4. delete the file on your desktop\r\n5. the file will get deleted on the server but the oc_share row stays\r\n\r\nthe incorrect entries were also found using this query:\r\n\r\nselect s.id, s.item_source, s.uid_owner, s.file_target, s.share_with from oc_share as s where s.item_source not in (select c.fileid from oc_filecache as c);\r\n\r\n### server configuration\r\noperating system:\r\nany. tried on linux, windows and macos.\r\n\r\nweb server: \r\napache 2.2.15\r\n\r\ndatabase:\r\nmysql 5.5.33\r\n\r\nphp version:\r\nphp 5.4.17\r\n\r\nowncloud version:\r\n5.0.10\r\n","closed_by":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false}}