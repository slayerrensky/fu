{"url":"https://api.github.com/repos/owncloud/core/issues/6261","labels_url":"https://api.github.com/repos/owncloud/core/issues/6261/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/6261/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/6261/events","html_url":"https://github.com/owncloud/core/issues/6261","id":23963502,"number":6261,"title":"db schema default values generated as empty string when none specified (mariadb)","user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/db%3amysql","name":"db:mysql","color":"444444"}],"state":"open","assignee":null,"milestone":null,"comments":1,"created_at":"2013-12-09t14:05:20z","updated_at":"2013-12-11t21:17:57z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"from the news app: https://github.com/owncloud/news/issues/423\r\n\r\n### steps\r\n1. git clone of oc 7 pre-alpha (master)\r\n2. git clone of appframework into apps dir\r\n3. git clone of news into apps dir\r\n4. setup owncloud with mariadb 5.5.33\r\n5. enable appframework app\r\n6. enable news app\r\n\r\n### expected result\r\nnews app can be enabled\r\n\r\n### actual result\r\nexception:\r\n\r\nan exception occurred while executing 'create table `oc_news_feeds` (`id` bigint unsigned auto_increment not null, `user_id` varchar(64) default '' not null, `url_hash` varchar(32) default '' not null, `url` longtext default '' not null, `title` longtext default '' not null, `link` longtext default null, `favicon_link` longtext default null, `added` bigint unsigned default '0', `articles_per_update` bigint default '0' not null, `deleted_at` bigint unsigned default '0', `folder_id` bigint default '0' not null, `prevent_update` tinyint(1) default '0' not null, index news_feeds_user_id_index (`user_id`), index news_feeds_folder_id_index (`folder_id`), index news_feeds_url_hash_index (`url_hash`), primary key(`id`)) default character set utf8 collate utf8_unicode_ci engine = innodb': sqlstate[42000]: syntax error or access violation: 1101 blob/text column 'url' can't have a default value\r\n\r\nin \"database.xml\" there is no default value specified (no \"default\" tag) and yet as you can see above the generated sql does provide an empty string value which is not allowed for blob/clob fields on mariadb.\r\n\r\nnote: when using sqlite it works fine.","closed_by":null}