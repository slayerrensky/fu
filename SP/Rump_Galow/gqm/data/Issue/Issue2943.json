{"url":"https://api.github.com/repos/owncloud/core/issues/2943","labels_url":"https://api.github.com/repos/owncloud/core/issues/2943/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2943/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2943/events","html_url":"https://github.com/owncloud/core/pull/2943","id":13241205,"number":2943,"title":"always connect file cache updater hooks first","user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2013-04-16t11:15:18z","updated_at":"2013-04-17t06:25:15z","closed_at":"2013-04-16t19:21:10z","pull_request":{"html_url":"https://github.com/owncloud/core/pull/2943","diff_url":"https://github.com/owncloud/core/pull/2943.diff","patch_url":"https://github.com/owncloud/core/pull/2943.patch"},"body":"debugging issue #2170 i saw that the signals for post rename would first go to the files_sharing updater and then to the files_cache updater. as it turns out `self::$registered[$signalclass][$signalname]` in oc_hook obviously shows the updaters in the wrong order.\r\n\r\nsince the files app is hardcoded to always be the first app, this pr causes the cache updater to be connected before the files_sharing updater. this definitely fixes #2866 and should also fix #2170 \r\n\r\n@icewind1991 i think moving the hook connects to the app.php is the right way to force the file cache to always be updated first. please correct me if i am wrong.\r\n\r\n@mtgap please try this pr to see if it fixes the rename issues.\r\n\r\n@raydiation @schiesbn does this help with your trashbin problems?","closed_by":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false}}