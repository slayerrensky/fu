{"url":"https://api.github.com/repos/owncloud/core/issues/1857","labels_url":"https://api.github.com/repos/owncloud/core/issues/1857/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/1857/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/1857/events","html_url":"https://github.com/owncloud/core/issues/1857","id":11288247,"number":1857,"title":"sync to files_external mounted space fails","user":{"login":"dragotin","id":1070214,"avatar_url":"https://gravatar.com/avatar/af829234b31fb915704c1c65ef48eee0?d=https%3a%2f%2fidenticons.github.com%2f3392afab7f424e10623ba95a941f4d34.png&r=x","gravatar_id":"af829234b31fb915704c1c65ef48eee0","url":"https://api.github.com/users/dragotin","html_url":"https://github.com/dragotin","followers_url":"https://api.github.com/users/dragotin/followers","following_url":"https://api.github.com/users/dragotin/following{/other_user}","gists_url":"https://api.github.com/users/dragotin/gists{/gist_id}","starred_url":"https://api.github.com/users/dragotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragotin/subscriptions","organizations_url":"https://api.github.com/users/dragotin/orgs","repos_url":"https://api.github.com/users/dragotin/repos","events_url":"https://api.github.com/users/dragotin/events{/privacy}","received_events_url":"https://api.github.com/users/dragotin/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-02-22t14:50:03z","updated_at":"2013-08-06t23:04:48z","closed_at":"2013-08-06t23:04:37z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"@blizzz and me discovered the following problem:  a folder is mounted via webdav in files_external to my owncloud. in this case the mounted oc has version 4.5.6, the mounting oc is version 4.5.7. \r\n\r\nnow the mounted folder is configured as sync directory. on client side a file within a directory is created, here file script.odt in the directory ```documentation stuff/oc 5 stuff```.\r\n\r\nthe file gets synced but the subsequent call to proppatch fails with 404 file not found, as well as a subsequent get on the same file.\r\n\r\nthe apache error log shows:\r\n```\r\n[fri feb 22 15:34:58 2013] [error] [client ::1] resource https://s3.owncloud.com/owncloud/remote.php/webdav/documentation stuff/oc 5 stuff/script.odt not found.\r\n[fri feb 22 15:35:01 2013] [error] [client ::1] resource https://s3.owncloud.com/owncloud/remote.php/webdav/documentation stuff/oc 5 stuff/script.odt/ not found.\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php notice:  undefined index: size in /srv/www/htdocs/owncloud/lib/filecache.php on line 467\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php stack trace:\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   1. {main}() /srv/www/htdocs/owncloud/remote.php:0\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   2. require_once() /srv/www/htdocs/owncloud/remote.php:40\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   3. sabre_dav_server->exec() /srv/www/htdocs/owncloud/apps/files/appinfo/remote.php:49\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   4. sabre_dav_server->invokemethod() /srv/www/htdocs/owncloud/3rdparty/sabre/dav/server.php:206\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   5. call_user_func() /srv/www/htdocs/owncloud/3rdparty/sabre/dav/server.php:462\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   6. sabre_dav_server->httpput() /srv/www/htdocs/owncloud/3rdparty/sabre/dav/server.php:462\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   7. sabre_dav_server->createfile() /srv/www/htdocs/owncloud/3rdparty/sabre/dav/server.php:849\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   8. oc_connector_sabre_directory->createfile() /srv/www/htdocs/owncloud/3rdparty/sabre/dav/server.php:1488\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php   9. oc_filesystem::file_put_contents() /srv/www/htdocs/owncloud/lib/connector/sabre/directory.php:65\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php  10. oc_filesystemview->file_put_contents() /srv/www/htdocs/owncloud/lib/filesystem.php:510\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php  11. oc_hook::emit() /srv/www/htdocs/owncloud/lib/filesystemview.php:306\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php  12. call_user_func() /srv/www/htdocs/owncloud/lib/hook.php:62\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php  13. oc_filecache_update::filesystemwatcherwrite() /srv/www/htdocs/owncloud/lib/hook.php:62\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php  14. oc_filecache_update::update() /srv/www/htdocs/owncloud/lib/filecache/update.php:117\r\n[fri feb 22 15:35:03 2013] [error] [client ::1] php  15. oc_filecache::scanfile() /srv/www/htdocs/owncloud/lib/filecache/update.php:175\r\n```\r\n","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}