{"url":"https://api.github.com/repos/owncloud/core/issues/3542","labels_url":"https://api.github.com/repos/owncloud/core/issues/3542/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3542/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3542/events","html_url":"https://github.com/owncloud/core/issues/3542","id":14937649,"number":3542,"title":"endless upload - oc 5.06 (also observed in 5.04)","user":{"login":"kdeiss","id":3697693,"avatar_url":"https://gravatar.com/avatar/eecd2e726637d43086b93ad9f41beffa?d=https%3a%2f%2fidenticons.github.com%2fe073e44123512fcec75b6ee5c2e2ce09.png&r=x","gravatar_id":"eecd2e726637d43086b93ad9f41beffa","url":"https://api.github.com/users/kdeiss","html_url":"https://github.com/kdeiss","followers_url":"https://api.github.com/users/kdeiss/followers","following_url":"https://api.github.com/users/kdeiss/following{/other_user}","gists_url":"https://api.github.com/users/kdeiss/gists{/gist_id}","starred_url":"https://api.github.com/users/kdeiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdeiss/subscriptions","organizations_url":"https://api.github.com/users/kdeiss/orgs","repos_url":"https://api.github.com/users/kdeiss/repos","events_url":"https://api.github.com/users/kdeiss/events{/privacy}","received_events_url":"https://api.github.com/users/kdeiss/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":3,"created_at":"2013-05-30t12:21:08z","updated_at":"2013-08-16t22:01:46z","closed_at":"2013-08-16t22:01:46z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### actual behaviour\r\n\r\nwhile uploading an iso image (1,2gb) with oc client i detected an upload loop. after checking all parameters i observed the following behaviour.\r\n\r\nfile will be uploaded to /tmp directory. it is uploaded completely, after uploading it begins with a new temp file.\r\n\r\nls -la /tmp\r\nrw-------  1 www-data www-data 578893202 mai 30 13:09 fcgid.tmp.mn22mm\r\n-rw-------  1 www-data www-data 578893197 mai 30 13:18 fcgid.tmp.nlfkfq\r\n-rw-------  1 www-data www-data 578893197 mai 30 13:32 fcgid.tmp.xprwj6\r\n-rw-------  1 www-data www-data 578893197 mai 30 13:40 fcgid.tmp.paswsw\r\n\r\n\r\ni did several uploads with different file sizes and found out that it is possible to upload files up to 539832320 (maybe a bit more), but a file with 578893197 fails.\r\n\r\nls -la /var/www/vhosts/yourdom/httpdocs/owncloud/data/user/files/sample\r\n-rw-r--r-- 1 itu      psacln    178827264 sep 24  2007 acronis_9.iso\r\n-rw-r--r-- 1 itu      psacln    510570496 mai 30 11:55 avk_mng.iso\r\n-rw-r--r-- 1 itu      psacln     43225088 mai 30 12:39 ipcop-1-4-9.iso\r\n-rw-r--r-- 1 itu      psacln    539832320 mai 30 12:06 smeserver-7.2-i386.iso\r\n\r\ni also did the upload with the webinterface, same behaviour. also creates in /tmp a file which is not deleted, but stops after first upload. \r\n\r\noc-client will upload endlessly (till hd is full !!)\r\n\r\nno errors in http logs, nor in oc log.\r\n\r\n\r\n\r\n### steps to reproduce\r\nfresh installation of ubuntu on strato vserver. after install apt-get update, apt-upgrade. added one domain with plesk.\r\n\r\ninstalled via webinstaller.\r\n\r\n\r\n### server configuration\r\noperating system: ubuntu (uname -a: linux hxxxxxxx.stratoserver.net 2.6.32-042stab055.12 #1 smp wed may 23 16:07:36 msd 2012 i686 athlon i386 gnu/linux)\r\n\r\nweb server: apache 2.2.22-1ubuntu1\r\ndatabase: mysql 5.5.22-0ubuntu1\r\nphp version: 5.3.10-1ubuntu3\r\nowncloud version: 5.0.6 \r\n\r\n### client configuration\r\nbrowser: any\r\n\r\n\r\n","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}