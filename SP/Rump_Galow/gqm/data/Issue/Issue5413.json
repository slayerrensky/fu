{"url":"https://api.github.com/repos/owncloud/core/issues/5413","labels_url":"https://api.github.com/repos/owncloud/core/issues/5413/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5413/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5413/events","html_url":"https://github.com/owncloud/core/issues/5413","id":21208407,"number":5413,"title":"unmounting a shared folder leads to endless recursion","user":{"login":"kkreeve","id":5716819,"avatar_url":"https://gravatar.com/avatar/3a69a928e0f84578eec1b7e05f84e23d?d=https%3a%2f%2fidenticons.github.com%2f04615ec3455055b065550ad7be30c327.png&r=x","gravatar_id":"3a69a928e0f84578eec1b7e05f84e23d","url":"https://api.github.com/users/kkreeve","html_url":"https://github.com/kkreeve","followers_url":"https://api.github.com/users/kkreeve/followers","following_url":"https://api.github.com/users/kkreeve/following{/other_user}","gists_url":"https://api.github.com/users/kkreeve/gists{/gist_id}","starred_url":"https://api.github.com/users/kkreeve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkreeve/subscriptions","organizations_url":"https://api.github.com/users/kkreeve/orgs","repos_url":"https://api.github.com/users/kkreeve/repos","events_url":"https://api.github.com/users/kkreeve/events{/privacy}","received_events_url":"https://api.github.com/users/kkreeve/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles_external","name":"app:files_external","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":3,"created_at":"2013-10-18t09:19:00z","updated_at":"2013-11-29t16:20:55z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i mounted a webdav share as external storage and shared a folder within the external storage with user a. after unmounting the external storage the shared folder still existed for user a, but contained nothing but the shared folder. this in turn lead to an endless recursion in the directory structure.\r\n\r\nexample:\r\nthe admin user mounts an external webdav storage to /external. the external storage is only visible to him, but he shares the folder /external/ww with group g. user a belongs to g and sees the shared folder as /shared/ww. now, the admin silently removes the external storage.\r\nnow i expect that ww disappears for a, but /shared/ww still exists and now contains the folder /shared.\r\n\r\ndetails:\r\noc 5.0.12 on linux with php 5.3\r\ni looked in the database and there is still an entry for the shared folder ww.","closed_by":null}