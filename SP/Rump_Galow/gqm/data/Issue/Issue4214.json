{"url":"https://api.github.com/repos/owncloud/core/issues/4214","labels_url":"https://api.github.com/repos/owncloud/core/issues/4214/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4214/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4214/events","html_url":"https://github.com/owncloud/core/issues/4214","id":17299959,"number":4214,"title":"iswebdavworking fail when behind reverse proxy","user":{"login":"gionn","id":71768,"avatar_url":"https://gravatar.com/avatar/416c04c6f0793e236381c2f5df80c9ed?d=https%3a%2f%2fidenticons.github.com%2f90f5467f1026ef5bed18d8e779a65830.png&r=x","gravatar_id":"416c04c6f0793e236381c2f5df80c9ed","url":"https://api.github.com/users/gionn","html_url":"https://github.com/gionn","followers_url":"https://api.github.com/users/gionn/followers","following_url":"https://api.github.com/users/gionn/following{/other_user}","gists_url":"https://api.github.com/users/gionn/gists{/gist_id}","starred_url":"https://api.github.com/users/gionn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gionn/subscriptions","organizations_url":"https://api.github.com/users/gionn/orgs","repos_url":"https://api.github.com/users/gionn/repos","events_url":"https://api.github.com/users/gionn/events{/privacy}","received_events_url":"https://api.github.com/users/gionn/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2013-07-27t16:27:44z","updated_at":"2013-10-17t14:05:40z","closed_at":"2013-10-17t14:05:40z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi,\r\n\r\ni am using owncloud behind a firewall and a ssl-enabled reverse proxy.\r\n\r\nwith this configuration, when owncloud try to check if the server is correctly configured, it tries to connect by himself to the external hostname, but unfortunately a decently configured dmz doesn't allow this.\r\n\r\na workaround can be to fools owncloud adding in /etc/hosts the external hostname as localhost.\r\nthis works until i enable \"force ssl\", and since i am using ssl at the proxy level, owncloud will not find any 443 port open on localhost.\r\n\r\nis there a way to skip such tests, since my server is perfectly configured and owncloud doesn't need to blame it?\r\n\r\nlogged error:\r\n```\r\niswebdavworking: no - reason: exception 'sabre_dav_exception' with message '[curl] error while making request: couldn't connect to host (error code: 7)' in /var/www/owncloud/3rdparty/sabre/dav/client.php:410 stack trace: #0 /var/www/owncloud/3rdparty/sabre/dav/client.php(179): sabre_dav_client->request('propfind', '', '<?xml version=\"...', array) #1 /var/www/owncloud/lib/util.php(608): sabre_dav_client->propfind('', array) #2 /var/www/owncloud/settings/admin.php(34): oc_util::iswebdavworking() #3 /var/www/owncloud/lib/route.php(113) : runtime-created function(1): require_once('/var/www/ownclo...') #4 [internal function]: __lambda_func(array) #5 /var/www/owncloud/lib/router.php(127): call_user_func('?lambda_1248', array) #6 /var/www/owncloud/lib/base.php(617): oc_router->match('/settings/admin') #7 /var/www/owncloud/index.php(28): oc::handlerequest() #8 {main} \r\n```\r\n\r\nthanks.","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}