{"url":"https://api.github.com/repos/owncloud/core/issues/6186","labels_url":"https://api.github.com/repos/owncloud/core/issues/6186/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/6186/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/6186/events","html_url":"https://github.com/owncloud/core/issues/6186","id":23736034,"number":6186,"title":"modsecurity prevents file upload through webdav","user":{"login":"sambarluc","id":6107558,"avatar_url":"https://gravatar.com/avatar/7dae964737ceefdf2df8528226c17978?d=https%3a%2f%2fidenticons.github.com%2f59a83d73d0c33922b68ae88c0d708eb2.png&r=x","gravatar_id":"7dae964737ceefdf2df8528226c17978","url":"https://api.github.com/users/sambarluc","html_url":"https://github.com/sambarluc","followers_url":"https://api.github.com/users/sambarluc/followers","following_url":"https://api.github.com/users/sambarluc/following{/other_user}","gists_url":"https://api.github.com/users/sambarluc/gists{/gist_id}","starred_url":"https://api.github.com/users/sambarluc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sambarluc/subscriptions","organizations_url":"https://api.github.com/users/sambarluc/orgs","repos_url":"https://api.github.com/users/sambarluc/repos","events_url":"https://api.github.com/users/sambarluc/events{/privacy}","received_events_url":"https://api.github.com/users/sambarluc/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2013-12-04t18:36:21z","updated_at":"2013-12-05t08:52:51z","closed_at":"2013-12-05t08:52:51z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi i am experiencing a weird problem when trying to use owncloud webdav. the client and web interface work fine, but the webdav server does not.\r\nin particular, i can create folders via webdav, but cannot upload files. i get the following errors (server name masked):\r\n\r\n```\r\nmodsecurity: warning. match of \"rx ^((?:(?:pos|ge)t|options|head))$\" against \"request_method\" required. [file \"/etc/apache/modsecurity/modsecurity_crs_30_http_policy.conf\"] [line \"37\"] [id \"960032\"] [msg \"method is not allowed by policy\"] [severity \"critical\"] [hostname \"www.myserver.com\"] [uri \"/owncloud/remote.php/webdav/dir/\"] [unique_id \"up90bn8aaaeaabt9miuaaaev\"] \r\n\r\nmodsecurity: warning. match of \"rx ^((?:(?:pos|ge)t|options|head))$\" against \"request_method\" required. [file \"/etc/apache/modsecurity/modsecurity_crs_30_http_policy.conf\"] [line \"37\"] [id \"960032\"] [msg \"method is not allowed by policy\"] [severity \"critical\"] [hostname \"www.myserver.com\"] [uri \"/owncloud/remote.php/webdav/dir/file\"] [unique_id \"up90bn8aaaeaabt9mjwaaaev\"]\r\n\r\nmodsecurity: access denied with code 501 (phase 2). match of \"rx (?:^(?:application\\\\/x-www-form-urlencoded(?:;(?:\\\\s?charset\\\\s?=\\\\s?[\\\\w\\\\d\\\\-]{1,18})?)??$|multipart/form-data;)|text/xml|application/x-amf)\" against \"request_headers:content-type\" required. [file \"/etc/apache/modsecurity/modsecurity_crs_30_http_policy.conf\"] [line \"71\"] [id \"960010\"] [msg \"request content type is not allowed by policy\"] [severity \"warning\"] [hostname \"www.myserver.com\"] [uri \"/owncloud/remote.php/webdav/dir/file\"] [unique_id \"up90bn8aaaeaabt9mjwaaaev\"] \r\n```\r\n\r\nss far as i could understand, the problem originates from the settings of apache on the host server. however, i have no control over them, so my only option is to change the .htaccess files. unfortunately i could not solve the problem by adding e.g.\r\n\r\n```\r\n<ifmodule mod_security.c>та \r\nта setenvifnocase content-type \"^multipart/form-data;\" modsec_nopostbuffering=do not buffer file uploads\"та \r\n</ifmodule>\r\n```\r\n\r\nor\r\n\r\n```\r\nsecfilterengine off\r\n```\r\n\r\nis this something that owncloud can address?","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}