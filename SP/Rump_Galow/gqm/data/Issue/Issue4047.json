{"url":"https://api.github.com/repos/owncloud/core/issues/4047","labels_url":"https://api.github.com/repos/owncloud/core/issues/4047/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4047/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4047/events","html_url":"https://github.com/owncloud/core/pull/4047","id":16699393,"number":4047,"title":"backport 3963","user":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":8,"created_at":"2013-07-12t19:54:33z","updated_at":"2013-07-18t20:42:47z","closed_at":"2013-07-18t20:30:07z","pull_request":{"html_url":"https://github.com/owncloud/core/pull/4047","diff_url":"https://github.com/owncloud/core/pull/4047.diff","patch_url":"https://github.com/owncloud/core/pull/4047.patch"},"body":"backport of #3963 as part of solution for #3617 \r\n\r\nlib/hooks/ are also copied from master, because the updater class inherits from it. according to @icewind1991  it does not touch other parts of owncloud, so it is probably more safe to use this instead of writing new code that may contain errors.\r\n\r\nwhile testing i get these messages\r\n```\r\n{\"app\":\"php\",\"message\":\"cannot modify header information - headers already sent at \\/home\\/blizzz\\/owncloud\\/dev\\/stable5\\/lib\\/user.php#653\",\"level\":2,\"time\":1373657467}\r\n{\"app\":\"php\",\"message\":\"cannot modify header information - headers already sent at \\/home\\/blizzz\\/owncloud\\/dev\\/stable5\\/lib\\/user.php#654\",\"level\":2,\"time\":1373657467}\r\n{\"app\":\"php\",\"message\":\"cannot modify header information - headers already sent at \\/home\\/blizzz\\/owncloud\\/dev\\/stable5\\/lib\\/user.php#655\",\"level\":2,\"time\":1373657467}\r\n```\r\n\r\nbut i get them with current stable5 also â†’ not in the scope of this pr. besides of this, upgrade worked for me. though, so far i just tested upgrade in the stable5 branch by decreasing version in config.php. i'd do another final test from a clean 5.0.8 to this state on monday.\r\n\r\nplease give it a good look, because i somehow feel a bit dirty with this backport and we don't want to destroy upgrade experience.\r\n\r\n@icewind1991 @deepdiver1975 @karlitschek @vicdeo @bartv2 (or others :) )","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}