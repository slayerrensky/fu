{"url":"https://api.github.com/repos/owncloud/core/issues/4054","labels_url":"https://api.github.com/repos/owncloud/core/issues/4054/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4054/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4054/events","html_url":"https://github.com/owncloud/core/issues/4054","id":16723322,"number":4054,"title":"upgrade subsystem is deleting all files to update oc instance","user":{"login":"jmanko","id":3154748,"avatar_url":"https://gravatar.com/avatar/98e07bf4ca20aa0c4791173eea8faa4b?d=https%3a%2f%2fidenticons.github.com%2f37e27497c5b12ef01214390bbf5ab411.png&r=x","gravatar_id":"98e07bf4ca20aa0c4791173eea8faa4b","url":"https://api.github.com/users/jmanko","html_url":"https://github.com/jmanko","followers_url":"https://api.github.com/users/jmanko/followers","following_url":"https://api.github.com/users/jmanko/following{/other_user}","gists_url":"https://api.github.com/users/jmanko/gists{/gist_id}","starred_url":"https://api.github.com/users/jmanko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmanko/subscriptions","organizations_url":"https://api.github.com/users/jmanko/orgs","repos_url":"https://api.github.com/users/jmanko/repos","events_url":"https://api.github.com/users/jmanko/events{/privacy}","received_events_url":"https://api.github.com/users/jmanko/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/update","name":"update","color":"e10c02"}],"state":"closed","assignee":null,"milestone":null,"comments":10,"created_at":"2013-07-14t03:41:10z","updated_at":"2013-07-18t19:55:22z","closed_at":"2013-07-18t19:49:17z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i just upgrading oc to v5.0.8 using the admin interface.  the upgrade process is deleting all install files and folders in order to do an update.  i'm assuming that the upgrading is just uncompressing the upgrade file and overwriting everything. \r\n\r\nmy experience:\r\n\r\n1. all custom themes are deleted from themes.  \r\n\r\n2. all manually added apps are removed.\r\n\r\n3. config.php is overwritten and all configurations are lost.\r\n\r\n4. any added sub-directories are removed.  this is a huge problem.  i run oc on a sub-domain, and i use the roundcube app.  the roundcube app requires that roundcube be installed on the same domain as oc (ie, that means on the same sub-domain, too).  so, my roundcube installation resides in the oc directory (since oc is installed in the sub-domain root).  the upgrade deleted my entire rc instance.  do you know what kind of pain in the ass that is?  especially when downtime is not acceptable?\r\n\r\nnow, i have to redo everything.  think about that.  everything.  you're upgrade system needs to be your highest priority, because without a complete overhaul i can't/won't perform any future upgrades, and without being able to upgrade oc become deadware and useless.\r\n","closed_by":{"login":"vicdeo","id":991300,"avatar_url":"https://gravatar.com/avatar/57b8c1e26d502d5414e4b2fb875d2994?d=https%3a%2f%2fidenticons.github.com%2fe8357fefe8bad5436de368fa5a419461.png&r=x","gravatar_id":"57b8c1e26d502d5414e4b2fb875d2994","url":"https://api.github.com/users/vicdeo","html_url":"https://github.com/vicdeo","followers_url":"https://api.github.com/users/vicdeo/followers","following_url":"https://api.github.com/users/vicdeo/following{/other_user}","gists_url":"https://api.github.com/users/vicdeo/gists{/gist_id}","starred_url":"https://api.github.com/users/vicdeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicdeo/subscriptions","organizations_url":"https://api.github.com/users/vicdeo/orgs","repos_url":"https://api.github.com/users/vicdeo/repos","events_url":"https://api.github.com/users/vicdeo/events{/privacy}","received_events_url":"https://api.github.com/users/vicdeo/received_events","type":"user","site_admin":false}}