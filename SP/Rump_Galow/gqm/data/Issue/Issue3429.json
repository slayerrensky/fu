{"url":"https://api.github.com/repos/owncloud/core/issues/3429","labels_url":"https://api.github.com/repos/owncloud/core/issues/3429/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3429/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3429/events","html_url":"https://github.com/owncloud/core/issues/3429","id":14509431,"number":3429,"title":"oc error failed to parse time string: getlastmodified.php#39","user":{"login":"bandit1200","id":4476556,"avatar_url":"https://gravatar.com/avatar/0ca0cf26b74f8079885e353676ad9771?d=https%3a%2f%2fidenticons.github.com%2f9900656974e76e9e06fba9ca7f20cf5f.png&r=x","gravatar_id":"0ca0cf26b74f8079885e353676ad9771","url":"https://api.github.com/users/bandit1200","html_url":"https://github.com/bandit1200","followers_url":"https://api.github.com/users/bandit1200/followers","following_url":"https://api.github.com/users/bandit1200/following{/other_user}","gists_url":"https://api.github.com/users/bandit1200/gists{/gist_id}","starred_url":"https://api.github.com/users/bandit1200/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bandit1200/subscriptions","organizations_url":"https://api.github.com/users/bandit1200/orgs","repos_url":"https://api.github.com/users/bandit1200/repos","events_url":"https://api.github.com/users/bandit1200/events{/privacy}","received_events_url":"https://api.github.com/users/bandit1200/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":15,"created_at":"2013-05-20t07:06:44z","updated_at":"2013-10-17t12:54:49z","closed_at":"2013-10-17t12:54:49z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"datetime::__construct(): failed to parse time string (-649595776) at position 8 (7): unexpected character at /mnt/raid_6_0/servers/www/www.stsa.co.uk/htdocs/cloud/3rdparty/sabre/dav/property/getlastmodified.php#39\r\n\r\nwhen running in a uk time zone the error above is seen in the log files. this is usually down to getting days and months mixed up between the ameraican format (m-d-y) and the uk format (d-m-y). so that date time is trying to convert a month greater than 12. and vica versa the day is never greater than 12.\r\n\r\nto test and experiment, i added the following to getlastmodifed.php line 38\r\n$time = date(\"d-m-y h:i:s\", strtotime($time));\r\n\r\nthe construct now looks like\r\nif ($time instanceof datetime) {\r\n$this->time = $time;\r\n} elseif (is_int($time) || ctype_digit($time)) {\r\n$this->time = new datetime('@' . $time);\r\n} else {\r\n$time = date(\"d-m-y h:i:s\", strtotime($time));\r\n$this->time = new datetime($time);\r\n}\r\n\r\nfurther work by the developers is needed so that the additional line added takes into account the time string format required by the system. the additional line i belive is only relevant for uk base owncloud servers.\r\n\r\nthis bug prevents a clients from syncing with the server, and probably other issues i have not unconvered yet.\r\n\r\n","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}