{"url":"https://api.github.com/repos/owncloud/core/issues/156","labels_url":"https://api.github.com/repos/owncloud/core/issues/156/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/156/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/156/events","html_url":"https://github.com/owncloud/core/issues/156","id":7978708,"number":156,"title":"case sensitivity issue (windows)","user":{"login":"mgingerich","id":2685614,"avatar_url":"https://gravatar.com/avatar/f8eea230a68f10350c5309d4777e2a45?d=https%3a%2f%2fidenticons.github.com%2f3e675781133d9acd8c334584c1c78837.png&r=x","gravatar_id":"f8eea230a68f10350c5309d4777e2a45","url":"https://api.github.com/users/mgingerich","html_url":"https://github.com/mgingerich","followers_url":"https://api.github.com/users/mgingerich/followers","following_url":"https://api.github.com/users/mgingerich/following{/other_user}","gists_url":"https://api.github.com/users/mgingerich/gists{/gist_id}","starred_url":"https://api.github.com/users/mgingerich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgingerich/subscriptions","organizations_url":"https://api.github.com/users/mgingerich/orgs","repos_url":"https://api.github.com/users/mgingerich/repos","events_url":"https://api.github.com/users/mgingerich/events{/privacy}","received_events_url":"https://api.github.com/users/mgingerich/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":2,"created_at":"2012-10-30t19:20:44z","updated_at":"2012-11-19t13:41:10z","closed_at":"2012-11-19t13:41:10z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i have owncloud 4.5.0 running on a windows 2008 server with a mysql database and php 5.3.17.\r\ni am using the ldap user backend to connect to an active directory server to authenticate users. the 'case insensitive ldap server (windows)' option is checked.\r\n\r\nusers are identified by their samaccountname (login filter is samaccountname=%uid).  in the ad server, samaccountnames are of the form firstname.lastname\r\n\r\nthe first sign of trouble was the syncing issues i was experiencing between the sync client and the web app.  files created in the local sync folder would appear in the cloud, but files created in the web app were not syncing to the local sync folder.\r\n\r\nwhen a file was added through the web interface, the entry in oc_fscache would have a path like /firstname.lastname/files/...\r\nwhen a file was added through the sync client, the entry in oc_fscache would have a path like /firstname.lastname/files/...\r\ni realized the difference in capitalization was because the web app uses the string value of samaccountname (which was always firstname.lastname) whereas the sync client uses the string value that the user entered when it was configured (which is usually lowercase, firstname.lastname)\r\n\r\nthe web app would handle a new file that had been added through the sync client by adding a new entry in oc_fscache that looked like '/firstname.lastname/files/...' and everything seemed to work fine.\r\nbut when a file was added through the web interface, the sync client would never retrieve it because there was no lowercase entry in oc_fscache for that file/folder.\r\n\r\nas soon as i realized what was happening, i reconfigured my sync client with username like firstname.lastname instead of firstname.lastname and voila, all my files were syncing perfectly back and forth.\r\n\r\nreproduction steps:\r\nconfigure ldap backend with login filter as samaccountname=%uid.\r\nselect 'case insensitive ldap backend (windows)'\r\nconfigure the sync client with a username that is equivalent to samaccountname under case insensitive rules, but not equal under case sensitive rules.\r\nadd a file in web interface. client will not sync file to local folder.","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}