{"url":"https://api.github.com/repos/owncloud/core/issues/250","labels_url":"https://api.github.com/repos/owncloud/core/issues/250/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/250/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/250/events","html_url":"https://github.com/owncloud/core/issues/250","id":8100644,"number":250,"title":"nginx as reverse proxy fail to login with 4.5.1","user":{"login":"guilmxm","id":2725772,"avatar_url":"https://gravatar.com/avatar/a59b13e948150124df89d2a7b63be78e?d=https%3a%2f%2fidenticons.github.com%2fecfad26c478ceb050d9d0b55d9c2d326.png&r=x","gravatar_id":"a59b13e948150124df89d2a7b63be78e","url":"https://api.github.com/users/guilmxm","html_url":"https://github.com/guilmxm","followers_url":"https://api.github.com/users/guilmxm/followers","following_url":"https://api.github.com/users/guilmxm/following{/other_user}","gists_url":"https://api.github.com/users/guilmxm/gists{/gist_id}","starred_url":"https://api.github.com/users/guilmxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilmxm/subscriptions","organizations_url":"https://api.github.com/users/guilmxm/orgs","repos_url":"https://api.github.com/users/guilmxm/repos","events_url":"https://api.github.com/users/guilmxm/events{/privacy}","received_events_url":"https://api.github.com/users/guilmxm/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/1+-+backlog","name":"1 - backlog","color":"ededed"},{"url":"https://api.github.com/repos/owncloud/core/labels/attention","name":"attention","color":"d7e102"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":5,"created_at":"2012-11-05t10:15:40z","updated_at":"2013-02-28t17:23:33z","closed_at":"2012-11-13t08:10:16z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"hi all, \r\n\r\nenvironment: homeserver (ubuntu 12.10 lts)\r\nserver: apache 2.2.22\r\ndatabase: mysql\r\nclient: chrome / firefox\r\noc-version: 4.5.1\r\nphp-version: 5.4.6\r\n\r\ni am actually trying to upgrade from ubuntu repository version (4.0.7) to latest 4.5.1 and i'm having an issue with nginx acting as a reverse proxy in my front internet host.\r\n\r\nmy configuration as follows:\r\n\r\nfront host (debian based, nginx 1.2.1 acting as reverse proxy with a reverse proxy location for owncloud) --> server running apache2\r\n\r\nwith version 4.0.7, no issue i can login with any existing user with no issue, but with 4.5.1 i can only login with the first user i created during installation time.\r\n\r\nwhen i try to login with any other user, i get back to main menu as if the password would be wrong. (message wrong passwor ?) \r\n\r\ntherefore, i can successfully login directly to my internal server (so bypassing the reverse proxy) with any users, the issue only exist when passing through the revserse proxy.\r\n\r\nbut this works perfectly fine with same configuration when running 4.0.7, there seems to be a regression with 4.5.1 regarding reverse proxy...\r\n\r\ni've been looking for a solution everywhere and haven't find any successful answer...\r\none closed issue: http://bugs.owncloud.org/thebuggenie/owncloud/issues/oc-762\r\n\r\nso i'm looking for any one having a working nginx configuration with 4.5.1, could not find any interesting log on both reverse proxy / internal server !\r\n\r\nthanks in advance for you help  !\r\n\r\nmy actual location config:\r\n\r\n    location /owncloud/ {\r\n    proxy_set_header x-forwarded-host some.mydomain.org;\r\n    proxy_set_header x-forwarded-proto https;\r\n    proxy_set_header x-forwarded-for $remote_addr;\r\n    proxy_pass http://internal:port;\r\n    access_log /var/log/nginx/owncloud.access.log;\r\n    error_log /var/log/nginx/owncloud.error.log;\r\n    }\r\n","closed_by":{"login":"guilmxm","id":2725772,"avatar_url":"https://gravatar.com/avatar/a59b13e948150124df89d2a7b63be78e?d=https%3a%2f%2fidenticons.github.com%2fecfad26c478ceb050d9d0b55d9c2d326.png&r=x","gravatar_id":"a59b13e948150124df89d2a7b63be78e","url":"https://api.github.com/users/guilmxm","html_url":"https://github.com/guilmxm","followers_url":"https://api.github.com/users/guilmxm/followers","following_url":"https://api.github.com/users/guilmxm/following{/other_user}","gists_url":"https://api.github.com/users/guilmxm/gists{/gist_id}","starred_url":"https://api.github.com/users/guilmxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilmxm/subscriptions","organizations_url":"https://api.github.com/users/guilmxm/orgs","repos_url":"https://api.github.com/users/guilmxm/repos","events_url":"https://api.github.com/users/guilmxm/events{/privacy}","received_events_url":"https://api.github.com/users/guilmxm/received_events","type":"user","site_admin":false}}