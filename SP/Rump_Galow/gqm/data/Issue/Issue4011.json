{"url":"https://api.github.com/repos/owncloud/core/issues/4011","labels_url":"https://api.github.com/repos/owncloud/core/issues/4011/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/4011/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/4011/events","html_url":"https://github.com/owncloud/core/issues/4011","id":16586534,"number":4011,"title":"cannot blacklist set of files per storage backend","user":{"login":"jvillafanez","id":1477829,"avatar_url":"https://gravatar.com/avatar/f422e6935e3ae694168c71e02b988ef2?d=https%3a%2f%2fidenticons.github.com%2f0929e47aa842da706b9c79f4c549ae04.png&r=x","gravatar_id":"f422e6935e3ae694168c71e02b988ef2","url":"https://api.github.com/users/jvillafanez","html_url":"https://github.com/jvillafanez","followers_url":"https://api.github.com/users/jvillafanez/followers","following_url":"https://api.github.com/users/jvillafanez/following{/other_user}","gists_url":"https://api.github.com/users/jvillafanez/gists{/gist_id}","starred_url":"https://api.github.com/users/jvillafanez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvillafanez/subscriptions","organizations_url":"https://api.github.com/users/jvillafanez/orgs","repos_url":"https://api.github.com/users/jvillafanez/repos","events_url":"https://api.github.com/users/jvillafanez/events{/privacy}","received_events_url":"https://api.github.com/users/jvillafanez/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/engineering","name":"engineering","color":"e102d8"},{"url":"https://api.github.com/repos/owncloud/core/labels/enhancement","name":"enhancement","color":"02e10c"}],"state":"closed","assignee":null,"milestone":{"url":"https://api.github.com/repos/owncloud/core/milestones/3","labels_url":"https://api.github.com/repos/owncloud/core/milestones/3/labels","id":199679,"number":3,"title":"owncloud 6","description":"","creator":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"open_issues":19,"closed_issues":645,"state":"open","created_at":"2012-10-22t21:38:51z","updated_at":"2013-12-18t11:11:18z","due_on":null},"comments":8,"created_at":"2013-07-10t16:20:32z","updated_at":"2013-10-23t13:14:26z","closed_at":"2013-10-23t13:14:26z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"@mtgap \r\n\r\nversion: {\"installed\":\"true\",\"version\":\"5.80.5\",\"versionstring\":\"6.0 pre alpha\",\"edition\":\"\"}\r\n\r\n\r\ni'm having an undesired effect trying to implement an upload filter and some things to consider:\r\n\r\nâ· we cannot prevent the file upload to owncloud. by the time the execution reach my point, the file is already in the owncloud server.\r\n\r\nâ· although i'm returning \"false\" i'm not really sure if an error is being thrown. the behaviour is different for each client:\r\n\r\n ++ web client -> the file is shown as uploaded with an unknown mimetype and 0 bytes. refreshing the page remove that file. there is also a stacktrace showing in the apache2 logs\r\n\r\n ++ desktop client -> the info window shows an error uploading the file, but it keeps trying to upload it over and over.\r\n\r\n ++ mobile client -> it shows a successful upload, but the file is missing\r\n\r\ni've also checked with another different code, which is basically move the file checks to the upload callback in order to avoid using the server variables; there we'll have access to the uploaded file so we could also filter by mimetype. the behaviour is the same as described above.\r\n\r\n\r\nthe current blacklist option accept to blacklist only file per file, not a set of files (for example *.zip files, or files bigger than 30mb). it also blacklist files for the whole fs, but not in a particular folder or storage backend, making difficult to use it without bothering other folders which shouldn't be bound by those restrictions.","closed_by":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false}}