{"url":"https://api.github.com/repos/owncloud/core/issues/3071","labels_url":"https://api.github.com/repos/owncloud/core/issues/3071/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3071/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3071/events","html_url":"https://github.com/owncloud/core/issues/3071","id":13491847,"number":3071,"title":"cron.php running produces lots of errors \"search_lucene need mimetype for content extraction\"","user":{"login":"sysrich","id":1197728,"avatar_url":"https://gravatar.com/avatar/9b5e514af0447eb895835622d50f5227?d=https%3a%2f%2fidenticons.github.com%2f521e3fe75408f5b090cca7e804103973.png&r=x","gravatar_id":"9b5e514af0447eb895835622d50f5227","url":"https://api.github.com/users/sysrich","html_url":"https://github.com/sysrich","followers_url":"https://api.github.com/users/sysrich/followers","following_url":"https://api.github.com/users/sysrich/following{/other_user}","gists_url":"https://api.github.com/users/sysrich/gists{/gist_id}","starred_url":"https://api.github.com/users/sysrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sysrich/subscriptions","organizations_url":"https://api.github.com/users/sysrich/orgs","repos_url":"https://api.github.com/users/sysrich/repos","events_url":"https://api.github.com/users/sysrich/events{/privacy}","received_events_url":"https://api.github.com/users/sysrich/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3asearch","name":"app:search","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/enhancement","name":"enhancement","color":"02e10c"}],"state":"closed","assignee":null,"milestone":null,"comments":1,"created_at":"2013-04-22t16:42:14z","updated_at":"2013-08-07t18:46:03z","closed_at":"2013-08-07t18:46:03z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\ncron.php should run without producing a very large amount of errors\r\n\r\n### actual behaviour\r\ncron.php takes a very long time to run (15 minutes and counting) and owncloud.log fills up with \"{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648725}\" at a rate of around 3 errors per second with no variation apart from time, and no sign of stopping\r\n\r\n### steps to reproduce\r\n1. install owncloud\r\n2. upload some files (in my case, primarily jpeg images)\r\n3. setup cron.php to run from crontab rather than webcron or ajax\r\n4. watch owncloud.log as it runs\r\n\r\n### server configuration\r\noperating system: opensuse 12.3\r\n\r\nweb server: apache\r\n\r\ndatabase: mysql\r\n\r\nphp version: 5.3.17\r\n\r\nowncloud version: 5.0.5\r\n\r\n### client configuration\r\nbrowser: n/a\r\n\r\noperating system: n/a\r\n\r\n### logs\r\n#### web server error log\r\nn/a\r\n\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648871}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648871}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648871}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648871}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648871}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648871}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648872}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648872}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648872}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648872}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648872}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648872}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648873}\r\n{\"app\":\"search_lucene\",\"message\":\"need mimetype for content extraction\",\"level\":3,\"time\":1366648873}\r\n```\r\n\r\n#### browser log\r\nn/a","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}