{"url":"https://api.github.com/repos/owncloud/core/issues/2553","labels_url":"https://api.github.com/repos/owncloud/core/issues/2553/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2553/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2553/events","html_url":"https://github.com/owncloud/core/issues/2553","id":12391814,"number":2553,"title":"ldap internal name and cache errors","user":{"login":"hamlet","id":22633,"avatar_url":"https://gravatar.com/avatar/f592cdb9cb5df7e1532152767a95527f?d=https%3a%2f%2fidenticons.github.com%2f2e195f8d57c07294d52de7d884eb3efd.png&r=x","gravatar_id":"f592cdb9cb5df7e1532152767a95527f","url":"https://api.github.com/users/hamlet","html_url":"https://github.com/hamlet","followers_url":"https://api.github.com/users/hamlet/followers","following_url":"https://api.github.com/users/hamlet/following{/other_user}","gists_url":"https://api.github.com/users/hamlet/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet/subscriptions","organizations_url":"https://api.github.com/users/hamlet/orgs","repos_url":"https://api.github.com/users/hamlet/repos","events_url":"https://api.github.com/users/hamlet/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3auser_ldap","name":"app:user_ldap","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":19,"created_at":"2013-03-25t09:13:25z","updated_at":"2013-06-03t20:42:05z","closed_at":"2013-06-03t20:42:05z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nno errors in logs..\r\n\r\n### actual behaviour\r\ni get a lot of these in /home/cloud/owncloud/owncloud.log :\r\n````\r\n{\"app\":\"php\",\"message\":\"opendir(\\/home\\/cloud\\/owncloud\\/b099340a-7f73-102f-9bbd-c9f53453d4bd\\/cache\\/): failed to open dir: no such file or directory at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#40\",\"level\":2,\"time\":1364201276}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#88\",\"level\":2,\"time\":1364201276}\r\n````\r\nand most users don't have a \"cache/\" directory.\r\nso it seems that sometimes the \"user home folder naming rule\" setting is not used...\r\n\r\n### steps to reproduce\r\n1. install owncloud 5.0 (from repo)\r\n2. set up ldap\r\n3. start using it\r\n\r\n### server configuration\r\noperating system:\r\ndebian 6.0 squeeze\r\nweb server: \r\napache2\r\ndatabase:displayname\r\nsqlite\r\nphp version:\r\nphp 5.3.3-7+squeeze15 \r\nowncloud version:\r\n5.0.0-0\r\n\r\n### client configuration\r\nbrowser:\r\nall, owncloud clients as well.\r\n\r\n\r\n### logs\r\n#### web server error log\r\n```displayname\r\n134.206.18.113 - lagrange [25/mar/2013:09:52:17 +0100] \"get /owncloud/status.php http/1.1\" 200 2246 \"-\" \"mirall-1.2.1\"\r\n134.206.18.113 - - [25/mar/2013:09:52:17 +0100] \"propfind /owncloud/remote.php/webdav/clientsync http/1.1\" 401 2313 \"-\" \"csyncoc/0.70.4 neon/0.29.6\"\r\n134.206.18.113 - lagrange [25/mar/2013:09:52:17 +0100] \"propfind /owncloud/remote.php/webdav/clientsync http/1.1\" 207 2602 \"-\" \"csyncoc/0.70.4 neon/0.29.6\"\r\n```\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n{\"app\":\"php\",\"message\":\"opendir(\\/home\\/cloud\\/owncloud\\/a5267c56-1e84-1032-91cb-d59d5261bcd0\\/cache\\/): failed to open dir: no such file or directory at \\/var\\/www\\/owncloud\\/lib\\/files\\/storage\\/local.php#40\",\"level\":2,\"time\":1364201537}\r\n{\"app\":\"php\",\"message\":\"readdir() expects parameter 1 to be resource, boolean given at \\/var\\/www\\/owncloud\\/lib\\/cache\\/file.php#88\",\"level\":2,\"time\":1364201537}\r\n```\r\n\r\n### related issues\r\nthis could related to issues #2545 or #2374. but i'm not sure about it.","closed_by":{"login":"blizzz","id":2184312,"avatar_url":"https://gravatar.com/avatar/1898b25a9cb3aa1a0f0febd1359910b9?d=https%3a%2f%2fidenticons.github.com%2fca03acec6deadf508b75eb0cf9ba036c.png&r=x","gravatar_id":"1898b25a9cb3aa1a0f0febd1359910b9","url":"https://api.github.com/users/blizzz","html_url":"https://github.com/blizzz","followers_url":"https://api.github.com/users/blizzz/followers","following_url":"https://api.github.com/users/blizzz/following{/other_user}","gists_url":"https://api.github.com/users/blizzz/gists{/gist_id}","starred_url":"https://api.github.com/users/blizzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blizzz/subscriptions","organizations_url":"https://api.github.com/users/blizzz/orgs","repos_url":"https://api.github.com/users/blizzz/repos","events_url":"https://api.github.com/users/blizzz/events{/privacy}","received_events_url":"https://api.github.com/users/blizzz/received_events","type":"user","site_admin":false}}