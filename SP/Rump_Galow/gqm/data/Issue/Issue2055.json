{"url":"https://api.github.com/repos/owncloud/core/issues/2055","labels_url":"https://api.github.com/repos/owncloud/core/issues/2055/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2055/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2055/events","html_url":"https://github.com/owncloud/core/issues/2055","id":11595394,"number":2055,"title":"webdav check fails when ssl client certificate is used","user":{"login":"monreal","id":54005,"avatar_url":"https://identicons.github.com/201c0f76a64e14fdfe74bdff9eb099f0.png","gravatar_id":null,"url":"https://api.github.com/users/monreal","html_url":"https://github.com/monreal","followers_url":"https://api.github.com/users/monreal/followers","following_url":"https://api.github.com/users/monreal/following{/other_user}","gists_url":"https://api.github.com/users/monreal/gists{/gist_id}","starred_url":"https://api.github.com/users/monreal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monreal/subscriptions","organizations_url":"https://api.github.com/users/monreal/orgs","repos_url":"https://api.github.com/users/monreal/repos","events_url":"https://api.github.com/users/monreal/events{/privacy}","received_events_url":"https://api.github.com/users/monreal/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/3+-+to+develop","name":"3 - to develop","color":"ededed"},{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/needs+info","name":"needs info","color":"0b02e1"}],"state":"closed","assignee":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false},"milestone":{"url":"https://api.github.com/repos/owncloud/core/milestones/3","labels_url":"https://api.github.com/repos/owncloud/core/milestones/3/labels","id":199679,"number":3,"title":"owncloud 6","description":"","creator":{"login":"lukasreschke","id":878997,"avatar_url":"https://gravatar.com/avatar/f080e75d370a4d8e550983a4898bcf3b?d=https%3a%2f%2fidenticons.github.com%2ff12e47d5bb5359a9f58e8217413be790.png&r=x","gravatar_id":"f080e75d370a4d8e550983a4898bcf3b","url":"https://api.github.com/users/lukasreschke","html_url":"https://github.com/lukasreschke","followers_url":"https://api.github.com/users/lukasreschke/followers","following_url":"https://api.github.com/users/lukasreschke/following{/other_user}","gists_url":"https://api.github.com/users/lukasreschke/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasreschke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasreschke/subscriptions","organizations_url":"https://api.github.com/users/lukasreschke/orgs","repos_url":"https://api.github.com/users/lukasreschke/repos","events_url":"https://api.github.com/users/lukasreschke/events{/privacy}","received_events_url":"https://api.github.com/users/lukasreschke/received_events","type":"user","site_admin":false},"open_issues":19,"closed_issues":645,"state":"open","created_at":"2012-10-22t21:38:51z","updated_at":"2013-12-18t11:11:18z","due_on":null},"comments":7,"created_at":"2013-03-03t18:47:19z","updated_at":"2013-12-22t22:25:38z","closed_at":"2013-10-02t07:57:54z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nthe webdav client should not tell the user to check the installation manual if it cannot test the webdav connection because it does not have (or handle) the required client certificate.\r\n\r\n### actual behaviour\r\nthere is a warning (after initial setup and on the admin page) that webdav is not working and a link to the installation manual. i searched this page for half an hour for anything i configured wrong before understanding that the problem is related to the client certificate my server needs in order to accept a connection.\r\n\r\ni know that this kind of setup is probably not used by many users but i think it is very reasonable.\r\n\r\n### steps to reproduce\r\n1. set a client ssl certificate for your owncloud\r\n2. log in to owncloud and go to the admin page\r\n\r\n### server configuration\r\noperating system: centos 6\r\n\r\nweb server: 2.2.15\r\n\r\ndatabase: sqlite 3.6.20\r\n\r\nphp version: 5.3.3\r\n\r\nowncloud version: 5.0.0-rc1\r\n\r\n### client configuration\r\nbrowser: firefox 20\r\n\r\noperating system: fedora 18\r\n\r\n### logs\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\n{\"app\":\"core\",\"message\":\"iswebdavworking: no - reason: exception 'sabre_dav_exception' with message '[curl] error while making request: nss: client certificate not found (nickname not specified) (error code: 56)' in \\/home\\/www\\/3rdparty\\/sabre\\/dav\\/client.php:410\\nstack trace:\\n#0 \\/home\\/www\\/3rdparty\\/sabre\\/dav\\/client.php(179): sabre_dav_client->request('propfind', '', '<?xml version=\\\"...', array)\\n#1 \\/home\\/www\\/owncloud\\/lib\\/util.php(590): sabre_dav_client->propfind('', array)\\n#2 \\/home\\/www\\/owncloud\\/settings\\/admin.php(34): oc_util::iswebdavworking()\\n#3 \\/home\\/www\\/owncloud\\/lib\\/route.php(113) : runtime-created function(1): require_once('\\/home\\/www\\/owncl...')\\n#4 [internal function]: __lambda_func(array)\\n#5 \\/home\\/www\\/owncloud\\/lib\\/router.php(127): call_user_func('?lambda_249', array)\\n#6 \\/home\\/www\\/owncloud\\/lib\\/base.php(600): oc_router->match('\\/settings\\/admin')\\n#7 \\/home\\/www\\/owncloud\\/index.php(28): oc::handlerequest()\\n#8 {main}\",\"level\":2,\"time\":1362316700}\r\n```","closed_by":{"login":"karlitschek","id":867445,"avatar_url":"https://gravatar.com/avatar/87ce2b4531ee1a0c32b50e0d8f049224?d=https%3a%2f%2fidenticons.github.com%2f06e7098636caebfc9c30c9f52eb905df.png&r=x","gravatar_id":"87ce2b4531ee1a0c32b50e0d8f049224","url":"https://api.github.com/users/karlitschek","html_url":"https://github.com/karlitschek","followers_url":"https://api.github.com/users/karlitschek/followers","following_url":"https://api.github.com/users/karlitschek/following{/other_user}","gists_url":"https://api.github.com/users/karlitschek/gists{/gist_id}","starred_url":"https://api.github.com/users/karlitschek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karlitschek/subscriptions","organizations_url":"https://api.github.com/users/karlitschek/orgs","repos_url":"https://api.github.com/users/karlitschek/repos","events_url":"https://api.github.com/users/karlitschek/events{/privacy}","received_events_url":"https://api.github.com/users/karlitschek/received_events","type":"user","site_admin":false}}