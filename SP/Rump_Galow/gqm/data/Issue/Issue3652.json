{"url":"https://api.github.com/repos/owncloud/core/issues/3652","labels_url":"https://api.github.com/repos/owncloud/core/issues/3652/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3652/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3652/events","html_url":"https://github.com/owncloud/core/pull/3652","id":15337637,"number":3652,"title":"fix fetchrow checks to also work with mdb2","user":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":null,"milestone":null,"comments":5,"created_at":"2013-06-10t09:18:18z","updated_at":"2013-06-29t11:11:40z","closed_at":"2013-06-11t13:20:28z","pull_request":{"html_url":"https://github.com/owncloud/core/pull/3652","diff_url":"https://github.com/owncloud/core/pull/3652.diff","patch_url":"https://github.com/owncloud/core/pull/3652.patch"},"body":"mdb2 returns null when no further rows are available, pdo and doctrine return false. various places that use `oc\\files\\cache\\cache $cache->get($file)` check for false with `===`. some of the tests user assertfalse() which also fails. these hacks will go away when moving to doctrine, but for now. we need to check for null and false. the underlying problem is that using pdo for oracle is not recommended and owncloud has to fall back to mdb2.\r\n\r\nthe widespread (imho bad) usage of `while ($row = $result->fetchrow()) {` is not affected.\r\n\r\n@karlitschek @deepdiver1975 @icewind1991 @mtgap @bartv2 \r\n\r\noriginally part of https://github.com/owncloud/core/pull/3583","closed_by":{"login":"butonic","id":956847,"avatar_url":"https://gravatar.com/avatar/9760c134cabf66e10dbba06d7525f5c7?d=https%3a%2f%2fidenticons.github.com%2f92925ec1ad893739ed57986f18e2f060.png&r=x","gravatar_id":"9760c134cabf66e10dbba06d7525f5c7","url":"https://api.github.com/users/butonic","html_url":"https://github.com/butonic","followers_url":"https://api.github.com/users/butonic/followers","following_url":"https://api.github.com/users/butonic/following{/other_user}","gists_url":"https://api.github.com/users/butonic/gists{/gist_id}","starred_url":"https://api.github.com/users/butonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/butonic/subscriptions","organizations_url":"https://api.github.com/users/butonic/orgs","repos_url":"https://api.github.com/users/butonic/repos","events_url":"https://api.github.com/users/butonic/events{/privacy}","received_events_url":"https://api.github.com/users/butonic/received_events","type":"user","site_admin":false}}