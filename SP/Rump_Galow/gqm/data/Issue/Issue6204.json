{"url":"https://api.github.com/repos/owncloud/core/issues/6204","labels_url":"https://api.github.com/repos/owncloud/core/issues/6204/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/6204/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/6204/events","html_url":"https://github.com/owncloud/core/issues/6204","id":23791656,"number":6204,"title":"key recovery in v6rc2: allow admin to see if users have it enabled and allow admin to enable recovery for all users","user":{"login":"dalwhinnie","id":6112935,"avatar_url":"https://gravatar.com/avatar/56814ffe90489e44f4e3885775e7e72f?d=https%3a%2f%2fidenticons.github.com%2fe99a000aeb091a7056af876e5b2062ef.png&r=x","gravatar_id":"56814ffe90489e44f4e3885775e7e72f","url":"https://api.github.com/users/dalwhinnie","html_url":"https://github.com/dalwhinnie","followers_url":"https://api.github.com/users/dalwhinnie/followers","following_url":"https://api.github.com/users/dalwhinnie/following{/other_user}","gists_url":"https://api.github.com/users/dalwhinnie/gists{/gist_id}","starred_url":"https://api.github.com/users/dalwhinnie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dalwhinnie/subscriptions","organizations_url":"https://api.github.com/users/dalwhinnie/orgs","repos_url":"https://api.github.com/users/dalwhinnie/repos","events_url":"https://api.github.com/users/dalwhinnie/events{/privacy}","received_events_url":"https://api.github.com/users/dalwhinnie/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles_encryption","name":"app:files_encryption","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2013-12-05t14:55:04z","updated_at":"2013-12-06t11:21:51z","closed_at":"2013-12-06t11:21:51z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"file encryption with key recovery works quite well. however there are some pitfalls:\r\n\r\n- the default for the user is â€œno recoveryâ€?\r\n- in the admin ui there is no way to see if a user has recovery enabled or not\r\n- that means that you can recover users that have it disabled which leads to data loss (since the key cannot be accessed anymore). there is no warning message for the admin, no blocker, nothing. as an admin you can easily destroy the userâ€™s data by accident (make it unreadable).\r\n- once you recovered a user that has recovery disabled there is no way to ever get recovery working again for that user since there is data around that cannot be decrypted anymore\r\n\r\nproposed solutions:\r\n\r\n- add a flag to the admin ui which indicates whether a user has recovery enabled or not\r\n- allow the admin to active recovery for users (and maybe warn users on next login that recovery is activated now in order to allow them to opt out)\r\n\r\n","closed_by":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false}}