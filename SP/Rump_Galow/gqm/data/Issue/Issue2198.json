{"url":"https://api.github.com/repos/owncloud/core/issues/2198","labels_url":"https://api.github.com/repos/owncloud/core/issues/2198/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2198/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2198/events","html_url":"https://github.com/owncloud/core/issues/2198","id":11806185,"number":2198,"title":"missing values in oc_appconfig table when upgrading from 4.0.x to 4.5.7","user":{"login":"benjamin-garn","id":3677978,"avatar_url":"https://gravatar.com/avatar/3c3dc969ff3f6fa48fbeb24da0efd825?d=https%3a%2f%2fidenticons.github.com%2fd4c6d1409e27720bc3c0d9706ddd3e40.png&r=x","gravatar_id":"3c3dc969ff3f6fa48fbeb24da0efd825","url":"https://api.github.com/users/benjamin-garn","html_url":"https://github.com/benjamin-garn","followers_url":"https://api.github.com/users/benjamin-garn/followers","following_url":"https://api.github.com/users/benjamin-garn/following{/other_user}","gists_url":"https://api.github.com/users/benjamin-garn/gists{/gist_id}","starred_url":"https://api.github.com/users/benjamin-garn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benjamin-garn/subscriptions","organizations_url":"https://api.github.com/users/benjamin-garn/orgs","repos_url":"https://api.github.com/users/benjamin-garn/repos","events_url":"https://api.github.com/users/benjamin-garn/events{/privacy}","received_events_url":"https://api.github.com/users/benjamin-garn/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/duplicate","name":"duplicate","color":"cccccc"}],"state":"closed","assignee":null,"milestone":null,"comments":5,"created_at":"2013-03-08t14:14:16z","updated_at":"2013-03-09t17:58:51z","closed_at":"2013-03-08t16:16:39z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i checked several upgrade scenarios now and the following problem occured, whenever i upgraded from 4.0.x to 4.5.7 version (and used mysql). \r\n\r\nthere were 5 values in the oc_appconfig table missing:\r\n- backgroundjobs_step\r\n- backgroundjobs_task\r\n- global_cache_gc_lastrun\r\n- remote_core.css\r\n- remote_core.js\r\n\r\nwithout the last two entries, the layout will be broken and unusable!\r\n\r\nthere was no error message during the upgrade!\r\n\r\nafter upgrading, the db structure is ok in the meaning all tables and fields are there and of the right type. the only difference is, there are a lot of default ' ' values on fields now. the upgraded tables do not have those default values!\r\n\r\nthis means if you plan to upgrade from 4.0.x to 4.5.7, you have to manually add those entries (see #1871) or try 4.0.x --> 4.5.0 --> 4.5.7 as upgrade path.\r\n\r\n![oc_appconfig_diff](https://f.cloud.github.com/assets/3677978/236702/eaef87f6-87f9-11e2-930a-41b6273f70b0.png)\r\n\r\n![oc_db_upgrade_structure_diff](https://f.cloud.github.com/assets/3677978/236724/5db28928-87fa-11e2-9dd7-e87583cbbe89.png)\r\n\r\nother versions of 4.5.x might be affected as well.","closed_by":{"login":"raydiation","id":195053,"avatar_url":"https://gravatar.com/avatar/aa0d7b7302e0d7f4f9513c23b571383a?d=https%3a%2f%2fidenticons.github.com%2faf0a25e27510f77d97634a6bbe653b13.png&r=x","gravatar_id":"aa0d7b7302e0d7f4f9513c23b571383a","url":"https://api.github.com/users/raydiation","html_url":"https://github.com/raydiation","followers_url":"https://api.github.com/users/raydiation/followers","following_url":"https://api.github.com/users/raydiation/following{/other_user}","gists_url":"https://api.github.com/users/raydiation/gists{/gist_id}","starred_url":"https://api.github.com/users/raydiation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raydiation/subscriptions","organizations_url":"https://api.github.com/users/raydiation/orgs","repos_url":"https://api.github.com/users/raydiation/repos","events_url":"https://api.github.com/users/raydiation/events{/privacy}","received_events_url":"https://api.github.com/users/raydiation/received_events","type":"user","site_admin":false}}