{"url":"https://api.github.com/repos/owncloud/core/issues/5795","labels_url":"https://api.github.com/repos/owncloud/core/issues/5795/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5795/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5795/events","html_url":"https://github.com/owncloud/core/issues/5795","id":22416468,"number":5795,"title":"updater (5.0.12 -> 5.0.13) fails with \"unable to fetch package\" (\"extraction error\" in log)","user":{"login":"randolfcarter","id":2631274,"avatar_url":"https://gravatar.com/avatar/e4a5d1c2c314d59e880d83b497a0d719?d=https%3a%2f%2fidenticons.github.com%2f3c3d7236785996f9e5f172ea5cdac91b.png&r=x","gravatar_id":"e4a5d1c2c314d59e880d83b497a0d719","url":"https://api.github.com/users/randolfcarter","html_url":"https://github.com/randolfcarter","followers_url":"https://api.github.com/users/randolfcarter/followers","following_url":"https://api.github.com/users/randolfcarter/following{/other_user}","gists_url":"https://api.github.com/users/randolfcarter/gists{/gist_id}","starred_url":"https://api.github.com/users/randolfcarter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/randolfcarter/subscriptions","organizations_url":"https://api.github.com/users/randolfcarter/orgs","repos_url":"https://api.github.com/users/randolfcarter/repos","events_url":"https://api.github.com/users/randolfcarter/events{/privacy}","received_events_url":"https://api.github.com/users/randolfcarter/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"open","assignee":null,"milestone":null,"comments":36,"created_at":"2013-11-10t20:34:38z","updated_at":"2013-12-17t20:26:33z","closed_at":null,"pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\ntrying to use the updater to update from 5.0.12 to 5.0.13, i expect it to run through successfully\r\n\r\n### actual behaviour\r\nthe updater fails with \"unable to fetch package\".\r\n\r\n### steps to reproduce\r\n1. go to \"admin\" page; the updater section will show \"owncloud 5.0.13 is available ...\"\r\n2. click on the \"update center\" link\r\n3. go to the \"update\" tab\r\n4. update fails with \"unable to fetch package\"\r\n\r\n### server configuration\r\noperating system: ubuntu 12.04.3 lts\r\nweb server: apache 2.4.6-3\r\ndatabase: mysql ver 14.14 distrib 5.5.34,\r\nphp version: 5.5.4-1\r\n\r\nowncloud version: 5.0.12\r\n\r\n### client configuration\r\nbrowser: firefox 25.0\r\noperating system: windows 8.1 / ubuntu 13.10\r\n\r\n### logs\r\n#### web server error log\r\nnothing related\r\n\r\n#### owncloud log (data/owncloud.log)\r\n```\r\nerror updater /tmp/b71915fa52a77a0e359366325e6d4046.tar.bz2 extraction error 2013-11-09t20:38:26+00:00\r\nerror updater retrieving http://download.owncloud.org/community/ ... 13.tar.bz2\t2013-11-09t20:38:26+00:00\r\nwarning php file_exists() expects parameter 1 to be a valid path, string given at /home/bfroehler/htdocs/owncloud/3rdparty/archive/tar.php#1615 2013-11-09t20:38:26+00:00\r\n```\r\n\r\n#### browser log\r\nhave not collected such, don't think they could be relevant\r\n\r\n### further information\r\nopen_basedir is *not* set\r\nphp / www-data has permissions on both /tmp and the target folder for the extraction (i put a temporary log output in there to find out the extract location)\r\n\r\ni'm not sure at which step exactly the extraction fails, but it seems unlikely to be a permission issue. maybe the bz2 module somehow could be corrupt? any idea how i could check that?\r\n\r\n### see also\r\nhttp://forum.owncloud.org/viewtopic.php?f=23&t=17358&p=47786#p47786","closed_by":null}