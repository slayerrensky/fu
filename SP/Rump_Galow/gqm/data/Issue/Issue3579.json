{"url":"https://api.github.com/repos/owncloud/core/issues/3579","labels_url":"https://api.github.com/repos/owncloud/core/issues/3579/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/3579/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/3579/events","html_url":"https://github.com/owncloud/core/issues/3579","id":15058975,"number":3579,"title":"settings app does not exist because of which sharing fails","user":{"login":"devghai","id":953280,"avatar_url":"https://gravatar.com/avatar/2519fdc3be7881099c4d15d65dcd6fb5?d=https%3a%2f%2fidenticons.github.com%2f0bdd083d12247b145259aad9d37b406d.png&r=x","gravatar_id":"2519fdc3be7881099c4d15d65dcd6fb5","url":"https://api.github.com/users/devghai","html_url":"https://github.com/devghai","followers_url":"https://api.github.com/users/devghai/followers","following_url":"https://api.github.com/users/devghai/following{/other_user}","gists_url":"https://api.github.com/users/devghai/gists{/gist_id}","starred_url":"https://api.github.com/users/devghai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devghai/subscriptions","organizations_url":"https://api.github.com/users/devghai/orgs","repos_url":"https://api.github.com/users/devghai/repos","events_url":"https://api.github.com/users/devghai/events{/privacy}","received_events_url":"https://api.github.com/users/devghai/received_events","type":"user","site_admin":false},"labels":[],"state":"closed","assignee":{"login":"mtgap","id":1097106,"avatar_url":"https://gravatar.com/avatar/454a73ee5feeb428d0c163a48903332c?d=https%3a%2f%2fidenticons.github.com%2f52d29a66f285a1d61125dd69ac0766b2.png&r=x","gravatar_id":"454a73ee5feeb428d0c163a48903332c","url":"https://api.github.com/users/mtgap","html_url":"https://github.com/mtgap","followers_url":"https://api.github.com/users/mtgap/followers","following_url":"https://api.github.com/users/mtgap/following{/other_user}","gists_url":"https://api.github.com/users/mtgap/gists{/gist_id}","starred_url":"https://api.github.com/users/mtgap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtgap/subscriptions","organizations_url":"https://api.github.com/users/mtgap/orgs","repos_url":"https://api.github.com/users/mtgap/repos","events_url":"https://api.github.com/users/mtgap/events{/privacy}","received_events_url":"https://api.github.com/users/mtgap/received_events","type":"user","site_admin":false},"milestone":null,"comments":1,"created_at":"2013-06-03t09:43:50z","updated_at":"2013-06-03t12:59:37z","closed_at":"2013-06-03t12:59:36z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### developer description\r\n'settings' app https://github.com/owncloud/core/blob/master/core/ajax/share.php#l109 does not exist. because of that, sharing-noreply email address is used, and it does not exist if not made explicitly while hosting own instance.\r\nhence sharing using ajax fails. owncloud/data/owncloud.log logs errors.\r\n{\"app\":\"mail\",\"message\":\"smtp error: the following recipients failed: fake-email@yahoo.com\",\"level\":3,\"time\":1370249506}\r\n\r\n### debugging process\r\nset if ($this->do_debug >= 1) and ($this->do_debug >= 2) to ($this->do_debug) in https://github.com/owncloud/3rdparty/blob/master/class.smtp.php to have very verbose messages.\r\nthen clicked 'share' link against a folder in files section to get the little form. entered email and hit send to receive the following as the response to post via ajax.\r\n\r\n\r\n<br />smtp -> from server: 250-box781.bluehost.com hello domain.com [00.00.00.00]\r\n250-size 52428800\r\n250-8bitmime\r\n250-pipelining\r\n250-auth plain login\r\n250 help\r\n\r\n<br />smtp -> get_lines(): $data was \"\"\r\n<br />smtp -> get_lines(): $str is \"334 vxnlcm5hbwu6\r\n\"\r\n<br />smtp -> get_lines(): $data is \"334 vxnlcm5hbwu6\r\n\"\r\n<br />smtp -> get_lines(): $data was \"\"\r\n<br />smtp -> get_lines(): $str is \"334 ugfzc3dvcmq6\r\n\"\r\n<br />smtp -> get_lines(): $data is \"334 ugfzc3dvcmq6\r\n\"\r\n<br />smtp -> get_lines(): $data was \"\"\r\n<br />smtp -> get_lines(): $str is \"235 authentication succeeded\r\n\"\r\n<br />smtp -> get_lines(): $data is \"235 authentication succeeded\r\n\"\r\n<br />smtp -> get_lines(): $data was \"\"\r\n<br />smtp -> get_lines(): $str is \"250 ok\r\n\"\r\n<br />smtp -> get_lines(): $data is \"250 ok\r\n\"\r\n<br />smtp -> from server:250 ok\r\n\r\n<br />smtp -> get_lines(): $data was \"\"\r\n<br />smtp -> get_lines(): $str is \"550-verification failed for <sharing-noreply@domain.com>\r\n\"\r\n<br />smtp -> get_lines(): $data is \"550-verification failed for <sharing-noreply@domain.com>\r\n\"\r\n<br />smtp -> get_lines(): $data was \"550-verification failed for <sharing-noreply@domain.com>\r\n\"\r\n<br />smtp -> get_lines(): $str is \"550-no such user here\r\n\"\r\n<br />smtp -> get_lines(): $data is \"550-verification failed for <sharing-noreply@domain.com>\r\n550-no such user here\r\n\"\r\n<br />smtp -> get_lines(): $data was \"550-verification failed for <sharing-noreply@domain.com>\r\n550-no such user here\r\n\"\r\n<br />smtp -> get_lines(): $str is \"550 sender verify failed\r\n\"\r\n<br />smtp -> get_lines(): $data is \"550-verification failed for <sharing-noreply@domain.com>\r\n550-no such user here\r\n550 sender verify failed\r\n\"\r\n<br />smtp -> from server:550-verification failed for <sharing-noreply@domain.com>\r\n550-no such user here\r\n550 sender verify failed\r\n\r\n<br />smtp -> error: rcpt not accepted from server: 550-verification failed for <sharing-noreply@domain.com>\r\n550-no such user here\r\n550 sender verify failed\r\n\r\n<br />{\"data\":{\"message\":\"smtp error: the following recipients failed: fake-email@yahoo.com\"},\"status\":\"error\"}\r\n\r\n### workaround\r\nmake sharing-noreply email with same password defined in config.php (mail_smtppassword) with no space allocated to the mailbox.\r\n","closed_by":{"login":"deepdiver1975","id":1005065,"avatar_url":"https://gravatar.com/avatar/bdba071ed68da9ce8edae53c364902ef?d=https%3a%2f%2fidenticons.github.com%2f67e101ad9531b7d25697b76e503e062e.png&r=x","gravatar_id":"bdba071ed68da9ce8edae53c364902ef","url":"https://api.github.com/users/deepdiver1975","html_url":"https://github.com/deepdiver1975","followers_url":"https://api.github.com/users/deepdiver1975/followers","following_url":"https://api.github.com/users/deepdiver1975/following{/other_user}","gists_url":"https://api.github.com/users/deepdiver1975/gists{/gist_id}","starred_url":"https://api.github.com/users/deepdiver1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deepdiver1975/subscriptions","organizations_url":"https://api.github.com/users/deepdiver1975/orgs","repos_url":"https://api.github.com/users/deepdiver1975/repos","events_url":"https://api.github.com/users/deepdiver1975/events{/privacy}","received_events_url":"https://api.github.com/users/deepdiver1975/received_events","type":"user","site_admin":false}}