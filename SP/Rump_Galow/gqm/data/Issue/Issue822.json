{"url":"https://api.github.com/repos/owncloud/core/issues/822","labels_url":"https://api.github.com/repos/owncloud/core/issues/822/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/822/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/822/events","html_url":"https://github.com/owncloud/core/issues/822","id":9178699,"number":822,"title":"unsharing a share results in 'undefined offset: 0 in /var/www/owncloud/lib/files.php on line 47' ","user":{"login":"mtrichards","id":1818977,"avatar_url":"https://gravatar.com/avatar/a1655fd2e819638708ee854fa941008b?d=https%3a%2f%2fidenticons.github.com%2fa75d8baded229745ad65d43f7a7975df.png&r=x","gravatar_id":"a1655fd2e819638708ee854fa941008b","url":"https://api.github.com/users/mtrichards","html_url":"https://github.com/mtrichards","followers_url":"https://api.github.com/users/mtrichards/followers","following_url":"https://api.github.com/users/mtrichards/following{/other_user}","gists_url":"https://api.github.com/users/mtrichards/gists{/gist_id}","starred_url":"https://api.github.com/users/mtrichards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtrichards/subscriptions","organizations_url":"https://api.github.com/users/mtrichards/orgs","repos_url":"https://api.github.com/users/mtrichards/repos","events_url":"https://api.github.com/users/mtrichards/events{/privacy}","received_events_url":"https://api.github.com/users/mtrichards/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"}],"state":"closed","assignee":null,"milestone":null,"comments":4,"created_at":"2012-12-11t13:06:03z","updated_at":"2013-08-07t18:42:57z","closed_at":"2013-08-07t18:42:57z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"\r\ncarried over from: http://bugs.owncloud.org/thebuggenie/owncloud/issues/oc-2115\r\n\r\nissue remains open in owncloud 4.5.4.\r\n\r\nwhen you share a folder with someone, and that someone syncs it to his hard disk with the sync client, and then the folder is unshared again, it results in server errors (and the folder does not disappear from the sharee's shared folder):\r\n\r\nerror in the error log: [error] [client ip.ip.ip.ip] php notice: undefined offset:0 in /srv/www/htdocs/owncloud/lib/files.php on line 48.\r\n\r\ni would expect the folder to disappear from the 'shared' folder on disk, as it disappears from the shared folder in the web gui.\r\n\r\nversion: 4.5 dec 9 stable build, my sql. syncclient: 1.2.0 pre\r\n\r\nreproduction steps:\r\n\r\ncreate two users: user1 and user2\r\nuser1 creates a folder 'foo' and shares it with user2\r\nuser2 installs the sync client\r\nuser2 lets the data sync so that 'foo' appears in the 'shared' folder on his disk\r\nuser1 unshares 'foo'.\r\nuser2 still has the folder on disk and the server error log says: \"undefined offset: 0 in /var/www/owncloud/lib/files.php on line 47\" a lot (probably every sync action).\r\n\r\n","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}