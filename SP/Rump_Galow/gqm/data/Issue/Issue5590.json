{"url":"https://api.github.com/repos/owncloud/core/issues/5590","labels_url":"https://api.github.com/repos/owncloud/core/issues/5590/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/5590/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/5590/events","html_url":"https://github.com/owncloud/core/pull/5590","id":21724147,"number":5590,"title":"[wip] [experimental] files app infinite scroll","user":{"login":"pvince81","id":277525,"avatar_url":"https://gravatar.com/avatar/e446b529679416eb70eafb4ca4da5bbe?d=https%3a%2f%2fidenticons.github.com%2f89d7c394e6dcdf87a91c75ac3b2ccbe8.png&r=x","gravatar_id":"e446b529679416eb70eafb4ca4da5bbe","url":"https://api.github.com/users/pvince81","html_url":"https://github.com/pvince81","followers_url":"https://api.github.com/users/pvince81/followers","following_url":"https://api.github.com/users/pvince81/following{/other_user}","gists_url":"https://api.github.com/users/pvince81/gists{/gist_id}","starred_url":"https://api.github.com/users/pvince81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvince81/subscriptions","organizations_url":"https://api.github.com/users/pvince81/orgs","repos_url":"https://api.github.com/users/pvince81/repos","events_url":"https://api.github.com/users/pvince81/events{/privacy}","received_events_url":"https://api.github.com/users/pvince81/received_events","type":"user","site_admin":false},"labels":[],"state":"open","assignee":null,"milestone":null,"comments":5,"created_at":"2013-10-28t21:59:47z","updated_at":"2013-11-12t13:46:28z","closed_at":null,"pull_request":{"html_url":"https://github.com/owncloud/core/pull/5590","diff_url":"https://github.com/owncloud/core/pull/5590.diff","patch_url":"https://github.com/owncloud/core/pull/5590.patch"},"body":":construction: wip\r\n\r\nthis is an experiment with infinite scrolling and big file lists.\r\n\r\nthis changes the following:\r\n1) files app file list is pure-ajax (no more pre-rendering)\r\n2) ajax call returns a json list of files\r\n3) the ui caches the json list and only appends the first 20 files\r\n4) when the user scrolls down, the ui will append the next 20 files\r\n\r\ni managed to make this work with 12000 entries at first. it seems chrome didn't have a problem caching them.\r\n\r\nthe bottleneck in the browser (before these commits) was when appending all 12000 elements into the dom.\r\n\r\ni've also discovered very unefficient jquery usage like $('tr') which is called many many times and would lock up the browser every time when trying to select the 12000 elements.\r\n\r\nsince these changes are too big to be included into oc6, i'll use some of these insights to tweak the performance of the file list oc6.\r\n\r\ni'll leave this pr here if someone wants to try it out. (it is not ready as it breaks the trash + sharing apps at the moment)\r\n\r\n@karlitschek @schiesbn @deepdiver1975 @jancborchardt \r\n","closed_by":null}