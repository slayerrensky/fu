{"url":"https://api.github.com/repos/owncloud/core/issues/2438","labels_url":"https://api.github.com/repos/owncloud/core/issues/2438/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/2438/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/2438/events","html_url":"https://github.com/owncloud/core/issues/2438","id":12172746,"number":2438,"title":"files deleted on sync","user":{"login":"demonofshadow","id":1576899,"avatar_url":"https://gravatar.com/avatar/4403bad620b9e2d639b58490c77add06?d=https%3a%2f%2fidenticons.github.com%2f1a182039e52ad36a96fb255730159b41.png&r=x","gravatar_id":"4403bad620b9e2d639b58490c77add06","url":"https://api.github.com/users/demonofshadow","html_url":"https://github.com/demonofshadow","followers_url":"https://api.github.com/users/demonofshadow/followers","following_url":"https://api.github.com/users/demonofshadow/following{/other_user}","gists_url":"https://api.github.com/users/demonofshadow/gists{/gist_id}","starred_url":"https://api.github.com/users/demonofshadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/demonofshadow/subscriptions","organizations_url":"https://api.github.com/users/demonofshadow/orgs","repos_url":"https://api.github.com/users/demonofshadow/repos","events_url":"https://api.github.com/users/demonofshadow/events{/privacy}","received_events_url":"https://api.github.com/users/demonofshadow/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/windows+server","name":"windows server","color":"0b02e1"}],"state":"closed","assignee":null,"milestone":null,"comments":5,"created_at":"2013-03-19t09:52:11z","updated_at":"2013-08-07t14:20:02z","closed_at":"2013-08-07t14:20:02z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"### expected behaviour\r\nthe added files should be synchronized on the server and stay on the file system.\r\n\r\n### actual behaviour\r\nwhen the sync finish, the files get a \".part\" extension added at the end (only on the web interface).\r\nat the next auto sync, the added files that have a \".part\" extension on the web are deleted from the client file system. but when i remove the \".part\" from their name, from the web interface, the files are correctly synchronized.\r\n\r\n### steps to reproduce\r\n1. add a new file in the file system to synchronize.\r\n2. wait until the end of the synchronization.\r\n3. wait until the next auto synchronization from the client.\r\n4. the synchronized file is automatically deleted.\r\n\r\n### server configuration\r\noperating system: windows 7 x64\r\n\r\nweb server: wampserver 2.2\r\n\r\ndatabase: phpmyadmin 3.5.1\r\n\r\nphp version: 5.3.13\r\n\r\nowncloud version:\r\nserver: 5.0.0\r\nclient: 1.2.1\r\n\r\n### client configuration\r\nbrowser: firefox 14.0.1\r\n\r\noperating system:\r\n\r\n### logs\r\n#### web server error log\r\nempty\r\n\r\n#### owncloud log (data/owncloud.log)\r\n\r\ni have 300 lines of:\r\n{\"app\":\"php\",\"message\":\"maximum function nesting level of '100' reached, aborting! at c:\\\\wamp\\\\www\\\\owncloud\\\\lib\\\\db.php#698\",\"level\":4,\"time\":1363684005}\r\n\r\nand sometime, i get some:\r\n{\"app\":\"php\",\"message\":\"filemtime() [<a href='function.filemtime'>function.filemtime<\\/a>]: stat failed for c:\\/wamp\\/www\\/owncloud\\/data\\/blaze\\/files\\\\clientsync\\\\icons at c:\\\\wamp\\\\www\\\\owncloud\\\\lib\\\\files\\\\storage\\\\mappedlocal.php#113\",\"level\":2,\"time\":1363684650}\r\n\r\nand each time i were on the gallery:\r\n{\"app\":\"php\",\"message\":\"undefined offset: 1 at c:\\\\wamp\\\\www\\\\owncloud\\\\apps\\\\gallery\\\\ajax\\\\gallery.php#12\",\"level\":2,\"time\":1363685526}\r\n\r\nyou can get the full log here: http://pastebin.com/tkdnwqwa\r\n\r\n\r\n\r\ni am connecting to the web interface through: http://localhost:81/owncloud\r\n\r\nexcepting this problem, everything else is working well.","closed_by":{"login":"jancborchardt","id":925062,"avatar_url":"https://gravatar.com/avatar/2fd3f4d5d762955e5b603794a888fa97?d=https%3a%2f%2fidenticons.github.com%2f84ec51f9ceed468217d4e13abf78da9c.png&r=x","gravatar_id":"2fd3f4d5d762955e5b603794a888fa97","url":"https://api.github.com/users/jancborchardt","html_url":"https://github.com/jancborchardt","followers_url":"https://api.github.com/users/jancborchardt/followers","following_url":"https://api.github.com/users/jancborchardt/following{/other_user}","gists_url":"https://api.github.com/users/jancborchardt/gists{/gist_id}","starred_url":"https://api.github.com/users/jancborchardt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jancborchardt/subscriptions","organizations_url":"https://api.github.com/users/jancborchardt/orgs","repos_url":"https://api.github.com/users/jancborchardt/repos","events_url":"https://api.github.com/users/jancborchardt/events{/privacy}","received_events_url":"https://api.github.com/users/jancborchardt/received_events","type":"user","site_admin":false}}