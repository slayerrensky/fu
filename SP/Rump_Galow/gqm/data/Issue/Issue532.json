{"url":"https://api.github.com/repos/owncloud/core/issues/532","labels_url":"https://api.github.com/repos/owncloud/core/issues/532/labels{/name}","comments_url":"https://api.github.com/repos/owncloud/core/issues/532/comments","events_url":"https://api.github.com/repos/owncloud/core/issues/532/events","html_url":"https://github.com/owncloud/core/issues/532","id":8509517,"number":532,"title":"all shared files are deleted when upgrading to stable45 e44e3573811b63abd5be529cb733e5c97a39f77f","user":{"login":"halfgaar","id":142686,"avatar_url":"https://gravatar.com/avatar/e51f39b392cd45f42d1a090b99c6943c?d=https%3a%2f%2fidenticons.github.com%2fc93fa7287a68f2b0b2426ee8015bfbc5.png&r=x","gravatar_id":"e51f39b392cd45f42d1a090b99c6943c","url":"https://api.github.com/users/halfgaar","html_url":"https://github.com/halfgaar","followers_url":"https://api.github.com/users/halfgaar/followers","following_url":"https://api.github.com/users/halfgaar/following{/other_user}","gists_url":"https://api.github.com/users/halfgaar/gists{/gist_id}","starred_url":"https://api.github.com/users/halfgaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/halfgaar/subscriptions","organizations_url":"https://api.github.com/users/halfgaar/orgs","repos_url":"https://api.github.com/users/halfgaar/repos","events_url":"https://api.github.com/users/halfgaar/events{/privacy}","received_events_url":"https://api.github.com/users/halfgaar/received_events","type":"user","site_admin":false},"labels":[{"url":"https://api.github.com/repos/owncloud/core/labels/app%3afiles","name":"app:files","color":"02d7e1"},{"url":"https://api.github.com/repos/owncloud/core/labels/bug","name":"bug","color":"fc2929"},{"url":"https://api.github.com/repos/owncloud/core/labels/fixed","name":"fixed","color":"02e10c"},{"url":"https://api.github.com/repos/owncloud/core/labels/sharing","name":"sharing","color":"e102d8"}],"state":"closed","assignee":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false},"milestone":null,"comments":5,"created_at":"2012-11-20t15:55:12z","updated_at":"2012-11-22t10:28:35z","closed_at":"2012-11-22t10:28:35z","pull_request":{"html_url":null,"diff_url":null,"patch_url":null},"body":"i have a test environment, based on branch stable45. i just pulled the latest changes and all my shared files were deleted. i just reconfirmed it by switching from 326496ff808dab5572ec06a8e8a7babe63d0bedb to e44e3573811b63abd5be529cb733e5c97a39f77f.\n\nusing mysql db\n\nsteps:\n* install new stable45 326496ff808dab5572ec06a8e8a7babe63d0bedb\n* create 2 users: sharer and user1\n* login as sharer with webgui.\n* create a map shareme and share it with user1\n* login with user1 with the webgui (this creates /shared)\n* configure the sync client (1.1.1) to sync /shared to some dir on your disk.\n* make dirs and files on local pc and let sync client sync it.\n* look around in webgui; all is well.\n* then upgrade to e44e3573811b63abd5be529cb733e5c97a39f77f\n* put a new file in folder on local pc and let it sync it.\n* all files that were there before are removed.\n\nit also generates errors:\n\n    [tue nov 20 16:48:18 2012] [error] [client 89.188.25.162] php notice:  undefined index: /shared/shareme/img-121116185607-0001.pdf in /var/www/owncloud-stable45/lib/connector/sabre/directory.php on line 149\n    [tue nov 20 16:48:18 2012] [error] [client 89.188.25.162] php notice:  undefined index: /shared/shareme/img-121116185607-0001.pdf in /var/www/owncloud-stable45/lib/connector/sabre/directory.php on line 149","closed_by":{"login":"schiesbn","id":1589737,"avatar_url":"https://gravatar.com/avatar/8912b598c7b32dd25b87fd168e0b06b2?d=https%3a%2f%2fidenticons.github.com%2f0a323047dbe8329db30eae8dbe96e55e.png&r=x","gravatar_id":"8912b598c7b32dd25b87fd168e0b06b2","url":"https://api.github.com/users/schiesbn","html_url":"https://github.com/schiesbn","followers_url":"https://api.github.com/users/schiesbn/followers","following_url":"https://api.github.com/users/schiesbn/following{/other_user}","gists_url":"https://api.github.com/users/schiesbn/gists{/gist_id}","starred_url":"https://api.github.com/users/schiesbn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schiesbn/subscriptions","organizations_url":"https://api.github.com/users/schiesbn/orgs","repos_url":"https://api.github.com/users/schiesbn/repos","events_url":"https://api.github.com/users/schiesbn/events{/privacy}","received_events_url":"https://api.github.com/users/schiesbn/received_events","type":"user","site_admin":false}}